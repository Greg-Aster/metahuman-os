import{S as fs,i as ds,s as vs,n as De,d as i,a as I,b as s,c as n,e as c,f as C,g as j,h as k,P as rl,j as u,k as w,o as ps,l as we,p as Q,q as R,t as U,r as qt,u as bl,v as Tt,z as Ue,x as K,Q as ws,$ as Es,O as Ee,I as zt,J as Yt,a4 as hs,a5 as _s,w as ol,y as ms,m as Hl,V as xs,X as Ut,Y as Bt,H as bs,K as gs,L as Cs,M as ys,a1 as gl}from"./api-config.BAZ_dc_Y.js";import{s as Fl}from"./navigation.BajXnvhT.js";import"./index.enr_Xien.js";function ql(a,e,t){const l=a.slice();return l[20]=e[t],l}function Ps(a){let e;return{c(){e=U("Actions in this section are irreversible and permanently delete user data.")},l(t){e=R(t,"Actions in this section are irreversible and permanently delete user data.")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function Ts(a){let e;return{c(){e=U("Delete your account and all associated data. This action is irreversible.")},l(t){e=R(t,"Delete your account and all associated data. This action is irreversible.")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function Ds(a){let e,t;return{c(){e=u("div"),t=U(a[3]),this.h()},l(l){e=c(l,"DIV",{class:!0});var o=C(e);t=R(o,a[3]),o.forEach(i),this.h()},h(){n(e,"class","error-message svelte-1m0j009")},m(l,o){I(l,e,o),s(e,t)},p(l,o){o&8&&Q(t,l[3])},d(l){l&&i(e)}}}function Ns(a){let e,t="Loading profiles...";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1lk3pqz"&&(e.textContent=t),this.h()},h(){n(e,"class","loading svelte-1m0j009")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function zl(a){let e,t;return{c(){e=u("div"),t=U(a[4]),this.h()},l(l){e=c(l,"DIV",{class:!0});var o=C(e);t=R(o,a[4]),o.forEach(i),this.h()},h(){n(e,"class","success-message svelte-1m0j009")},m(l,o){I(l,e,o),s(e,t)},p(l,o){o&16&&Q(t,l[4])},d(l){l&&i(e)}}}function Yl(a){let e,t,l,o='<tr><th class="svelte-1m0j009">Username</th> <th class="svelte-1m0j009">Display Name</th> <th class="svelte-1m0j009">Role</th> <th class="svelte-1m0j009">Visibility</th> <th class="svelte-1m0j009">Actions</th></tr>',f,r,p=qt(a[0]),d=[];for(let v=0;v<p.length;v+=1)d[v]=Gl(ql(a,p,v));return{c(){e=u("div"),t=u("table"),l=u("thead"),l.innerHTML=o,f=w(),r=u("tbody");for(let v=0;v<d.length;v+=1)d[v].c();this.h()},l(v){e=c(v,"DIV",{class:!0});var T=C(e);t=c(T,"TABLE",{class:!0});var m=C(t);l=c(m,"THEAD",{"data-svelte-h":!0}),j(l)!=="svelte-1l323mw"&&(l.innerHTML=o),f=k(m),r=c(m,"TBODY",{});var h=C(r);for(let y=0;y<d.length;y+=1)d[y].l(h);h.forEach(i),m.forEach(i),T.forEach(i),this.h()},h(){n(t,"class","profile-table svelte-1m0j009"),n(e,"class","profile-table-container svelte-1m0j009")},m(v,T){I(v,e,T),s(e,t),s(t,l),s(t,f),s(t,r);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(r,null)},p(v,T){if(T&12803){p=qt(v[0]);let m;for(m=0;m<p.length;m+=1){const h=ql(v,p,m);d[m]?d[m].p(h,T):(d[m]=Gl(h),d[m].c(),d[m].m(r,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=p.length}},d(v){v&&i(e),bl(d,v)}}}function Ss(a){let e,t=a[20].username===a[1]?.username?"Delete My Account":"Delete Profile",l,o;return{c(){e=u("button"),l=U(t),this.h()},l(f){e=c(f,"BUTTON",{class:!0,title:!0});var r=C(e);l=R(r,t),r.forEach(i),this.h()},h(){n(e,"class","delete-btn svelte-1m0j009"),e.disabled=!0,n(e,"title",o=a[13](a[20]))},m(f,r){I(f,e,r),s(e,l)},p(f,r){r&3&&t!==(t=f[20].username===f[1]?.username?"Delete My Account":"Delete Profile")&&Q(l,t),r&1&&o!==(o=f[13](f[20]))&&n(e,"title",o)},d(f){f&&i(e)}}}function Is(a){let e,t=a[20].username===a[1]?.username?"Delete My Account":"Delete Profile",l,o,f;function r(){return a[16](a[20])}return{c(){e=u("button"),l=U(t),this.h()},l(p){e=c(p,"BUTTON",{class:!0});var d=C(e);l=R(d,t),d.forEach(i),this.h()},h(){n(e,"class","delete-btn svelte-1m0j009")},m(p,d){I(p,e,d),s(e,l),o||(f=K(e,"click",r),o=!0)},p(p,d){a=p,d&3&&t!==(t=a[20].username===a[1]?.username?"Delete My Account":"Delete Profile")&&Q(l,t)},d(p){p&&i(e),o=!1,f()}}}function Gl(a){let e,t,l,o=a[20].username+"",f,r,p,d=a[20].displayName+"",v,T,m,h,y=a[20].role+"",S,E,D,P,x=a[20].visibility+"",b,g,_,V,L;function M(G,F){return F&1&&(V=null),V==null&&(V=!!G[12](G[20])),V?Is:Ss}let A=M(a,-1),B=A(a);return{c(){e=u("tr"),t=u("td"),l=u("strong"),f=U(o),r=w(),p=u("td"),v=U(d),T=w(),m=u("td"),h=u("span"),S=U(y),E=w(),D=u("td"),P=u("span"),b=U(x),g=w(),_=u("td"),B.c(),L=w(),this.h()},l(G){e=c(G,"TR",{});var F=C(e);t=c(F,"TD",{class:!0});var q=C(t);l=c(q,"STRONG",{});var J=C(l);f=R(J,o),J.forEach(i),q.forEach(i),r=k(F),p=c(F,"TD",{class:!0});var $=C(p);v=R($,d),$.forEach(i),T=k(F),m=c(F,"TD",{class:!0});var ue=C(m);h=c(ue,"SPAN",{class:!0});var se=C(h);S=R(se,y),se.forEach(i),ue.forEach(i),E=k(F),D=c(F,"TD",{class:!0});var ae=C(D);P=c(ae,"SPAN",{class:!0});var ve=C(P);b=R(ve,x),ve.forEach(i),ae.forEach(i),g=k(F),_=c(F,"TD",{class:!0});var ne=C(_);B.l(ne),ne.forEach(i),L=k(F),F.forEach(i),this.h()},h(){n(t,"class","svelte-1m0j009"),n(p,"class","svelte-1m0j009"),n(h,"class","role-badge svelte-1m0j009"),Ee(h,"role-owner",a[20].role==="owner"),n(m,"class","svelte-1m0j009"),n(P,"class","visibility-badge svelte-1m0j009"),Ee(P,"visibility-public",a[20].visibility==="public"),n(D,"class","svelte-1m0j009"),n(_,"class","svelte-1m0j009")},m(G,F){I(G,e,F),s(e,t),s(t,l),s(l,f),s(e,r),s(e,p),s(p,v),s(e,T),s(e,m),s(m,h),s(h,S),s(e,E),s(e,D),s(D,P),s(P,b),s(e,g),s(e,_),B.m(_,null),s(e,L)},p(G,F){F&1&&o!==(o=G[20].username+"")&&Q(f,o),F&1&&d!==(d=G[20].displayName+"")&&Q(v,d),F&1&&y!==(y=G[20].role+"")&&Q(S,y),F&1&&Ee(h,"role-owner",G[20].role==="owner"),F&1&&x!==(x=G[20].visibility+"")&&Q(b,x),F&1&&Ee(P,"visibility-public",G[20].visibility==="public"),A===(A=M(G,F))&&B?B.p(G,F):(B.d(1),B=A(G),B&&(B.c(),B.m(_,null)))},d(G){G&&i(e),B.d()}}}function Jl(a){let e,t,l,o="‚ö†Ô∏è Delete Profile",f,r,p,d,v=a[6].username+"",T,m,h,y,S,E="<strong>This action will:</strong>",D,P,x,b="Terminate all active sessions for this user",g,_,V="Remove the user account from the system",L,M,A,B,G,F=a[6].username+"",q,J,$,ue,se,ae="Delete all memories, tasks, configurations, and persona data",ve,ne,he="‚ö†Ô∏è <strong>This action is irreversible</strong>",_e,pe,oe,Oe,ce,fe=a[6].username+"",Y,X,ee,Z,be,Re,xe,te,Be,ft,ye,Ve=a[8]?"Deleting...":"Delete Profile",Ne,Pe,Ae,ke,re=a[3]&&Wl(a);return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=o,f=w(),r=u("p"),p=U("You are about to permanently delete the profile for "),d=u("strong"),T=U(v),m=U("."),h=w(),y=u("div"),S=u("p"),S.innerHTML=E,D=w(),P=u("ul"),x=u("li"),x.textContent=b,g=w(),_=u("li"),_.textContent=V,L=w(),M=u("li"),A=U("Permanently delete the "),B=u("code"),G=U("profiles/"),q=U(F),J=U("/"),$=U(" directory"),ue=w(),se=u("li"),se.textContent=ae,ve=w(),ne=u("p"),ne.innerHTML=he,_e=w(),pe=u("div"),oe=u("label"),Oe=U("Type "),ce=u("strong"),Y=U(fe),X=U(" to confirm:"),ee=w(),Z=u("input"),be=w(),re&&re.c(),Re=w(),xe=u("div"),te=u("button"),Be=U("Cancel"),ft=w(),ye=u("button"),Ne=U(Ve),this.h()},l(ie){e=c(ie,"DIV",{class:!0});var de=C(e);t=c(de,"DIV",{class:!0});var me=C(t);l=c(me,"H3",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1oa7bgp"&&(l.textContent=o),f=k(me),r=c(me,"P",{class:!0});var He=C(r);p=R(He,"You are about to permanently delete the profile for "),d=c(He,"STRONG",{});var Se=C(d);T=R(Se,v),Se.forEach(i),m=R(He,"."),He.forEach(i),h=k(me),y=c(me,"DIV",{class:!0});var Me=C(y);S=c(Me,"P",{class:!0,"data-svelte-h":!0}),j(S)!=="svelte-11gzosx"&&(S.innerHTML=E),D=k(Me),P=c(Me,"UL",{class:!0});var ge=C(P);x=c(ge,"LI",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-18oep7v"&&(x.textContent=b),g=k(ge),_=c(ge,"LI",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1nm70xp"&&(_.textContent=V),L=k(ge),M=c(ge,"LI",{class:!0});var st=C(M);A=R(st,"Permanently delete the "),B=c(st,"CODE",{class:!0});var at=C(B);G=R(at,"profiles/"),q=R(at,F),J=R(at,"/"),at.forEach(i),$=R(st," directory"),st.forEach(i),ue=k(ge),se=c(ge,"LI",{class:!0,"data-svelte-h":!0}),j(se)!=="svelte-20ou6n"&&(se.textContent=ae),ge.forEach(i),ve=k(Me),ne=c(Me,"P",{class:!0,"data-svelte-h":!0}),j(ne)!=="svelte-1x8x9c2"&&(ne.innerHTML=he),Me.forEach(i),_e=k(me),pe=c(me,"DIV",{class:!0});var Ie=C(pe);oe=c(Ie,"LABEL",{for:!0,class:!0});var ct=C(oe);Oe=R(ct,"Type "),ce=c(ct,"STRONG",{});var nt=C(ce);Y=R(nt,fe),nt.forEach(i),X=R(ct," to confirm:"),ct.forEach(i),ee=k(Ie),Z=c(Ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Ie.forEach(i),be=k(me),re&&re.l(me),Re=k(me),xe=c(me,"DIV",{class:!0});var Le=C(xe);te=c(Le,"BUTTON",{class:!0});var W=C(te);Be=R(W,"Cancel"),W.forEach(i),ft=k(Le),ye=c(Le,"BUTTON",{class:!0});var le=C(ye);Ne=R(le,Ve),le.forEach(i),Le.forEach(i),me.forEach(i),de.forEach(i),this.h()},h(){n(l,"class","svelte-1m0j009"),n(r,"class","modal-warning svelte-1m0j009"),n(S,"class","svelte-1m0j009"),n(x,"class","svelte-1m0j009"),n(_,"class","svelte-1m0j009"),n(B,"class","svelte-1m0j009"),n(M,"class","svelte-1m0j009"),n(se,"class","svelte-1m0j009"),n(P,"class","svelte-1m0j009"),n(ne,"class","irreversible-warning svelte-1m0j009"),n(y,"class","modal-details svelte-1m0j009"),n(oe,"for","confirm-username"),n(oe,"class","svelte-1m0j009"),n(Z,"id","confirm-username"),n(Z,"type","text"),n(Z,"placeholder","Enter username to confirm"),Z.disabled=a[8],n(Z,"class","svelte-1m0j009"),n(pe,"class","confirmation-section svelte-1m0j009"),n(te,"class","btn-cancel svelte-1m0j009"),te.disabled=a[8],n(ye,"class","btn-delete-confirm svelte-1m0j009"),ye.disabled=Pe=a[8]||a[7]!==a[6].username,n(xe,"class","modal-actions svelte-1m0j009"),n(t,"class","modal-content svelte-1m0j009"),n(e,"class","modal-overlay svelte-1m0j009")},m(ie,de){I(ie,e,de),s(e,t),s(t,l),s(t,f),s(t,r),s(r,p),s(r,d),s(d,T),s(r,m),s(t,h),s(t,y),s(y,S),s(y,D),s(y,P),s(P,x),s(P,g),s(P,_),s(P,L),s(P,M),s(M,A),s(M,B),s(B,G),s(B,q),s(B,J),s(M,$),s(P,ue),s(P,se),s(y,ve),s(y,ne),s(t,_e),s(t,pe),s(pe,oe),s(oe,Oe),s(oe,ce),s(ce,Y),s(oe,X),s(pe,ee),s(pe,Z),Ue(Z,a[7]),s(t,be),re&&re.m(t,null),s(t,Re),s(t,xe),s(xe,te),s(te,Be),s(xe,ft),s(xe,ye),s(ye,Ne),Ae||(ke=[K(Z,"input",a[17]),K(te,"click",a[10]),K(ye,"click",a[11]),K(t,"click",ws(a[15])),K(e,"click",a[10])],Ae=!0)},p(ie,de){de&64&&v!==(v=ie[6].username+"")&&Q(T,v),de&64&&F!==(F=ie[6].username+"")&&Q(q,F),de&64&&fe!==(fe=ie[6].username+"")&&Q(Y,fe),de&256&&(Z.disabled=ie[8]),de&128&&Z.value!==ie[7]&&Ue(Z,ie[7]),ie[3]?re?re.p(ie,de):(re=Wl(ie),re.c(),re.m(t,Re)):re&&(re.d(1),re=null),de&256&&(te.disabled=ie[8]),de&256&&Ve!==(Ve=ie[8]?"Deleting...":"Delete Profile")&&Q(Ne,Ve),de&448&&Pe!==(Pe=ie[8]||ie[7]!==ie[6].username)&&(ye.disabled=Pe)},d(ie){ie&&i(e),re&&re.d(),Ae=!1,Tt(ke)}}}function Wl(a){let e,t;return{c(){e=u("div"),t=U(a[3]),this.h()},l(l){e=c(l,"DIV",{class:!0});var o=C(e);t=R(o,a[3]),o.forEach(i),this.h()},h(){n(e,"class","error-message svelte-1m0j009")},m(l,o){I(l,e,o),s(e,t)},p(l,o){o&8&&Q(t,l[3])},d(l){l&&i(e)}}}function Ls(a){let e,t,l="‚ö†Ô∏è Danger Zone",o,f,r,p,d,v,T;function m(g,_){return g[1]?.role==="standard"?Ts:Ps}let h=m(a),y=h(a);function S(g,_){if(g[2])return Ns;if(g[3]&&!g[4])return Ds}let E=S(a),D=E&&E(a),P=a[4]&&zl(a),x=!a[2]&&a[0].length>0&&Yl(a),b=a[5]&&a[6]&&Jl(a);return{c(){e=u("div"),t=u("h2"),t.textContent=l,o=w(),f=u("p"),y.c(),r=w(),D&&D.c(),p=w(),P&&P.c(),d=w(),x&&x.c(),v=w(),b&&b.c(),T=rl(),this.h()},l(g){e=c(g,"DIV",{class:!0});var _=C(e);t=c(_,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-gy5qzk"&&(t.textContent=l),o=k(_),f=c(_,"P",{class:!0});var V=C(f);y.l(V),V.forEach(i),r=k(_),D&&D.l(_),p=k(_),P&&P.l(_),d=k(_),x&&x.l(_),_.forEach(i),v=k(g),b&&b.l(g),T=rl(),this.h()},h(){n(t,"class","svelte-1m0j009"),n(f,"class","warning-text svelte-1m0j009"),n(e,"class","danger-zone svelte-1m0j009")},m(g,_){I(g,e,_),s(e,t),s(e,o),s(e,f),y.m(f,null),s(e,r),D&&D.m(e,null),s(e,p),P&&P.m(e,null),s(e,d),x&&x.m(e,null),I(g,v,_),b&&b.m(g,_),I(g,T,_)},p(g,[_]){h!==(h=m(g))&&(y.d(1),y=h(g),y&&(y.c(),y.m(f,null))),E===(E=S(g))&&D?D.p(g,_):(D&&D.d(1),D=E&&E(g),D&&(D.c(),D.m(e,p))),g[4]?P?P.p(g,_):(P=zl(g),P.c(),P.m(e,d)):P&&(P.d(1),P=null),!g[2]&&g[0].length>0?x?x.p(g,_):(x=Yl(g),x.c(),x.m(e,null)):x&&(x.d(1),x=null),g[5]&&g[6]?b?b.p(g,_):(b=Jl(g),b.c(),b.m(T.parentNode,T)):b&&(b.d(1),b=null)},i:De,o:De,d(g){g&&(i(e),i(v),i(T)),y.d(),D&&D.d(),P&&P.d(),x&&x.d(),b&&b.d(g)}}}function js(a,e,t){let l=[],o=null,f=!0,r="",p="";async function d(){await S()}let v=!1,T=null,m="",h=!1;ps(async()=>{await y(),await S()});async function y(){try{const M=await(await we("/api/auth/me")).json();M.success&&M.user&&t(1,o={username:M.user.username,role:M.user.role})}catch(L){console.error("Failed to load current user:",L)}}async function S(){t(2,f=!0),t(3,r="");try{const M=await(await we("/api/profiles/list")).json();if(M.success){let A=M.profiles.filter(B=>B.username!=="mutant-super-intelligence");o?.role==="standard"&&o.username&&(A=A.filter(B=>B.username===o?.username)),t(0,l=A)}else t(3,r=M.error||"Failed to load profiles")}catch(L){t(3,r=L instanceof Error?L.message:"Failed to load profiles"),console.error(L)}finally{t(2,f=!1)}}function E(L){t(6,T=L),t(7,m=""),t(5,v=!0),t(3,r=""),t(4,p="")}function D(){t(5,v=!1),t(6,T=null),t(7,m="")}async function P(){if(T){if(m!==T.username){t(3,r="Confirmation username does not match");return}t(8,h=!0),t(3,r=""),t(4,p="");try{const M=await(await we("/api/profiles/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:T.username,confirmUsername:m})})).json();if(M.success){t(4,p=`Profile '${T.username}' has been deleted successfully. ${M.details.sessionsDeleted} session(s) terminated.`);const A=T.username===o?.username;D(),A?setTimeout(()=>{window.location.href="/"},2e3):await S()}else t(3,r=M.error||"Failed to delete profile")}catch(L){t(3,r=L instanceof Error?L.message:"Failed to delete profile"),console.error(L)}finally{t(8,h=!1)}}}function x(L){return o?o.role==="owner"?!(L.role==="owner"||L.username===o.username||L.username==="guest"):o.role==="standard"?L.username===o.username:!1:!1}function b(L){if(!o)return"Not authenticated";if(o.role==="owner"){if(L.role==="owner")return"Cannot delete owner account";if(L.username===o.username)return"Cannot delete your own account as owner";if(L.username==="guest")return"Cannot delete guest profile"}return o.role==="standard"&&L.username!==o.username?"Can only delete your own account":o.role==="guest"?"Guests cannot delete profiles":"Not authorized"}function g(L){Es.call(this,a,L)}const _=L=>E(L);function V(){m=this.value,t(7,m)}return[l,o,f,r,p,v,T,m,h,E,D,P,x,b,d,g,_,V]}class ks extends fs{constructor(e){super(),ds(this,e,js,Ls,vs,{refreshProfiles:14})}get refreshProfiles(){return this.$$.ctx[14]}}function Zl(a,e,t){const l=a.slice();return l[88]=e[t],l}function Kl(a,e,t){const l=a.slice();return l[91]=e[t],l[93]=t,l}function Vs(a){let e,t,l,o,f="Account Information",r,p,d,v,T="Username:",m,h,y=a[0].username+"",S,E,D,P,x="Role:",b,g,_=a[0].role+"",V,L,M,A,B,G,F,q,J="Change Username",$,ue,se,ae,ve="Change Password",ne,he,_e,pe,oe="üîë Recovery Codes",Oe,ce,fe="Use recovery codes to reset your password if you forget it. Each code can only be used once.",Y,X,ee,Z,be="Profile Information",Re,xe,te,Be,ft="üåê Remote Access",ye,Ve,Ne="Enable the Cloudflare tunnel to allow secure remote connections back to your MetaHuman node.",Pe,Ae,ke,re,ie=a[25]?"Working...":"Enable Tunnel",de,me,He,Se,Me=a[25]?"Working...":"Disable Tunnel",ge,st,at,Ie,ct,nt,Le,W,le="Need to start or stop the process? Use the Network tab for full Cloudflare controls.",pt,$e,Te,rt,ht="‚ö†Ô∏è Danger Zone",Dt,ot,_t="Critical operations that can permanently affect your account, data, and system configuration. Proceed with caution.",Nt,je,Fe,Lt="üåç Profile Visibility",dt,vt,Jt="Control who can view your profile as a guest user",O,H,Ce,qe,Gt="üîí Private - Owner only",mt,Cl="üåç Public - Anyone (including anonymous)",il,cl,jt,ze,Ye,ul,Wt,Pt,Vt,yl="Security Information",fl,et,At,kl="Your password is hashed and never stored in plain text",dl,Mt,wl="Session cookies are HTTPOnly and secure",vl,Ot,El="Owner sessions last 24 hours, guest sessions last 1 hour",pl,Rt,xl="Clear your browser cookies to log out from all devices",hl,ut,_l,Pl,Ge=a[2]&&Ql(a),Je=a[3]&&Xl(a),We=a[0].metadata?.displayName&&$l(a),Ze=a[0].metadata?.email&&es(a),Ke=a[0].createdAt&&ts(a);function Tl(N,z){return N[4]?Os:Rs}let Zt=Tl(a),bt=Zt(a);function Dl(N,z){return N[7]?Us:Bs}let Kt=Dl(a),gt=Kt(a);function Nl(N,z){return N[19]?Fs:Hs}let Qt=Nl(a),Ct=Qt(a);function Sl(N,z){return N[12]?Js:Ws}let Xt=Sl(a),yt=Xt(a);function Il(N,z){return N[24]&&!N[23]?Qs:N[23]?Ks:Zs}let $t=Il(a),kt=$t(a),Qe=a[0].role==="owner"&&ns(a),tt=a[16]==="public"&&is();const Ll=[_a,ha],St=[];function jl(N,z){return N[0].role==="owner"?0:N[0].role==="standard"?1:-1}~(ze=jl(a))&&(Ye=St[ze]=Ll[ze](a));let Xe=a[0].role==="owner"&&cs(a),lt=a[0].role==="owner"&&us();return{c(){Ge&&Ge.c(),e=w(),Je&&Je.c(),t=w(),l=u("div"),o=u("h2"),o.textContent=f,r=w(),p=u("div"),d=u("div"),v=u("span"),v.textContent=T,m=w(),h=u("span"),S=U(y),E=w(),D=u("div"),P=u("span"),P.textContent=x,b=w(),g=u("span"),V=U(_),M=w(),We&&We.c(),A=w(),Ze&&Ze.c(),B=w(),Ke&&Ke.c(),G=w(),F=u("div"),q=u("h2"),q.textContent=J,$=w(),bt.c(),ue=w(),se=u("div"),ae=u("h2"),ae.textContent=ve,ne=w(),gt.c(),he=w(),_e=u("div"),pe=u("h2"),pe.textContent=oe,Oe=w(),ce=u("p"),ce.textContent=fe,Y=w(),Ct.c(),X=w(),ee=u("div"),Z=u("h2"),Z.textContent=be,Re=w(),yt.c(),xe=w(),te=u("div"),Be=u("h2"),Be.textContent=ft,ye=w(),Ve=u("p"),Ve.textContent=Ne,Pe=w(),kt.c(),Ae=w(),ke=u("div"),re=u("button"),de=U(ie),He=w(),Se=u("button"),ge=U(Me),at=w(),Ie=u("button"),ct=U("Refresh Status"),Le=w(),W=u("p"),W.textContent=le,pt=w(),Qe&&Qe.c(),$e=w(),Te=u("div"),rt=u("h2"),rt.textContent=ht,Dt=w(),ot=u("p"),ot.textContent=_t,Nt=w(),je=u("div"),Fe=u("h3"),Fe.textContent=Lt,dt=w(),vt=u("p"),vt.textContent=Jt,O=w(),H=u("div"),Ce=u("select"),qe=u("option"),qe.textContent=Gt,mt=u("option"),mt.textContent=Cl,il=w(),tt&&tt.c(),cl=w(),jt=u("div"),Ye&&Ye.c(),ul=w(),Xe&&Xe.c(),Wt=w(),Pt=u("div"),Vt=u("h2"),Vt.textContent=yl,fl=w(),et=u("ul"),At=u("li"),At.textContent=kl,dl=w(),Mt=u("li"),Mt.textContent=wl,vl=w(),Ot=u("li"),Ot.textContent=El,pl=w(),Rt=u("li"),Rt.textContent=xl,hl=w(),lt&&lt.c(),this.h()},l(N){Ge&&Ge.l(N),e=k(N),Je&&Je.l(N),t=k(N),l=c(N,"DIV",{class:!0});var z=C(l);o=c(z,"H2",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-qmugit"&&(o.textContent=f),r=k(z),p=c(z,"DIV",{class:!0});var it=C(p);d=c(it,"DIV",{class:!0});var el=C(d);v=c(el,"SPAN",{class:!0,"data-svelte-h":!0}),j(v)!=="svelte-77eav5"&&(v.textContent=T),m=k(el),h=c(el,"SPAN",{class:!0});var Vl=C(h);S=R(Vl,y),Vl.forEach(i),el.forEach(i),E=k(it),D=c(it,"DIV",{class:!0});var tl=C(D);P=c(tl,"SPAN",{class:!0,"data-svelte-h":!0}),j(P)!=="svelte-h4e1k1"&&(P.textContent=x),b=k(tl),g=c(tl,"SPAN",{class:!0});var Al=C(g);V=R(Al,_),Al.forEach(i),tl.forEach(i),M=k(it),We&&We.l(it),A=k(it),Ze&&Ze.l(it),B=k(it),Ke&&Ke.l(it),it.forEach(i),z.forEach(i),G=k(N),F=c(N,"DIV",{class:!0});var ll=C(F);q=c(ll,"H2",{class:!0,"data-svelte-h":!0}),j(q)!=="svelte-1pqqmj2"&&(q.textContent=J),$=k(ll),bt.l(ll),ll.forEach(i),ue=k(N),se=c(N,"DIV",{class:!0});var sl=C(se);ae=c(sl,"H2",{class:!0,"data-svelte-h":!0}),j(ae)!=="svelte-k89wqh"&&(ae.textContent=ve),ne=k(sl),gt.l(sl),sl.forEach(i),he=k(N),_e=c(N,"DIV",{class:!0});var Ht=C(_e);pe=c(Ht,"H2",{class:!0,"data-svelte-h":!0}),j(pe)!=="svelte-1w5x4n"&&(pe.textContent=oe),Oe=k(Ht),ce=c(Ht,"P",{class:!0,"data-svelte-h":!0}),j(ce)!=="svelte-iirefx"&&(ce.textContent=fe),Y=k(Ht),Ct.l(Ht),Ht.forEach(i),X=k(N),ee=c(N,"DIV",{class:!0});var al=C(ee);Z=c(al,"H2",{class:!0,"data-svelte-h":!0}),j(Z)!=="svelte-tm92k3"&&(Z.textContent=be),Re=k(al),yt.l(al),al.forEach(i),xe=k(N),te=c(N,"DIV",{class:!0});var wt=C(te);Be=c(wt,"H2",{class:!0,"data-svelte-h":!0}),j(Be)!=="svelte-11x081m"&&(Be.textContent=ft),ye=k(wt),Ve=c(wt,"P",{class:!0,"data-svelte-h":!0}),j(Ve)!=="svelte-mkdi44"&&(Ve.textContent=Ne),Pe=k(wt),kt.l(wt),Ae=k(wt),ke=c(wt,"DIV",{class:!0});var Ft=C(ke);re=c(Ft,"BUTTON",{type:!0,class:!0});var Ml=C(re);de=R(Ml,ie),Ml.forEach(i),He=k(Ft),Se=c(Ft,"BUTTON",{type:!0,class:!0});var Ol=C(Se);ge=R(Ol,Me),Ol.forEach(i),at=k(Ft),Ie=c(Ft,"BUTTON",{type:!0,class:!0});var Rl=C(Ie);ct=R(Rl,"Refresh Status"),Rl.forEach(i),Ft.forEach(i),Le=k(wt),W=c(wt,"P",{class:!0,"data-svelte-h":!0}),j(W)!=="svelte-6lx8qe"&&(W.textContent=le),wt.forEach(i),pt=k(N),Qe&&Qe.l(N),$e=k(N),Te=c(N,"DIV",{class:!0});var Et=C(Te);rt=c(Et,"H2",{class:!0,"data-svelte-h":!0}),j(rt)!=="svelte-gy5qzk"&&(rt.textContent=ht),Dt=k(Et),ot=c(Et,"P",{class:!0,"data-svelte-h":!0}),j(ot)!=="svelte-lvukui"&&(ot.textContent=_t),Nt=k(Et),je=c(Et,"DIV",{class:!0});var It=C(je);Fe=c(It,"H3",{class:!0,"data-svelte-h":!0}),j(Fe)!=="svelte-lfpuew"&&(Fe.textContent=Lt),dt=k(It),vt=c(It,"P",{class:!0,"data-svelte-h":!0}),j(vt)!=="svelte-f6z6t0"&&(vt.textContent=Jt),O=k(It),H=c(It,"DIV",{class:!0});var Ul=C(H);Ce=c(Ul,"SELECT",{class:!0});var ml=C(Ce);qe=c(ml,"OPTION",{"data-svelte-h":!0}),j(qe)!=="svelte-v44wlf"&&(qe.textContent=Gt),mt=c(ml,"OPTION",{"data-svelte-h":!0}),j(mt)!=="svelte-1isw29r"&&(mt.textContent=Cl),ml.forEach(i),Ul.forEach(i),il=k(It),tt&&tt.l(It),It.forEach(i),cl=k(Et),jt=c(Et,"DIV",{class:!0});var Bl=C(jt);Ye&&Ye.l(Bl),Bl.forEach(i),ul=k(Et),Xe&&Xe.l(Et),Et.forEach(i),Wt=k(N),Pt=c(N,"DIV",{class:!0});var nl=C(Pt);Vt=c(nl,"H2",{class:!0,"data-svelte-h":!0}),j(Vt)!=="svelte-n99qmu"&&(Vt.textContent=yl),fl=k(nl),et=c(nl,"UL",{class:!0});var xt=C(et);At=c(xt,"LI",{class:!0,"data-svelte-h":!0}),j(At)!=="svelte-90v1un"&&(At.textContent=kl),dl=k(xt),Mt=c(xt,"LI",{class:!0,"data-svelte-h":!0}),j(Mt)!=="svelte-3uw4p1"&&(Mt.textContent=wl),vl=k(xt),Ot=c(xt,"LI",{class:!0,"data-svelte-h":!0}),j(Ot)!=="svelte-ip4e63"&&(Ot.textContent=El),pl=k(xt),Rt=c(xt,"LI",{class:!0,"data-svelte-h":!0}),j(Rt)!=="svelte-32uicu"&&(Rt.textContent=xl),hl=k(xt),lt&&lt.l(xt),xt.forEach(i),nl.forEach(i),this.h()},h(){n(o,"class","svelte-1c4vxap"),n(v,"class","label svelte-1c4vxap"),n(h,"class","value svelte-1c4vxap"),n(d,"class","info-row svelte-1c4vxap"),n(P,"class","label svelte-1c4vxap"),n(g,"class",L="value role-badge role-"+a[0].role+" svelte-1c4vxap"),n(D,"class","info-row svelte-1c4vxap"),n(p,"class","user-info-grid svelte-1c4vxap"),n(l,"class","card svelte-1c4vxap"),n(q,"class","svelte-1c4vxap"),n(F,"class","card svelte-1c4vxap"),n(ae,"class","svelte-1c4vxap"),n(se,"class","card svelte-1c4vxap"),n(pe,"class","svelte-1c4vxap"),n(ce,"class","svelte-1c4vxap"),n(_e,"class","card svelte-1c4vxap"),n(Z,"class","svelte-1c4vxap"),n(ee,"class","card svelte-1c4vxap"),n(Be,"class","svelte-1c4vxap"),n(Ve,"class","svelte-1c4vxap"),n(re,"type","button"),n(re,"class","btn btn-primary svelte-1c4vxap"),re.disabled=me=a[25]||a[24]||!a[23]||a[23].enabled||!a[23].installed,n(Se,"type","button"),n(Se,"class","btn btn-secondary svelte-1c4vxap"),Se.disabled=st=a[25]||a[24]||!a[23]||!a[23].enabled,n(Ie,"type","button"),n(Ie,"class","btn btn-secondary btn-ghost svelte-1c4vxap"),Ie.disabled=nt=a[24]||a[25],n(ke,"class","remote-actions svelte-1c4vxap"),n(W,"class","helper-text svelte-1c4vxap"),n(te,"class","card svelte-1c4vxap"),n(rt,"class","svelte-1c4vxap"),n(ot,"class","danger-description svelte-1c4vxap"),n(Fe,"class","svelte-1c4vxap"),n(vt,"class","svelte-1c4vxap"),qe.__value="private",Ue(qe,qe.__value),mt.__value="public",Ue(mt,mt.__value),Ce.disabled=a[17],n(Ce,"class","visibility-select svelte-1c4vxap"),a[16]===void 0&&ms(()=>a[79].call(Ce)),n(H,"class","form-group svelte-1c4vxap"),n(je,"class","danger-section svelte-1c4vxap"),n(jt,"class","danger-section svelte-1c4vxap"),n(Te,"class","card danger-card svelte-1c4vxap"),n(Vt,"class","svelte-1c4vxap"),n(At,"class","svelte-1c4vxap"),n(Mt,"class","svelte-1c4vxap"),n(Ot,"class","svelte-1c4vxap"),n(Rt,"class","svelte-1c4vxap"),n(et,"class","svelte-1c4vxap"),n(Pt,"class","card info-card svelte-1c4vxap")},m(N,z){Ge&&Ge.m(N,z),I(N,e,z),Je&&Je.m(N,z),I(N,t,z),I(N,l,z),s(l,o),s(l,r),s(l,p),s(p,d),s(d,v),s(d,m),s(d,h),s(h,S),s(p,E),s(p,D),s(D,P),s(D,b),s(D,g),s(g,V),s(p,M),We&&We.m(p,null),s(p,A),Ze&&Ze.m(p,null),s(p,B),Ke&&Ke.m(p,null),I(N,G,z),I(N,F,z),s(F,q),s(F,$),bt.m(F,null),I(N,ue,z),I(N,se,z),s(se,ae),s(se,ne),gt.m(se,null),I(N,he,z),I(N,_e,z),s(_e,pe),s(_e,Oe),s(_e,ce),s(_e,Y),Ct.m(_e,null),I(N,X,z),I(N,ee,z),s(ee,Z),s(ee,Re),yt.m(ee,null),I(N,xe,z),I(N,te,z),s(te,Be),s(te,ye),s(te,Ve),s(te,Pe),kt.m(te,null),s(te,Ae),s(te,ke),s(ke,re),s(re,de),s(ke,He),s(ke,Se),s(Se,ge),s(ke,at),s(ke,Ie),s(Ie,ct),s(te,Le),s(te,W),I(N,pt,z),Qe&&Qe.m(N,z),I(N,$e,z),I(N,Te,z),s(Te,rt),s(Te,Dt),s(Te,ot),s(Te,Nt),s(Te,je),s(je,Fe),s(je,dt),s(je,vt),s(je,O),s(je,H),s(H,Ce),s(Ce,qe),s(Ce,mt),ol(Ce,a[16],!0),s(je,il),tt&&tt.m(je,null),s(Te,cl),s(Te,jt),~ze&&St[ze].m(jt,null),s(Te,ul),Xe&&Xe.m(Te,null),I(N,Wt,z),I(N,Pt,z),s(Pt,Vt),s(Pt,fl),s(Pt,et),s(et,At),s(et,dl),s(et,Mt),s(et,vl),s(et,Ot),s(et,pl),s(et,Rt),s(et,hl),lt&&lt.m(et,null),ut=!0,_l||(Pl=[K(re,"click",a[72]),K(Se,"click",a[73]),K(Ie,"click",a[48]),K(Ce,"change",a[79]),K(Ce,"change",a[47])],_l=!0)},p(N,z){N[2]?Ge?Ge.p(N,z):(Ge=Ql(N),Ge.c(),Ge.m(e.parentNode,e)):Ge&&(Ge.d(1),Ge=null),N[3]?Je?Je.p(N,z):(Je=Xl(N),Je.c(),Je.m(t.parentNode,t)):Je&&(Je.d(1),Je=null),(!ut||z[0]&1)&&y!==(y=N[0].username+"")&&Q(S,y),(!ut||z[0]&1)&&_!==(_=N[0].role+"")&&Q(V,_),(!ut||z[0]&1&&L!==(L="value role-badge role-"+N[0].role+" svelte-1c4vxap"))&&n(g,"class",L),N[0].metadata?.displayName?We?We.p(N,z):(We=$l(N),We.c(),We.m(p,A)):We&&(We.d(1),We=null),N[0].metadata?.email?Ze?Ze.p(N,z):(Ze=es(N),Ze.c(),Ze.m(p,B)):Ze&&(Ze.d(1),Ze=null),N[0].createdAt?Ke?Ke.p(N,z):(Ke=ts(N),Ke.c(),Ke.m(p,null)):Ke&&(Ke.d(1),Ke=null),Zt===(Zt=Tl(N))&&bt?bt.p(N,z):(bt.d(1),bt=Zt(N),bt&&(bt.c(),bt.m(F,null))),Kt===(Kt=Dl(N))&&gt?gt.p(N,z):(gt.d(1),gt=Kt(N),gt&&(gt.c(),gt.m(se,null))),Qt===(Qt=Nl(N))&&Ct?Ct.p(N,z):(Ct.d(1),Ct=Qt(N),Ct&&(Ct.c(),Ct.m(_e,null))),Xt===(Xt=Sl(N))&&yt?yt.p(N,z):(yt.d(1),yt=Xt(N),yt&&(yt.c(),yt.m(ee,null))),$t===($t=Il(N))&&kt?kt.p(N,z):(kt.d(1),kt=$t(N),kt&&(kt.c(),kt.m(te,Ae))),(!ut||z[0]&33554432)&&ie!==(ie=N[25]?"Working...":"Enable Tunnel")&&Q(de,ie),(!ut||z[0]&58720256&&me!==(me=N[25]||N[24]||!N[23]||N[23].enabled||!N[23].installed))&&(re.disabled=me),(!ut||z[0]&33554432)&&Me!==(Me=N[25]?"Working...":"Disable Tunnel")&&Q(ge,Me),(!ut||z[0]&58720256&&st!==(st=N[25]||N[24]||!N[23]||!N[23].enabled))&&(Se.disabled=st),(!ut||z[0]&50331648&&nt!==(nt=N[24]||N[25]))&&(Ie.disabled=nt),N[0].role==="owner"?Qe?Qe.p(N,z):(Qe=ns(N),Qe.c(),Qe.m($e.parentNode,$e)):Qe&&(Qe.d(1),Qe=null),(!ut||z[0]&131072)&&(Ce.disabled=N[17]),z[0]&65536&&ol(Ce,N[16]),N[16]==="public"?tt||(tt=is(),tt.c(),tt.m(je,null)):tt&&(tt.d(1),tt=null);let it=ze;ze=jl(N),ze===it?~ze&&St[ze].p(N,z):(Ye&&(hs(),zt(St[it],1,1,()=>{St[it]=null}),_s()),~ze?(Ye=St[ze],Ye?Ye.p(N,z):(Ye=St[ze]=Ll[ze](N),Ye.c()),Yt(Ye,1),Ye.m(jt,null)):Ye=null),N[0].role==="owner"?Xe?Xe.p(N,z):(Xe=cs(N),Xe.c(),Xe.m(Te,null)):Xe&&(Xe.d(1),Xe=null),N[0].role==="owner"?lt||(lt=us(),lt.c(),lt.m(et,null)):lt&&(lt.d(1),lt=null)},i(N){ut||(Yt(Ye),ut=!0)},o(N){zt(Ye),ut=!1},d(N){N&&(i(e),i(t),i(l),i(G),i(F),i(ue),i(se),i(he),i(_e),i(X),i(ee),i(xe),i(te),i(pt),i($e),i(Te),i(Wt),i(Pt)),Ge&&Ge.d(N),Je&&Je.d(N),We&&We.d(),Ze&&Ze.d(),Ke&&Ke.d(),bt.d(),gt.d(),Ct.d(),yt.d(),kt.d(),Qe&&Qe.d(N),tt&&tt.d(),~ze&&St[ze].d(),Xe&&Xe.d(),lt&&lt.d(),_l=!1,Tt(Pl)}}}function As(a){let e,t='<svg class="w-16 h-16 text-gray-400 dark:text-gray-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> <h2 class="svelte-1c4vxap">Authentication Required</h2> <p class="svelte-1c4vxap">Please login to access security settings</p> <a href="/" class="login-button svelte-1c4vxap">Go to Login</a>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-9y1ngw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","not-authenticated svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,i:De,o:De,d(l){l&&i(e)}}}function Ms(a){let e,t='<div class="spinner svelte-1c4vxap"></div> <p class="svelte-1c4vxap">Loading account information...</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ctpt64"&&(e.innerHTML=t),this.h()},h(){n(e,"class","loading-state svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,i:De,o:De,d(l){l&&i(e)}}}function Ql(a){let e,t,l,o,f,r,p,d,v="√ó",T,m;return{c(){e=u("div"),t=Bt("svg"),l=Bt("path"),o=w(),f=u("span"),r=U(a[2]),p=w(),d=u("button"),d.textContent=v,this.h()},l(h){e=c(h,"DIV",{class:!0});var y=C(e);t=Ut(y,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var S=C(t);l=Ut(S,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(l).forEach(i),S.forEach(i),o=k(y),f=c(y,"SPAN",{});var E=C(f);r=R(E,a[2]),E.forEach(i),p=k(y),d=c(y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-6xkgps"&&(d.textContent=v),y.forEach(i),this.h()},h(){n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"stroke-width","2"),n(l,"d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),n(t,"class","w-5 h-5"),n(t,"fill","none"),n(t,"stroke","currentColor"),n(t,"viewBox","0 0 24 24"),n(d,"class","alert-close svelte-1c4vxap"),n(e,"class","alert alert-error svelte-1c4vxap")},m(h,y){I(h,e,y),s(e,t),s(t,l),s(e,o),s(e,f),s(f,r),s(e,p),s(e,d),T||(m=K(d,"click",a[57]),T=!0)},p(h,y){y[0]&4&&Q(r,h[2])},d(h){h&&i(e),T=!1,m()}}}function Xl(a){let e,t,l,o,f,r,p,d,v="√ó",T,m;return{c(){e=u("div"),t=Bt("svg"),l=Bt("path"),o=w(),f=u("span"),r=U(a[3]),p=w(),d=u("button"),d.textContent=v,this.h()},l(h){e=c(h,"DIV",{class:!0});var y=C(e);t=Ut(y,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var S=C(t);l=Ut(S,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(l).forEach(i),S.forEach(i),o=k(y),f=c(y,"SPAN",{});var E=C(f);r=R(E,a[3]),E.forEach(i),p=k(y),d=c(y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-6yqusr"&&(d.textContent=v),y.forEach(i),this.h()},h(){n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"stroke-width","2"),n(l,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),n(t,"class","w-5 h-5"),n(t,"fill","none"),n(t,"stroke","currentColor"),n(t,"viewBox","0 0 24 24"),n(d,"class","alert-close svelte-1c4vxap"),n(e,"class","alert alert-success svelte-1c4vxap")},m(h,y){I(h,e,y),s(e,t),s(t,l),s(e,o),s(e,f),s(f,r),s(e,p),s(e,d),T||(m=K(d,"click",a[58]),T=!0)},p(h,y){y[0]&8&&Q(r,h[3])},d(h){h&&i(e),T=!1,m()}}}function $l(a){let e,t,l="Display Name:",o,f,r=a[0].metadata.displayName+"",p;return{c(){e=u("div"),t=u("span"),t.textContent=l,o=w(),f=u("span"),p=U(r),this.h()},l(d){e=c(d,"DIV",{class:!0});var v=C(e);t=c(v,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-f1o7t4"&&(t.textContent=l),o=k(v),f=c(v,"SPAN",{class:!0});var T=C(f);p=R(T,r),T.forEach(i),v.forEach(i),this.h()},h(){n(t,"class","label svelte-1c4vxap"),n(f,"class","value svelte-1c4vxap"),n(e,"class","info-row svelte-1c4vxap")},m(d,v){I(d,e,v),s(e,t),s(e,o),s(e,f),s(f,p)},p(d,v){v[0]&1&&r!==(r=d[0].metadata.displayName+"")&&Q(p,r)},d(d){d&&i(e)}}}function es(a){let e,t,l="Email:",o,f,r=a[0].metadata.email+"",p;return{c(){e=u("div"),t=u("span"),t.textContent=l,o=w(),f=u("span"),p=U(r),this.h()},l(d){e=c(d,"DIV",{class:!0});var v=C(e);t=c(v,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-sy23m5"&&(t.textContent=l),o=k(v),f=c(v,"SPAN",{class:!0});var T=C(f);p=R(T,r),T.forEach(i),v.forEach(i),this.h()},h(){n(t,"class","label svelte-1c4vxap"),n(f,"class","value svelte-1c4vxap"),n(e,"class","info-row svelte-1c4vxap")},m(d,v){I(d,e,v),s(e,t),s(e,o),s(e,f),s(f,p)},p(d,v){v[0]&1&&r!==(r=d[0].metadata.email+"")&&Q(p,r)},d(d){d&&i(e)}}}function ts(a){let e,t,l="Created:",o,f,r=new Date(a[0].createdAt).toLocaleString()+"",p;return{c(){e=u("div"),t=u("span"),t.textContent=l,o=w(),f=u("span"),p=U(r),this.h()},l(d){e=c(d,"DIV",{class:!0});var v=C(e);t=c(v,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-kftffp"&&(t.textContent=l),o=k(v),f=c(v,"SPAN",{class:!0});var T=C(f);p=R(T,r),T.forEach(i),v.forEach(i),this.h()},h(){n(t,"class","label svelte-1c4vxap"),n(f,"class","value svelte-1c4vxap"),n(e,"class","info-row svelte-1c4vxap")},m(d,v){I(d,e,v),s(e,t),s(e,o),s(e,f),s(f,p)},p(d,v){v[0]&1&&r!==(r=new Date(d[0].createdAt).toLocaleString()+"")&&Q(p,r)},d(d){d&&i(e)}}}function Os(a){let e,t,l,o="New Username",f,r,p,d,v="Username must be 3-50 characters, alphanumeric with underscore/hyphen",T,m,h,y=a[6]?"Changing...":"Save Username",S,E,D,P,x,b;return{c(){e=u("form"),t=u("div"),l=u("label"),l.textContent=o,f=w(),r=u("input"),p=w(),d=u("small"),d.textContent=v,T=w(),m=u("div"),h=u("button"),S=U(y),E=w(),D=u("button"),P=U("Cancel"),this.h()},l(g){e=c(g,"FORM",{});var _=C(e);t=c(_,"DIV",{class:!0});var V=C(t);l=c(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1x0ry4m"&&(l.textContent=o),f=k(V),r=c(V,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),p=k(V),d=c(V,"SMALL",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-1x0o20p"&&(d.textContent=v),V.forEach(i),T=k(_),m=c(_,"DIV",{class:!0});var L=C(m);h=c(L,"BUTTON",{type:!0,class:!0});var M=C(h);S=R(M,y),M.forEach(i),E=k(L),D=c(L,"BUTTON",{type:!0,class:!0});var A=C(D);P=R(A,"Cancel"),A.forEach(i),L.forEach(i),_.forEach(i),this.h()},h(){n(l,"for","newUsername"),n(l,"class","svelte-1c4vxap"),n(r,"id","newUsername"),n(r,"type","text"),n(r,"placeholder","Enter new username"),r.disabled=a[6],r.required=!0,n(r,"class","svelte-1c4vxap"),n(d,"class","svelte-1c4vxap"),n(t,"class","form-group svelte-1c4vxap"),n(h,"type","submit"),n(h,"class","btn btn-primary svelte-1c4vxap"),h.disabled=a[6],n(D,"type","button"),n(D,"class","btn btn-secondary svelte-1c4vxap"),D.disabled=a[6],n(m,"class","form-actions svelte-1c4vxap")},m(g,_){I(g,e,_),s(e,t),s(t,l),s(t,f),s(t,r),Ue(r,a[5]),s(t,p),s(t,d),s(e,T),s(e,m),s(m,h),s(h,S),s(m,E),s(m,D),s(D,P),x||(b=[K(r,"input",a[60]),K(D,"click",a[44]),K(e,"submit",gl(a[41]))],x=!0)},p(g,_){_[0]&64&&(r.disabled=g[6]),_[0]&32&&r.value!==g[5]&&Ue(r,g[5]),_[0]&64&&y!==(y=g[6]?"Changing...":"Save Username")&&Q(S,y),_[0]&64&&(h.disabled=g[6]),_[0]&64&&(D.disabled=g[6])},d(g){g&&i(e),x=!1,Tt(b)}}}function Rs(a){let e,t,l,o=a[0].username+"",f,r,p,d="Change Username",v,T;return{c(){e=u("p"),t=U("Your current username is "),l=u("strong"),f=U(o),r=w(),p=u("button"),p.textContent=d,this.h()},l(m){e=c(m,"P",{class:!0});var h=C(e);t=R(h,"Your current username is "),l=c(h,"STRONG",{});var y=C(l);f=R(y,o),y.forEach(i),h.forEach(i),r=k(m),p=c(m,"BUTTON",{class:!0,"data-svelte-h":!0}),j(p)!=="svelte-1v0ytze"&&(p.textContent=d),this.h()},h(){n(e,"class","svelte-1c4vxap"),n(p,"class","btn btn-primary svelte-1c4vxap")},m(m,h){I(m,e,h),s(e,t),s(e,l),s(l,f),I(m,r,h),I(m,p,h),v||(T=K(p,"click",a[59]),v=!0)},p(m,h){h[0]&1&&o!==(o=m[0].username+"")&&Q(f,o)},d(m){m&&(i(e),i(r),i(p)),v=!1,T()}}}function Us(a){let e,t,l,o="Current Password",f,r,p,d,v,T="New Password",m,h,y,S,E,D="Confirm New Password",P,x,b,g,_,V=a[11]?"Changing...":"Save Password",L,M,A,B,G,F;return{c(){e=u("form"),t=u("div"),l=u("label"),l.textContent=o,f=w(),r=u("input"),p=w(),d=u("div"),v=u("label"),v.textContent=T,m=w(),h=u("input"),y=w(),S=u("div"),E=u("label"),E.textContent=D,P=w(),x=u("input"),b=w(),g=u("div"),_=u("button"),L=U(V),M=w(),A=u("button"),B=U("Cancel"),this.h()},l(q){e=c(q,"FORM",{});var J=C(e);t=c(J,"DIV",{class:!0});var $=C(t);l=c($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1fzlea0"&&(l.textContent=o),f=k($),r=c($,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),$.forEach(i),p=k(J),d=c(J,"DIV",{class:!0});var ue=C(d);v=c(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(v)!=="svelte-imw5ia"&&(v.textContent=T),m=k(ue),h=c(ue,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ue.forEach(i),y=k(J),S=c(J,"DIV",{class:!0});var se=C(S);E=c(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(E)!=="svelte-1lyfuh8"&&(E.textContent=D),P=k(se),x=c(se,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),se.forEach(i),b=k(J),g=c(J,"DIV",{class:!0});var ae=C(g);_=c(ae,"BUTTON",{type:!0,class:!0});var ve=C(_);L=R(ve,V),ve.forEach(i),M=k(ae),A=c(ae,"BUTTON",{type:!0,class:!0});var ne=C(A);B=R(ne,"Cancel"),ne.forEach(i),ae.forEach(i),J.forEach(i),this.h()},h(){n(l,"for","currentPassword"),n(l,"class","svelte-1c4vxap"),n(r,"id","currentPassword"),n(r,"type","password"),n(r,"placeholder","Enter current password"),r.disabled=a[11],r.required=!0,n(r,"class","svelte-1c4vxap"),n(t,"class","form-group svelte-1c4vxap"),n(v,"for","newPassword"),n(v,"class","svelte-1c4vxap"),n(h,"id","newPassword"),n(h,"type","password"),n(h,"placeholder","Enter new password"),h.disabled=a[11],h.required=!0,n(h,"class","svelte-1c4vxap"),n(d,"class","form-group svelte-1c4vxap"),n(E,"for","confirmPassword"),n(E,"class","svelte-1c4vxap"),n(x,"id","confirmPassword"),n(x,"type","password"),n(x,"placeholder","Confirm new password"),x.disabled=a[11],x.required=!0,n(x,"class","svelte-1c4vxap"),n(S,"class","form-group svelte-1c4vxap"),n(_,"type","submit"),n(_,"class","btn btn-primary svelte-1c4vxap"),_.disabled=a[11],n(A,"type","button"),n(A,"class","btn btn-secondary svelte-1c4vxap"),A.disabled=a[11],n(g,"class","form-actions svelte-1c4vxap")},m(q,J){I(q,e,J),s(e,t),s(t,l),s(t,f),s(t,r),Ue(r,a[8]),s(e,p),s(e,d),s(d,v),s(d,m),s(d,h),Ue(h,a[9]),s(e,y),s(e,S),s(S,E),s(S,P),s(S,x),Ue(x,a[10]),s(e,b),s(e,g),s(g,_),s(_,L),s(g,M),s(g,A),s(A,B),G||(F=[K(r,"input",a[62]),K(h,"input",a[63]),K(x,"input",a[64]),K(A,"click",a[45]),K(e,"submit",gl(a[42]))],G=!0)},p(q,J){J[0]&2048&&(r.disabled=q[11]),J[0]&256&&r.value!==q[8]&&Ue(r,q[8]),J[0]&2048&&(h.disabled=q[11]),J[0]&512&&h.value!==q[9]&&Ue(h,q[9]),J[0]&2048&&(x.disabled=q[11]),J[0]&1024&&x.value!==q[10]&&Ue(x,q[10]),J[0]&2048&&V!==(V=q[11]?"Changing...":"Save Password")&&Q(L,V),J[0]&2048&&(_.disabled=q[11]),J[0]&2048&&(A.disabled=q[11])},d(q){q&&i(e),G=!1,Tt(F)}}}function Bs(a){let e,t="Update your password to keep your account secure",l,o,f="Change Password",r,p;return{c(){e=u("p"),e.textContent=t,l=w(),o=u("button"),o.textContent=f,this.h()},l(d){e=c(d,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-mrfh7q"&&(e.textContent=t),l=k(d),o=c(d,"BUTTON",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1fmrl6g"&&(o.textContent=f),this.h()},h(){n(e,"class","svelte-1c4vxap"),n(o,"class","btn btn-primary svelte-1c4vxap")},m(d,v){I(d,e,v),I(d,l,v),I(d,o,v),r||(p=K(o,"click",a[61]),r=!0)},p:De,d(d){d&&(i(e),i(l),i(o)),r=!1,p()}}}function Hs(a){let e,t,l,o=a[18].length+"",f,r,p,d,v,T,m,h;function y(_,V){if(_[18].length<=3&&_[18].length>0)return zs;if(_[18].length===0)return qs}let S=y(a),E=S&&S(a),D=a[18].length>0&&!a[20]&&ls(a);function P(_,V){return _[22]?Ys:Gs}let x=P(a),b=x(a),g=a[20]&&a[18].length>0&&ss(a);return{c(){e=u("div"),t=u("div"),l=u("strong"),f=U(o),r=U(" of 10 codes remaining"),p=w(),E&&E.c(),d=w(),v=u("div"),D&&D.c(),T=w(),b.c(),m=w(),g&&g.c(),h=rl(),this.h()},l(_){e=c(_,"DIV",{class:!0});var V=C(e);t=c(V,"DIV",{class:!0});var L=C(t);l=c(L,"STRONG",{class:!0});var M=C(l);f=R(M,o),r=R(M," of 10 codes remaining"),M.forEach(i),L.forEach(i),p=k(V),E&&E.l(V),V.forEach(i),d=k(_),v=c(_,"DIV",{class:!0});var A=C(v);D&&D.l(A),T=k(A),b.l(A),A.forEach(i),m=k(_),g&&g.l(_),h=rl(),this.h()},h(){n(l,"class","svelte-1c4vxap"),n(t,"class","recovery-count svelte-1c4vxap"),n(e,"class","recovery-status svelte-1c4vxap"),n(v,"class","recovery-actions svelte-1c4vxap")},m(_,V){I(_,e,V),s(e,t),s(t,l),s(l,f),s(l,r),s(e,p),E&&E.m(e,null),I(_,d,V),I(_,v,V),D&&D.m(v,null),s(v,T),b.m(v,null),I(_,m,V),g&&g.m(_,V),I(_,h,V)},p(_,V){V[0]&262144&&o!==(o=_[18].length+"")&&Q(f,o),S===(S=y(_))&&E?E.p(_,V):(E&&E.d(1),E=S&&S(_),E&&(E.c(),E.m(e,null))),_[18].length>0&&!_[20]?D?D.p(_,V):(D=ls(_),D.c(),D.m(v,T)):D&&(D.d(1),D=null),x===(x=P(_))&&b?b.p(_,V):(b.d(1),b=x(_),b&&(b.c(),b.m(v,null))),_[20]&&_[18].length>0?g?g.p(_,V):(g=ss(_),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null)},d(_){_&&(i(e),i(d),i(v),i(m),i(h)),E&&E.d(),D&&D.d(),b.d(),g&&g.d(_)}}}function Fs(a){let e,t="Loading recovery codes...";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-8kk7cy"&&(e.textContent=t),this.h()},h(){n(e,"class","loading-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function qs(a){let e,t='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="svelte-1c4vxap"><path d="M8 1L1 14h14L8 1z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path><path d="M8 6v3M8 11v1" stroke="currentColor" stroke-width="2"></path></svg> <div class="svelte-1c4vxap"><strong class="svelte-1c4vxap">No Recovery Codes Available</strong> <p class="svelte-1c4vxap">You have no recovery codes left. Regenerate codes immediately to ensure you can recover your account.</p></div>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-70iz02"&&(e.innerHTML=t),this.h()},h(){n(e,"class","warning-box danger-warning svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function zs(a){let e,t,l,o,f,r,p,d="Low Recovery Codes",v,T,m,h=a[18].length+"",y,S,E=a[18].length===1?"":"s",D,P;return{c(){e=u("div"),t=Bt("svg"),l=Bt("path"),o=Bt("path"),f=w(),r=u("div"),p=u("strong"),p.textContent=d,v=w(),T=u("p"),m=U("You have "),y=U(h),S=U(" code"),D=U(E),P=U(" remaining. Consider regenerating new codes soon."),this.h()},l(x){e=c(x,"DIV",{class:!0});var b=C(e);t=Ut(b,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var g=C(t);l=Ut(g,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linejoin":!0}),C(l).forEach(i),o=Ut(g,"path",{d:!0,stroke:!0,"stroke-width":!0}),C(o).forEach(i),g.forEach(i),f=k(b),r=c(b,"DIV",{class:!0});var _=C(r);p=c(_,"STRONG",{class:!0,"data-svelte-h":!0}),j(p)!=="svelte-y9z3nr"&&(p.textContent=d),v=k(_),T=c(_,"P",{class:!0});var V=C(T);m=R(V,"You have "),y=R(V,h),S=R(V," code"),D=R(V,E),P=R(V," remaining. Consider regenerating new codes soon."),V.forEach(i),_.forEach(i),b.forEach(i),this.h()},h(){n(l,"d","M8 1L1 14h14L8 1z"),n(l,"stroke","currentColor"),n(l,"stroke-width","2"),n(l,"stroke-linejoin","round"),n(o,"d","M8 6v3M8 11v1"),n(o,"stroke","currentColor"),n(o,"stroke-width","2"),n(t,"width","16"),n(t,"height","16"),n(t,"viewBox","0 0 16 16"),n(t,"fill","none"),n(t,"class","svelte-1c4vxap"),n(p,"class","svelte-1c4vxap"),n(T,"class","svelte-1c4vxap"),n(r,"class","svelte-1c4vxap"),n(e,"class","warning-box svelte-1c4vxap")},m(x,b){I(x,e,b),s(e,t),s(t,l),s(t,o),s(e,f),s(e,r),s(r,p),s(r,v),s(r,T),s(T,m),s(T,y),s(T,S),s(T,D),s(T,P)},p(x,b){b[0]&262144&&h!==(h=x[18].length+"")&&Q(y,h),b[0]&262144&&E!==(E=x[18].length===1?"":"s")&&Q(D,E)},d(x){x&&i(e)}}}function ls(a){let e,t="View Remaining Codes",l,o;return{c(){e=u("button"),e.textContent=t,this.h()},l(f){e=c(f,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-2ihipa"&&(e.textContent=t),this.h()},h(){n(e,"class","btn btn-secondary svelte-1c4vxap")},m(f,r){I(f,e,r),l||(o=K(e,"click",a[65]),l=!0)},p:De,d(f){f&&i(e),l=!1,o()}}}function Ys(a){let e,t,l="<strong>‚ö†Ô∏è Are you sure?</strong>",o,f,r="This will invalidate all existing recovery codes and generate 10 new ones.",p,d,v,T=a[21]?"Regenerating...":"Yes, Regenerate",m,h,y,S,E,D;return{c(){e=u("div"),t=u("p"),t.innerHTML=l,o=w(),f=u("p"),f.textContent=r,p=w(),d=u("div"),v=u("button"),m=U(T),h=w(),y=u("button"),S=U("Cancel"),this.h()},l(P){e=c(P,"DIV",{class:!0});var x=C(e);t=c(x,"P",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1nhohef"&&(t.innerHTML=l),o=k(x),f=c(x,"P",{class:!0,"data-svelte-h":!0}),j(f)!=="svelte-ameldy"&&(f.textContent=r),p=k(x),d=c(x,"DIV",{class:!0});var b=C(d);v=c(b,"BUTTON",{class:!0});var g=C(v);m=R(g,T),g.forEach(i),h=k(b),y=c(b,"BUTTON",{class:!0});var _=C(y);S=R(_,"Cancel"),_.forEach(i),b.forEach(i),x.forEach(i),this.h()},h(){n(t,"class","svelte-1c4vxap"),n(f,"class","svelte-1c4vxap"),n(v,"class","btn btn-primary svelte-1c4vxap"),v.disabled=a[21],n(y,"class","btn btn-secondary svelte-1c4vxap"),y.disabled=a[21],n(d,"class","confirm-actions svelte-1c4vxap"),n(e,"class","confirm-box svelte-1c4vxap")},m(P,x){I(P,e,x),s(e,t),s(e,o),s(e,f),s(e,p),s(e,d),s(d,v),s(v,m),s(d,h),s(d,y),s(y,S),E||(D=[K(v,"click",a[54]),K(y,"click",a[67])],E=!0)},p(P,x){x[0]&2097152&&T!==(T=P[21]?"Regenerating...":"Yes, Regenerate")&&Q(m,T),x[0]&2097152&&(v.disabled=P[21]),x[0]&2097152&&(y.disabled=P[21])},d(P){P&&i(e),E=!1,Tt(D)}}}function Gs(a){let e,t,l,o;return{c(){e=u("button"),t=U("Regenerate All Codes"),this.h()},l(f){e=c(f,"BUTTON",{class:!0});var r=C(e);t=R(r,"Regenerate All Codes"),r.forEach(i),this.h()},h(){n(e,"class","btn btn-primary svelte-1c4vxap"),e.disabled=a[21]},m(f,r){I(f,e,r),s(e,t),l||(o=K(e,"click",a[66]),l=!0)},p(f,r){r[0]&2097152&&(e.disabled=f[21])},d(f){f&&i(e),l=!1,o()}}}function ss(a){let e,t,l,o="Your Recovery Codes",f,r,p="üìã Copy All",d,v,T,m,h="Hide Codes",y,S,E=qt(a[18]),D=[];for(let P=0;P<E.length;P+=1)D[P]=as(Kl(a,E,P));return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=o,f=w(),r=u("button"),r.textContent=p,d=w(),v=u("div");for(let P=0;P<D.length;P+=1)D[P].c();T=w(),m=u("button"),m.textContent=h,this.h()},l(P){e=c(P,"DIV",{class:!0});var x=C(e);t=c(x,"DIV",{class:!0});var b=C(t);l=c(b,"H3",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-z0pqp2"&&(l.textContent=o),f=k(b),r=c(b,"BUTTON",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-1j4xmla"&&(r.textContent=p),b.forEach(i),d=k(x),v=c(x,"DIV",{class:!0});var g=C(v);for(let _=0;_<D.length;_+=1)D[_].l(g);g.forEach(i),T=k(x),m=c(x,"BUTTON",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-83bivu"&&(m.textContent=h),x.forEach(i),this.h()},h(){n(l,"class","svelte-1c4vxap"),n(r,"class","btn btn-secondary btn-sm svelte-1c4vxap"),n(t,"class","codes-header svelte-1c4vxap"),n(v,"class","codes-grid svelte-1c4vxap"),n(m,"class","btn btn-secondary svelte-1c4vxap"),n(e,"class","recovery-codes-display svelte-1c4vxap")},m(P,x){I(P,e,x),s(e,t),s(t,l),s(t,f),s(t,r),s(e,d),s(e,v);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(v,null);s(e,T),s(e,m),y||(S=[K(r,"click",a[55]),K(m,"click",a[68])],y=!0)},p(P,x){if(x[0]&262144){E=qt(P[18]);let b;for(b=0;b<E.length;b+=1){const g=Kl(P,E,b);D[b]?D[b].p(g,x):(D[b]=as(g),D[b].c(),D[b].m(v,null))}for(;b<D.length;b+=1)D[b].d(1);D.length=E.length}},d(P){P&&i(e),bl(D,P),y=!1,Tt(S)}}}function as(a){let e,t,l=(a[93]+1).toString().padStart(2,"0")+"",o,f,r,p,d=a[91]+"",v,T;return{c(){e=u("div"),t=u("span"),o=U(l),f=U("."),r=w(),p=u("code"),v=U(d),T=w(),this.h()},l(m){e=c(m,"DIV",{class:!0});var h=C(e);t=c(h,"SPAN",{class:!0});var y=C(t);o=R(y,l),f=R(y,"."),y.forEach(i),r=k(h),p=c(h,"CODE",{class:!0});var S=C(p);v=R(S,d),S.forEach(i),T=k(h),h.forEach(i),this.h()},h(){n(t,"class","code-number svelte-1c4vxap"),n(p,"class","code-value svelte-1c4vxap"),n(e,"class","code-item svelte-1c4vxap")},m(m,h){I(m,e,h),s(e,t),s(t,o),s(t,f),s(e,r),s(e,p),s(p,v),s(e,T)},p(m,h){h[0]&262144&&d!==(d=m[91]+"")&&Q(v,d)},d(m){m&&i(e)}}}function Js(a){let e,t,l,o="Display Name",f,r,p,d,v,T="Email (optional)",m,h,y,S,E,D=a[15]?"Updating...":"Save Profile",P,x,b,g,_,V;return{c(){e=u("form"),t=u("div"),l=u("label"),l.textContent=o,f=w(),r=u("input"),p=w(),d=u("div"),v=u("label"),v.textContent=T,m=w(),h=u("input"),y=w(),S=u("div"),E=u("button"),P=U(D),x=w(),b=u("button"),g=U("Cancel"),this.h()},l(L){e=c(L,"FORM",{});var M=C(e);t=c(M,"DIV",{class:!0});var A=C(t);l=c(A,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-e4li4q"&&(l.textContent=o),f=k(A),r=c(A,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),A.forEach(i),p=k(M),d=c(M,"DIV",{class:!0});var B=C(d);v=c(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(v)!=="svelte-vs9liv"&&(v.textContent=T),m=k(B),h=c(B,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),B.forEach(i),y=k(M),S=c(M,"DIV",{class:!0});var G=C(S);E=c(G,"BUTTON",{type:!0,class:!0});var F=C(E);P=R(F,D),F.forEach(i),x=k(G),b=c(G,"BUTTON",{type:!0,class:!0});var q=C(b);g=R(q,"Cancel"),q.forEach(i),G.forEach(i),M.forEach(i),this.h()},h(){n(l,"for","displayName"),n(l,"class","svelte-1c4vxap"),n(r,"id","displayName"),n(r,"type","text"),n(r,"placeholder","Your display name"),r.disabled=a[15],n(r,"class","svelte-1c4vxap"),n(t,"class","form-group svelte-1c4vxap"),n(v,"for","email"),n(v,"class","svelte-1c4vxap"),n(h,"id","email"),n(h,"type","email"),n(h,"placeholder","your@email.com"),h.disabled=a[15],n(h,"class","svelte-1c4vxap"),n(d,"class","form-group svelte-1c4vxap"),n(E,"type","submit"),n(E,"class","btn btn-primary svelte-1c4vxap"),E.disabled=a[15],n(b,"type","button"),n(b,"class","btn btn-secondary svelte-1c4vxap"),b.disabled=a[15],n(S,"class","form-actions svelte-1c4vxap")},m(L,M){I(L,e,M),s(e,t),s(t,l),s(t,f),s(t,r),Ue(r,a[13]),s(e,p),s(e,d),s(d,v),s(d,m),s(d,h),Ue(h,a[14]),s(e,y),s(e,S),s(S,E),s(E,P),s(S,x),s(S,b),s(b,g),_||(V=[K(r,"input",a[70]),K(h,"input",a[71]),K(b,"click",a[46]),K(e,"submit",gl(a[43]))],_=!0)},p(L,M){M[0]&32768&&(r.disabled=L[15]),M[0]&8192&&r.value!==L[13]&&Ue(r,L[13]),M[0]&32768&&(h.disabled=L[15]),M[0]&16384&&h.value!==L[14]&&Ue(h,L[14]),M[0]&32768&&D!==(D=L[15]?"Updating...":"Save Profile")&&Q(P,D),M[0]&32768&&(E.disabled=L[15]),M[0]&32768&&(b.disabled=L[15])},d(L){L&&i(e),_=!1,Tt(V)}}}function Ws(a){let e,t="Update your display name and email",l,o,f="Update Profile",r,p;return{c(){e=u("p"),e.textContent=t,l=w(),o=u("button"),o.textContent=f,this.h()},l(d){e=c(d,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-e66ejs"&&(e.textContent=t),l=k(d),o=c(d,"BUTTON",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1r1qy5p"&&(o.textContent=f),this.h()},h(){n(e,"class","svelte-1c4vxap"),n(o,"class","btn btn-primary svelte-1c4vxap")},m(d,v){I(d,e,v),I(d,l,v),I(d,o,v),r||(p=K(o,"click",a[69]),r=!0)},p:De,d(d){d&&(i(e),i(l),i(o)),r=!1,p()}}}function Zs(a){let e,t="Tunnel status is currently unavailable. Try refreshing.";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-dvs1f2"&&(e.textContent=t),this.h()},h(){n(e,"class","muted-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function Ks(a){let e,t,l,o="cloudflared",f,r,p=a[23].installed?"Installed":"Missing",d,v,T,m,h="Remote access",y,S,E=a[23].enabled?"Enabled":"Disabled",D,P,x,b,g="Runtime",_,V,L=a[23].running?"Running":"Stopped",M;return{c(){e=u("div"),t=u("div"),l=u("span"),l.textContent=o,f=w(),r=u("span"),d=U(p),v=w(),T=u("div"),m=u("span"),m.textContent=h,y=w(),S=u("span"),D=U(E),P=w(),x=u("div"),b=u("span"),b.textContent=g,_=w(),V=u("span"),M=U(L),this.h()},l(A){e=c(A,"DIV",{class:!0});var B=C(e);t=c(B,"DIV",{class:!0});var G=C(t);l=c(G,"SPAN",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-k5dc3o"&&(l.textContent=o),f=k(G),r=c(G,"SPAN",{class:!0});var F=C(r);d=R(F,p),F.forEach(i),G.forEach(i),v=k(B),T=c(B,"DIV",{class:!0});var q=C(T);m=c(q,"SPAN",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-usn87b"&&(m.textContent=h),y=k(q),S=c(q,"SPAN",{class:!0});var J=C(S);D=R(J,E),J.forEach(i),q.forEach(i),P=k(B),x=c(B,"DIV",{class:!0});var $=C(x);b=c($,"SPAN",{class:!0,"data-svelte-h":!0}),j(b)!=="svelte-q0dnnb"&&(b.textContent=g),_=k($),V=c($,"SPAN",{class:!0});var ue=C(V);M=R(ue,L),ue.forEach(i),$.forEach(i),B.forEach(i),this.h()},h(){n(l,"class","label svelte-1c4vxap"),n(r,"class","status-pill svelte-1c4vxap"),Ee(r,"status-pill-ok",a[23].installed),Ee(r,"status-pill-bad",!a[23].installed),n(t,"class","tunnel-status-row svelte-1c4vxap"),n(m,"class","label svelte-1c4vxap"),n(S,"class","status-pill svelte-1c4vxap"),Ee(S,"status-pill-ok",a[23].enabled),Ee(S,"status-pill-bad",!a[23].enabled),n(T,"class","tunnel-status-row svelte-1c4vxap"),n(b,"class","label svelte-1c4vxap"),n(V,"class","status-pill svelte-1c4vxap"),Ee(V,"status-pill-ok",a[23].running),Ee(V,"status-pill-bad",!a[23].running),n(x,"class","tunnel-status-row svelte-1c4vxap"),n(e,"class","tunnel-status-grid svelte-1c4vxap")},m(A,B){I(A,e,B),s(e,t),s(t,l),s(t,f),s(t,r),s(r,d),s(e,v),s(e,T),s(T,m),s(T,y),s(T,S),s(S,D),s(e,P),s(e,x),s(x,b),s(x,_),s(x,V),s(V,M)},p(A,B){B[0]&8388608&&p!==(p=A[23].installed?"Installed":"Missing")&&Q(d,p),B[0]&8388608&&Ee(r,"status-pill-ok",A[23].installed),B[0]&8388608&&Ee(r,"status-pill-bad",!A[23].installed),B[0]&8388608&&E!==(E=A[23].enabled?"Enabled":"Disabled")&&Q(D,E),B[0]&8388608&&Ee(S,"status-pill-ok",A[23].enabled),B[0]&8388608&&Ee(S,"status-pill-bad",!A[23].enabled),B[0]&8388608&&L!==(L=A[23].running?"Running":"Stopped")&&Q(M,L),B[0]&8388608&&Ee(V,"status-pill-ok",A[23].running),B[0]&8388608&&Ee(V,"status-pill-bad",!A[23].running)},d(A){A&&i(e)}}}function Qs(a){let e,t="Checking tunnel status...";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-fyplib"&&(e.textContent=t),this.h()},h(){n(e,"class","loading-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function ns(a){let e,t,l="üîó Trust & Cognitive Mode Coupling",o,f,r="Link trust level to cognitive mode for automatic permission adjustment",p,d,v,T,m="üîê Trust Level (Progressive Autonomy)",h,y,S="Controls what skills the operator can access and whether actions require approval",E,D,P,x,b="üß† Persona Summary",g,_,V="Include your persona identity, values, and goals in chat context",L,M,A,B,G="üõ°Ô∏è Cognitive Architecture (Layer 3 Safety)",F,q,J="Configure safety validation and response refinement for all AI responses",$;function ue(Y,X){return Y[36]?$s:Xs}let se=ue(a),ae=se(a);function ve(Y,X){return Y[30]?sa:la}let ne=ve(a),he=ne(a);function _e(Y,X){return Y[33]?ua:ca}let pe=_e(a),oe=pe(a);function Oe(Y,X){return Y[39]?da:fa}let ce=Oe(a),fe=ce(a);return{c(){e=u("div"),t=u("h2"),t.textContent=l,o=w(),f=u("p"),f.textContent=r,p=w(),ae.c(),d=w(),v=u("div"),T=u("h2"),T.textContent=m,h=w(),y=u("p"),y.textContent=S,E=w(),he.c(),D=w(),P=u("div"),x=u("h2"),x.textContent=b,g=w(),_=u("p"),_.textContent=V,L=w(),oe.c(),M=w(),A=u("div"),B=u("h2"),B.textContent=G,F=w(),q=u("p"),q.textContent=J,$=w(),fe.c(),this.h()},l(Y){e=c(Y,"DIV",{class:!0});var X=C(e);t=c(X,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1khtms0"&&(t.textContent=l),o=k(X),f=c(X,"P",{class:!0,"data-svelte-h":!0}),j(f)!=="svelte-wfqjmi"&&(f.textContent=r),p=k(X),ae.l(X),X.forEach(i),d=k(Y),v=c(Y,"DIV",{class:!0});var ee=C(v);T=c(ee,"H2",{class:!0,"data-svelte-h":!0}),j(T)!=="svelte-bspdt5"&&(T.textContent=m),h=k(ee),y=c(ee,"P",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-7l4ock"&&(y.textContent=S),E=k(ee),he.l(ee),ee.forEach(i),D=k(Y),P=c(Y,"DIV",{class:!0});var Z=C(P);x=c(Z,"H2",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-14ggp20"&&(x.textContent=b),g=k(Z),_=c(Z,"P",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1e3f5wi"&&(_.textContent=V),L=k(Z),oe.l(Z),Z.forEach(i),M=k(Y),A=c(Y,"DIV",{class:!0});var be=C(A);B=c(be,"H2",{class:!0,"data-svelte-h":!0}),j(B)!=="svelte-twx7p3"&&(B.textContent=G),F=k(be),q=c(be,"P",{class:!0,"data-svelte-h":!0}),j(q)!=="svelte-11a6372"&&(q.textContent=J),$=k(be),fe.l(be),be.forEach(i),this.h()},h(){n(t,"class","svelte-1c4vxap"),n(f,"class","svelte-1c4vxap"),n(e,"class","card svelte-1c4vxap"),n(T,"class","svelte-1c4vxap"),n(y,"class","svelte-1c4vxap"),n(v,"class","card svelte-1c4vxap"),n(x,"class","svelte-1c4vxap"),n(_,"class","svelte-1c4vxap"),n(P,"class","card svelte-1c4vxap"),n(B,"class","svelte-1c4vxap"),n(q,"class","svelte-1c4vxap"),n(A,"class","card svelte-1c4vxap")},m(Y,X){I(Y,e,X),s(e,t),s(e,o),s(e,f),s(e,p),ae.m(e,null),I(Y,d,X),I(Y,v,X),s(v,T),s(v,h),s(v,y),s(v,E),he.m(v,null),I(Y,D,X),I(Y,P,X),s(P,x),s(P,g),s(P,_),s(P,L),oe.m(P,null),I(Y,M,X),I(Y,A,X),s(A,B),s(A,F),s(A,q),s(A,$),fe.m(A,null)},p(Y,X){se===(se=ue(Y))&&ae?ae.p(Y,X):(ae.d(1),ae=se(Y),ae&&(ae.c(),ae.m(e,null))),ne===(ne=ve(Y))&&he?he.p(Y,X):(he.d(1),he=ne(Y),he&&(he.c(),he.m(v,null))),pe===(pe=_e(Y))&&oe?oe.p(Y,X):(oe.d(1),oe=pe(Y),oe&&(oe.c(),oe.m(P,null))),ce===(ce=Oe(Y))&&fe?fe.p(Y,X):(fe.d(1),fe=ce(Y),fe&&(fe.c(),fe.m(A,null)))},d(Y){Y&&(i(e),i(d),i(v),i(D),i(P),i(M),i(A)),ae.d(),he.d(),oe.d(),fe.d()}}}function Xs(a){let e,t,l,o,f,r,p,d=a[35]?"Coupled (automatic)":"Decoupled (manual)",v,T,m,h,y,S,E=a[37]&&rs();function D(b,g){return b[35]?ta:ea}let P=D(a),x=P(a);return{c(){e=u("div"),t=u("label"),l=u("input"),o=w(),f=u("span"),r=w(),p=u("span"),v=U(d),T=w(),E&&E.c(),m=w(),h=u("div"),x.c(),this.h()},l(b){e=c(b,"DIV",{class:!0});var g=C(e);t=c(g,"LABEL",{class:!0});var _=C(t);l=c(_,"INPUT",{type:!0,class:!0}),o=k(_),f=c(_,"SPAN",{class:!0}),C(f).forEach(i),r=k(_),p=c(_,"SPAN",{class:!0});var V=C(p);v=R(V,d),V.forEach(i),_.forEach(i),T=k(g),E&&E.l(g),g.forEach(i),m=k(b),h=c(b,"DIV",{class:!0});var L=C(h);x.l(L),L.forEach(i),this.h()},h(){n(l,"type","checkbox"),l.checked=a[35],l.disabled=a[37],n(l,"class","svelte-1c4vxap"),n(f,"class","toggle-switch svelte-1c4vxap"),n(p,"class","toggle-text svelte-1c4vxap"),n(t,"class","toggle-label svelte-1c4vxap"),n(e,"class","toggle-control svelte-1c4vxap"),n(h,"class","coupling-info svelte-1c4vxap")},m(b,g){I(b,e,g),s(e,t),s(t,l),s(t,o),s(t,f),s(t,r),s(t,p),s(p,v),s(e,T),E&&E.m(e,null),I(b,m,g),I(b,h,g),x.m(h,null),y||(S=K(l,"change",a[52]),y=!0)},p(b,g){g[1]&16&&(l.checked=b[35]),g[1]&64&&(l.disabled=b[37]),g[1]&16&&d!==(d=b[35]?"Coupled (automatic)":"Decoupled (manual)")&&Q(v,d),b[37]?E||(E=rs(),E.c(),E.m(e,null)):E&&(E.d(1),E=null),P!==(P=D(b))&&(x.d(1),x=P(b),x&&(x.c(),x.m(h,null)))},d(b){b&&(i(e),i(m),i(h)),E&&E.d(),x.d(),y=!1,S()}}}function $s(a){let e,t="Loading coupling state...";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1uqnw6l"&&(e.textContent=t),this.h()},h(){n(e,"class","loading-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function rs(a){let e,t="Saving...";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14zthbn"&&(e.textContent=t),this.h()},h(){n(e,"class","saving-indicator svelte-1c4vxap")},m(l,o){I(l,e,o)},d(l){l&&i(e)}}}function ea(a){let e,t="‚ö†Ô∏è Trust level must be manually adjusted. Cognitive mode changes won't affect permissions.";return{c(){e=u("small"),e.textContent=t,this.h()},l(l){e=c(l,"SMALL",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-rmqpp4"&&(e.textContent=t),this.h()},h(){n(e,"class","svelte-1c4vxap")},m(l,o){I(l,e,o)},d(l){l&&i(e)}}}function ta(a){let e,t=`‚úì Trust level adjusts automatically when switching cognitive modes:<br/>
                ‚Ä¢ <strong>Dual Consciousness</strong> ‚Üí supervised_auto (full autonomy with logging)<br/>
                ‚Ä¢ <strong>Agent Mode</strong> ‚Üí suggest (approval required)<br/>
                ‚Ä¢ <strong>Emulation</strong> ‚Üí observe (read-only, no actions)`;return{c(){e=u("small"),e.innerHTML=t,this.h()},l(l){e=c(l,"SMALL",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-ixcml8"&&(e.innerHTML=t),this.h()},h(){n(e,"class","svelte-1c4vxap")},m(l,o){I(l,e,o)},d(l){l&&i(e)}}}function la(a){let e,t,l,o="Current Trust Level",f,r,p,d,v,T,m="<strong>Trust Progression:</strong> observe ‚Üí suggest ‚Üí supervised_auto ‚Üí bounded_auto ‚Üí adaptive_auto",h,y,S=qt(a[29]),E=[];for(let b=0;b<S.length;b+=1)E[b]=os(Zl(a,S,b));function D(b,g){if(b[28]==="observe")return ia;if(b[28]==="suggest")return oa;if(b[28]==="supervised_auto")return ra;if(b[28]==="bounded_auto")return na;if(b[28]==="adaptive_auto")return aa}let P=D(a),x=P&&P(a);return{c(){e=u("div"),t=u("div"),l=u("label"),l.textContent=o,f=w(),r=u("select");for(let b=0;b<E.length;b+=1)E[b].c();p=w(),d=u("small"),x&&x.c(),v=w(),T=u("div"),T.innerHTML=m,this.h()},l(b){e=c(b,"DIV",{class:!0});var g=C(e);t=c(g,"DIV",{class:!0});var _=C(t);l=c(_,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1u4mjql"&&(l.textContent=o),f=k(_),r=c(_,"SELECT",{id:!0,class:!0});var V=C(r);for(let M=0;M<E.length;M+=1)E[M].l(V);V.forEach(i),p=k(_),d=c(_,"SMALL",{class:!0});var L=C(d);x&&x.l(L),L.forEach(i),_.forEach(i),v=k(g),T=c(g,"DIV",{class:!0,"data-svelte-h":!0}),j(T)!=="svelte-su7ihx"&&(T.innerHTML=m),g.forEach(i),this.h()},h(){n(l,"for","trustLevel"),n(l,"class","svelte-1c4vxap"),n(r,"id","trustLevel"),r.disabled=a[31],n(r,"class","svelte-1c4vxap"),a[28]===void 0&&ms(()=>a[74].call(r)),n(d,"class","svelte-1c4vxap"),n(t,"class","form-group svelte-1c4vxap"),n(T,"class","trust-info svelte-1c4vxap"),n(e,"class","trust-level-control svelte-1c4vxap")},m(b,g){I(b,e,g),s(e,t),s(t,l),s(t,f),s(t,r);for(let _=0;_<E.length;_+=1)E[_]&&E[_].m(r,null);ol(r,a[28],!0),s(t,p),s(t,d),x&&x.m(d,null),s(e,v),s(e,T),h||(y=[K(r,"change",a[74]),K(r,"change",a[50])],h=!0)},p(b,g){if(g[0]&536870912){S=qt(b[29]);let _;for(_=0;_<S.length;_+=1){const V=Zl(b,S,_);E[_]?E[_].p(V,g):(E[_]=os(V),E[_].c(),E[_].m(r,null))}for(;_<E.length;_+=1)E[_].d(1);E.length=S.length}g[1]&1&&(r.disabled=b[31]),g[0]&805306368&&ol(r,b[28]),P!==(P=D(b))&&(x&&x.d(1),x=P&&P(b),x&&(x.c(),x.m(d,null)))},d(b){b&&i(e),bl(E,b),x&&x.d(),h=!1,Tt(y)}}}function sa(a){let e,t="Loading trust level...";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ifkab3"&&(e.textContent=t),this.h()},h(){n(e,"class","loading-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function os(a){let e,t=a[88]+"",l,o;return{c(){e=u("option"),l=U(t),this.h()},l(f){e=c(f,"OPTION",{});var r=C(e);l=R(r,t),r.forEach(i),this.h()},h(){e.__value=o=a[88],Ue(e,e.__value)},m(f,r){I(f,e,r),s(e,l)},p(f,r){r[0]&536870912&&t!==(t=f[88]+"")&&Q(l,t),r[0]&536870912&&o!==(o=f[88])&&(e.__value=o,Ue(e,e.__value))},d(f){f&&i(e)}}}function aa(a){let e;return{c(){e=U("Self-expand boundaries based on successful outcomes")},l(t){e=R(t,"Self-expand boundaries based on successful outcomes")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function na(a){let e;return{c(){e=U("Full autonomy within defined trust boundaries")},l(t){e=R(t,"Full autonomy within defined trust boundaries")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function ra(a){let e;return{c(){e=U("Execute within approved categories, log all actions")},l(t){e=R(t,"Execute within approved categories, log all actions")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function oa(a){let e;return{c(){e=U("Propose actions, require explicit approval for each")},l(t){e=R(t,"Propose actions, require explicit approval for each")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function ia(a){let e;return{c(){e=U("Monitor only, no actions, learn patterns")},l(t){e=R(t,"Monitor only, no actions, learn patterns")},m(t,l){I(t,e,l)},d(t){t&&i(e)}}}function ca(a){let e,t,l,o,f,r,p,d=a[32]?"Enabled":"Disabled",v,T,m,h=`When enabled, the AI will have access to your persona's identity, values, goals, and personality traits.
              This helps the AI respond more consistently with your configured personality.`,y,S;return{c(){e=u("div"),t=u("label"),l=u("input"),o=w(),f=u("span"),r=w(),p=u("span"),v=U(d),T=w(),m=u("small"),m.textContent=h,this.h()},l(E){e=c(E,"DIV",{class:!0});var D=C(e);t=c(D,"LABEL",{class:!0});var P=C(t);l=c(P,"INPUT",{type:!0,class:!0}),o=k(P),f=c(P,"SPAN",{class:!0}),C(f).forEach(i),r=k(P),p=c(P,"SPAN",{class:!0});var x=C(p);v=R(x,d),x.forEach(i),P.forEach(i),T=k(D),m=c(D,"SMALL",{"data-svelte-h":!0}),j(m)!=="svelte-1bhy719"&&(m.textContent=h),D.forEach(i),this.h()},h(){n(l,"type","checkbox"),l.checked=a[32],l.disabled=a[34],n(l,"class","svelte-1c4vxap"),n(f,"class","toggle-slider svelte-1c4vxap"),n(p,"class","toggle-text svelte-1c4vxap"),n(t,"class","toggle-label svelte-1c4vxap"),n(e,"class","toggle-control svelte-1c4vxap")},m(E,D){I(E,e,D),s(e,t),s(t,l),s(t,o),s(t,f),s(t,r),s(t,p),s(p,v),s(e,T),s(e,m),y||(S=K(l,"change",a[51]),y=!0)},p(E,D){D[1]&2&&(l.checked=E[32]),D[1]&8&&(l.disabled=E[34]),D[1]&2&&d!==(d=E[32]?"Enabled":"Disabled")&&Q(v,d)},d(E){E&&i(e),y=!1,S()}}}function ua(a){let e,t="Loading persona summary setting...";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-50vxj7"&&(e.textContent=t),this.h()},h(){n(e,"class","loading-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function fa(a){let e,t,l,o='<h3 class="svelte-1c4vxap">3-Layer Pipeline</h3> <p class="setting-description svelte-1c4vxap">Enable full cognitive architecture (context ‚Üí generation ‚Üí validation)</p>',f,r,p,d,v,T,m,h,y=a[38].useCognitivePipeline?"Enabled":"Disabled",S,E,D,P,x='<h3 class="svelte-1c4vxap">Safety Validation (Phase 4.2)</h3> <p class="setting-description svelte-1c4vxap">Pattern-based detection of sensitive data, security violations, and harmful content</p> <small class="setting-meta svelte-1c4vxap">Non-blocking ‚Ä¢ &lt;5ms overhead</small>',b,g,_,V,L,M,A,B,G,F=a[38].enableSafetyChecks?"Enabled":"Disabled",q,J,$,ue,se='<h3 class="svelte-1c4vxap">Response Refinement (Phase 4.3)</h3> <p class="setting-description svelte-1c4vxap">Auto-sanitize API keys, passwords, file paths, and internal IPs</p> <small class="setting-meta svelte-1c4vxap">Non-blocking ‚Ä¢ &lt;10ms average</small>',ae,ve,ne,he,_e,pe,oe,Oe,ce,fe=a[38].enableResponseRefinement?"Enabled":"Disabled",Y,X,ee,Z,be,Re="‚ö†Ô∏è Blocking Mode (Phase 4.4)",xe,te,Be="Send refined (sanitized) responses to users instead of originals",ft,ye,Ve,Ne,Pe,Ae,ke,re,ie,de,me,He=a[38].enableBlockingMode?"Enforcement":"Monitoring",Se,Me,ge,st='<h4 class="svelte-1c4vxap">What gets detected &amp; refined:</h4> <div class="detection-grid svelte-1c4vxap"><div class="detection-category svelte-1c4vxap"><strong class="svelte-1c4vxap">Sensitive Data:</strong> <ul class="svelte-1c4vxap"><li class="svelte-1c4vxap">API keys (sk-*, pk-*, Bearer)</li> <li class="svelte-1c4vxap">Passwords &amp; credentials</li> <li class="svelte-1c4vxap">SSH private keys</li></ul></div> <div class="detection-category svelte-1c4vxap"><strong class="svelte-1c4vxap">Security Violations:</strong> <ul class="svelte-1c4vxap"><li class="svelte-1c4vxap">File paths (/home/, /etc/, C:\\)</li> <li class="svelte-1c4vxap">Internal IPs (192.168.*, 10.*)</li> <li class="svelte-1c4vxap">System configurations</li></ul></div></div> <small class="info-footer svelte-1c4vxap">All Layer 3 operations are fully audited to <code class="svelte-1c4vxap">logs/audit/YYYY-MM-DD.ndjson</code></small>',at,Ie;function ct(W,le){return W[38].enableBlockingMode?pa:va}let nt=ct(a),Le=nt(a);return{c(){e=u("div"),t=u("div"),l=u("div"),l.innerHTML=o,f=w(),r=u("label"),p=u("input"),v=w(),T=u("span"),m=w(),h=u("span"),S=U(y),E=w(),D=u("div"),P=u("div"),P.innerHTML=x,b=w(),g=u("label"),_=u("input"),M=w(),A=u("span"),B=w(),G=u("span"),q=U(F),J=w(),$=u("div"),ue=u("div"),ue.innerHTML=se,ae=w(),ve=u("label"),ne=u("input"),pe=w(),oe=u("span"),Oe=w(),ce=u("span"),Y=U(fe),X=w(),ee=u("div"),Z=u("div"),be=u("h3"),be.textContent=Re,xe=w(),te=u("p"),te.textContent=Be,ft=w(),ye=u("small"),Le.c(),Ve=w(),Ne=u("label"),Pe=u("input"),re=w(),ie=u("span"),de=w(),me=u("span"),Se=U(He),Me=w(),ge=u("div"),ge.innerHTML=st,this.h()},l(W){e=c(W,"DIV",{class:!0});var le=C(e);t=c(le,"DIV",{class:!0});var pt=C(t);l=c(pt,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1eg2tw"&&(l.innerHTML=o),f=k(pt),r=c(pt,"LABEL",{class:!0});var $e=C(r);p=c($e,"INPUT",{type:!0,class:!0}),v=k($e),T=c($e,"SPAN",{class:!0}),C(T).forEach(i),m=k($e),h=c($e,"SPAN",{class:!0});var Te=C(h);S=R(Te,y),Te.forEach(i),$e.forEach(i),pt.forEach(i),E=k(le),D=c(le,"DIV",{class:!0});var rt=C(D);P=c(rt,"DIV",{class:!0,"data-svelte-h":!0}),j(P)!=="svelte-1dp1lhk"&&(P.innerHTML=x),b=k(rt),g=c(rt,"LABEL",{class:!0});var ht=C(g);_=c(ht,"INPUT",{type:!0,class:!0}),M=k(ht),A=c(ht,"SPAN",{class:!0}),C(A).forEach(i),B=k(ht),G=c(ht,"SPAN",{class:!0});var Dt=C(G);q=R(Dt,F),Dt.forEach(i),ht.forEach(i),rt.forEach(i),J=k(le),$=c(le,"DIV",{class:!0});var ot=C($);ue=c(ot,"DIV",{class:!0,"data-svelte-h":!0}),j(ue)!=="svelte-1f7sud"&&(ue.innerHTML=se),ae=k(ot),ve=c(ot,"LABEL",{class:!0});var _t=C(ve);ne=c(_t,"INPUT",{type:!0,class:!0}),pe=k(_t),oe=c(_t,"SPAN",{class:!0}),C(oe).forEach(i),Oe=k(_t),ce=c(_t,"SPAN",{class:!0});var Nt=C(ce);Y=R(Nt,fe),Nt.forEach(i),_t.forEach(i),ot.forEach(i),X=k(le),ee=c(le,"DIV",{class:!0});var je=C(ee);Z=c(je,"DIV",{class:!0});var Fe=C(Z);be=c(Fe,"H3",{class:!0,"data-svelte-h":!0}),j(be)!=="svelte-8afe1n"&&(be.textContent=Re),xe=k(Fe),te=c(Fe,"P",{class:!0,"data-svelte-h":!0}),j(te)!=="svelte-pmksb"&&(te.textContent=Be),ft=k(Fe),ye=c(Fe,"SMALL",{class:!0});var Lt=C(ye);Le.l(Lt),Lt.forEach(i),Fe.forEach(i),Ve=k(je),Ne=c(je,"LABEL",{class:!0});var dt=C(Ne);Pe=c(dt,"INPUT",{type:!0,class:!0}),re=k(dt),ie=c(dt,"SPAN",{class:!0}),C(ie).forEach(i),de=k(dt),me=c(dt,"SPAN",{class:!0});var vt=C(me);Se=R(vt,He),vt.forEach(i),dt.forEach(i),je.forEach(i),le.forEach(i),Me=k(W),ge=c(W,"DIV",{class:!0,"data-svelte-h":!0}),j(ge)!=="svelte-1v54njq"&&(ge.innerHTML=st),this.h()},h(){n(l,"class","setting-header svelte-1c4vxap"),n(p,"type","checkbox"),p.checked=d=a[38].useCognitivePipeline,p.disabled=a[40],n(p,"class","svelte-1c4vxap"),n(T,"class","toggle-switch svelte-1c4vxap"),n(h,"class","toggle-text svelte-1c4vxap"),n(r,"class","toggle-label svelte-1c4vxap"),n(t,"class","setting-row svelte-1c4vxap"),n(P,"class","setting-header svelte-1c4vxap"),n(_,"type","checkbox"),_.checked=V=a[38].enableSafetyChecks,_.disabled=L=a[40]||!a[38].useCognitivePipeline,n(_,"class","svelte-1c4vxap"),n(A,"class","toggle-switch svelte-1c4vxap"),n(G,"class","toggle-text svelte-1c4vxap"),n(g,"class","toggle-label svelte-1c4vxap"),n(D,"class","setting-row svelte-1c4vxap"),Ee(D,"disabled",!a[38].useCognitivePipeline),n(ue,"class","setting-header svelte-1c4vxap"),n(ne,"type","checkbox"),ne.checked=he=a[38].enableResponseRefinement,ne.disabled=_e=a[40]||!a[38].useCognitivePipeline,n(ne,"class","svelte-1c4vxap"),n(oe,"class","toggle-switch svelte-1c4vxap"),n(ce,"class","toggle-text svelte-1c4vxap"),n(ve,"class","toggle-label svelte-1c4vxap"),n($,"class","setting-row svelte-1c4vxap"),Ee($,"disabled",!a[38].useCognitivePipeline),n(be,"class","svelte-1c4vxap"),n(te,"class","setting-description svelte-1c4vxap"),n(ye,"class","setting-meta svelte-1c4vxap"),n(Z,"class","setting-header svelte-1c4vxap"),n(Pe,"type","checkbox"),Pe.checked=Ae=a[38].enableBlockingMode,Pe.disabled=ke=a[40]||!a[38].enableResponseRefinement,n(Pe,"class","svelte-1c4vxap"),n(ie,"class","toggle-switch svelte-1c4vxap"),n(me,"class","toggle-text svelte-1c4vxap"),n(Ne,"class","toggle-label svelte-1c4vxap"),n(ee,"class","setting-row blocking-mode svelte-1c4vxap"),Ee(ee,"disabled",!a[38].enableResponseRefinement),n(e,"class","cognitive-layers-grid svelte-1c4vxap"),n(ge,"class","cognitive-info-panel svelte-1c4vxap")},m(W,le){I(W,e,le),s(e,t),s(t,l),s(t,f),s(t,r),s(r,p),s(r,v),s(r,T),s(r,m),s(r,h),s(h,S),s(e,E),s(e,D),s(D,P),s(D,b),s(D,g),s(g,_),s(g,M),s(g,A),s(g,B),s(g,G),s(G,q),s(e,J),s(e,$),s($,ue),s($,ae),s($,ve),s(ve,ne),s(ve,pe),s(ve,oe),s(ve,Oe),s(ve,ce),s(ce,Y),s(e,X),s(e,ee),s(ee,Z),s(Z,be),s(Z,xe),s(Z,te),s(Z,ft),s(Z,ye),Le.m(ye,null),s(ee,Ve),s(ee,Ne),s(Ne,Pe),s(Ne,re),s(Ne,ie),s(Ne,de),s(Ne,me),s(me,Se),I(W,Me,le),I(W,ge,le),at||(Ie=[K(p,"change",a[75]),K(_,"change",a[76]),K(ne,"change",a[77]),K(Pe,"change",a[78])],at=!0)},p(W,le){le[1]&128&&d!==(d=W[38].useCognitivePipeline)&&(p.checked=d),le[1]&512&&(p.disabled=W[40]),le[1]&128&&y!==(y=W[38].useCognitivePipeline?"Enabled":"Disabled")&&Q(S,y),le[1]&128&&V!==(V=W[38].enableSafetyChecks)&&(_.checked=V),le[1]&640&&L!==(L=W[40]||!W[38].useCognitivePipeline)&&(_.disabled=L),le[1]&128&&F!==(F=W[38].enableSafetyChecks?"Enabled":"Disabled")&&Q(q,F),le[1]&128&&Ee(D,"disabled",!W[38].useCognitivePipeline),le[1]&128&&he!==(he=W[38].enableResponseRefinement)&&(ne.checked=he),le[1]&640&&_e!==(_e=W[40]||!W[38].useCognitivePipeline)&&(ne.disabled=_e),le[1]&128&&fe!==(fe=W[38].enableResponseRefinement?"Enabled":"Disabled")&&Q(Y,fe),le[1]&128&&Ee($,"disabled",!W[38].useCognitivePipeline),nt!==(nt=ct(W))&&(Le.d(1),Le=nt(W),Le&&(Le.c(),Le.m(ye,null))),le[1]&128&&Ae!==(Ae=W[38].enableBlockingMode)&&(Pe.checked=Ae),le[1]&640&&ke!==(ke=W[40]||!W[38].enableResponseRefinement)&&(Pe.disabled=ke),le[1]&128&&He!==(He=W[38].enableBlockingMode?"Enforcement":"Monitoring")&&Q(Se,He),le[1]&128&&Ee(ee,"disabled",!W[38].enableResponseRefinement)},d(W){W&&(i(e),i(Me),i(ge)),Le.d(),at=!1,Tt(Ie)}}}function da(a){let e,t="Loading cognitive layer settings...";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-145qcl"&&(e.textContent=t),this.h()},h(){n(e,"class","loading-text svelte-1c4vxap")},m(l,o){I(l,e,o)},p:De,d(l){l&&i(e)}}}function va(a){let e,t="MONITORING MODE",l;return{c(){e=u("strong"),e.textContent=t,l=U(" - Users receive original responses, refinements logged"),this.h()},l(o){e=c(o,"STRONG",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-yog678"&&(e.textContent=t),l=R(o," - Users receive original responses, refinements logged"),this.h()},h(){n(e,"class","monitoring-mode svelte-1c4vxap")},m(o,f){I(o,e,f),I(o,l,f)},d(o){o&&(i(e),i(l))}}}function pa(a){let e,t="ENFORCEMENT MODE ACTIVE",l;return{c(){e=u("strong"),e.textContent=t,l=U(" - Users receive sanitized responses"),this.h()},l(o){e=c(o,"STRONG",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1kqbnb4"&&(e.textContent=t),l=R(o," - Users receive sanitized responses"),this.h()},h(){n(e,"class","enforcement-mode svelte-1c4vxap")},m(o,f){I(o,e,f),I(o,l,f)},d(o){o&&(i(e),i(l))}}}function is(a){let e,t=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="svelte-1c4vxap"><path d="M8 1L1 14h14L8 1z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path><path d="M8 6v3M8 11v1" stroke="currentColor" stroke-width="2"></path></svg> <div class="svelte-1c4vxap"><strong class="svelte-1c4vxap">Public Profile Warning</strong> <p class="svelte-1c4vxap">Guest users will be able to interact with your persona in read-only
                emulation mode. They cannot modify your data or access private information.</p></div>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1rxphf7"&&(e.innerHTML=t),this.h()},h(){n(e,"class","warning-box svelte-1c4vxap")},m(l,o){I(l,e,o)},d(l){l&&i(e)}}}function ha(a){let e,t;return e=new ks({}),{c(){ys(e.$$.fragment)},l(l){Cs(e.$$.fragment,l)},m(l,o){gs(e,l,o),t=!0},p:De,i(l){t||(Yt(e.$$.fragment,l),t=!0)},o(l){zt(e.$$.fragment,l),t=!1},d(l){bs(e,l)}}}function _a(a){let e,t,l={};return e=new ks({props:l}),a[80](e),{c(){ys(e.$$.fragment)},l(o){Cs(e.$$.fragment,o)},m(o,f){gs(e,o,f),t=!0},p(o,f){const r={};e.$set(r)},i(o){t||(Yt(e.$$.fragment,o),t=!0)},o(o){zt(e.$$.fragment,o),t=!1},d(o){a[80](null),bs(e,o)}}}function cs(a){let e,t,l="‚ö†Ô∏è Factory Reset",o,f,r="Delete all memories, conversations, and logs, and restore the default GPT-OSS base model. This action is permanent and cannot be undone.",p,d,v=a[27]?"Resetting‚Ä¶":"Reset to Factory Settings",T,m,h;return{c(){e=u("div"),t=u("h3"),t.textContent=l,o=w(),f=u("p"),f.textContent=r,p=w(),d=u("button"),T=U(v),this.h()},l(y){e=c(y,"DIV",{class:!0});var S=C(e);t=c(S,"H3",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-36ejfs"&&(t.textContent=l),o=k(S),f=c(S,"P",{class:!0,"data-svelte-h":!0}),j(f)!=="svelte-ouapvg"&&(f.textContent=r),p=k(S),d=c(S,"BUTTON",{class:!0});var E=C(d);T=R(E,v),E.forEach(i),S.forEach(i),this.h()},h(){n(t,"class","svelte-1c4vxap"),n(f,"class","danger-description svelte-1c4vxap"),n(d,"class","btn btn-danger svelte-1c4vxap"),d.disabled=a[27],n(e,"class","danger-section svelte-1c4vxap")},m(y,S){I(y,e,S),s(e,t),s(e,o),s(e,f),s(e,p),s(e,d),s(d,T),m||(h=K(d,"click",a[56]),m=!0)},p(y,S){S[0]&134217728&&v!==(v=y[27]?"Resetting‚Ä¶":"Reset to Factory Settings")&&Q(T,v),S[0]&134217728&&(d.disabled=y[27])},d(y){y&&i(e),m=!1,h()}}}function us(a){let e,t="Trust level changes are audited and logged for security",l,o,f="All skill executions respect the current trust level";return{c(){e=u("li"),e.textContent=t,l=w(),o=u("li"),o.textContent=f,this.h()},l(r){e=c(r,"LI",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1vqegd1"&&(e.textContent=t),l=k(r),o=c(r,"LI",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-p25k31"&&(o.textContent=f),this.h()},h(){n(e,"class","svelte-1c4vxap"),n(o,"class","svelte-1c4vxap")},m(r,p){I(r,e,p),I(r,l,p),I(r,o,p)},d(r){r&&(i(e),i(l),i(o))}}}function ma(a){let e,t,l='<h1 class="svelte-1c4vxap">üîí Security &amp; Account Settings</h1> <p class="svelte-1c4vxap">Manage your authentication and profile information</p>',o,f,r,p;const d=[Ms,As,Vs],v=[];function T(m,h){return m[1]?0:m[0]?2:1}return f=T(a),r=v[f]=d[f](a),{c(){e=u("div"),t=u("div"),t.innerHTML=l,o=w(),r.c(),this.h()},l(m){e=c(m,"DIV",{class:!0});var h=C(e);t=c(h,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-3ldqba"&&(t.innerHTML=l),o=k(h),r.l(h),h.forEach(i),this.h()},h(){n(t,"class","security-header svelte-1c4vxap"),n(e,"class","security-container svelte-1c4vxap")},m(m,h){I(m,e,h),s(e,t),s(e,o),v[f].m(e,null),p=!0},p(m,h){let y=f;f=T(m),f===y?v[f].p(m,h):(hs(),zt(v[y],1,1,()=>{v[y]=null}),_s(),r=v[f],r?r.p(m,h):(r=v[f]=d[f](m),r.c()),Yt(r,1),r.m(e,null))},i(m){p||(Yt(r),p=!0)},o(m){zt(r),p=!1},d(m){m&&i(e),v[f].d()}}}function ba(a,e,t){let l=null,o=!0,f="",r="",p=!1,d="",v=!1,T=!1,m="",h="",y="",S=!1,E=!1,D="",P="",x=!1,b="private",g=!1,_=[],V=!1,L=!1,M=!1,A=!1,B=null,G=!1,F=!1,q,J=!1;ps(async()=>{await $(),await Be(),await ye(),await Ne(),await ie(),await _e(),await oe(),await me()});async function $(){try{const H=await(await we("/api/auth/me")).json();H.success&&H.user?(t(0,l=H.user),t(13,D=H.user.metadata?.displayName||""),t(14,P=H.user.metadata?.email||"")):t(2,f="Not authenticated")}catch(O){t(2,f="Failed to load user information"),console.error(O)}finally{t(1,o=!1)}}async function ue(){if(!d||d.trim()===""){t(2,f="Username cannot be empty");return}t(6,v=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/auth/change-username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newUsername:d})})).json();H.success?(t(3,r="Username changed successfully!"),t(4,p=!1),t(5,d=""),await $()):t(2,f=H.error||"Failed to change username")}catch(O){t(2,f="Network error. Please try again."),console.error(O)}finally{t(6,v=!1)}}async function se(){if(!m||!h||!y){t(2,f="All password fields are required");return}if(h!==y){t(2,f="New passwords do not match");return}if(h.length<4){t(2,f="Password must be at least 4 characters");return}t(11,S=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:m,newPassword:h})})).json();H.success?(t(3,r="Password changed successfully!"),t(7,T=!1),t(8,m=""),t(9,h=""),t(10,y="")):t(2,f=H.error||"Failed to change password")}catch(O){t(2,f="Network error. Please try again."),console.error(O)}finally{t(11,S=!1)}}async function ae(){t(15,x=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:D||void 0,email:P||void 0})})).json();H.success?(t(3,r="Profile updated successfully!"),t(12,E=!1),await $()):t(2,f=H.error||"Failed to update profile")}catch(O){t(2,f="Network error. Please try again."),console.error(O)}finally{t(15,x=!1)}}function ve(){t(4,p=!1),t(5,d=""),t(2,f="")}function ne(){t(7,T=!1),t(8,m=""),t(9,h=""),t(10,y=""),t(2,f="")}function he(){t(12,E=!1),l&&(t(13,D=l.metadata?.displayName||""),t(14,P=l.metadata?.email||"")),t(2,f="")}async function _e(){try{const O=await we("/api/profiles/visibility");if(O.ok){const H=await O.json();t(16,b=H.visibility||"private")}}catch(O){console.error("Failed to fetch visibility:",O)}}async function pe(){if(!g){t(17,g=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/profiles/visibility",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visibility:b})})).json();H.success?(t(3,r="Profile visibility updated successfully"),setTimeout(()=>t(3,r=""),3e3)):t(2,f=H.error||"Failed to update visibility")}catch(O){t(2,f="Network error. Please try again."),console.error("Failed to save visibility:",O)}finally{t(17,g=!1)}}}async function oe(){t(24,G=!0);try{const O=await we("/api/cloudflare/status");O.ok?t(23,B=await O.json()):console.warn("Failed to load tunnel status")}catch(O){console.error("Failed to load tunnel status:",O)}finally{t(24,G=!1)}}async function Oe(O){if(!F){t(25,F=!0),t(2,f=""),t(3,r="");try{const H=await we("/api/cloudflare/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:O})}),Ce=await H.json();H.ok&&Ce.success?(t(3,r=O?"Cloudflare tunnel enabled":"Cloudflare tunnel disabled"),await oe()):t(2,f=Ce.error||"Failed to update Cloudflare tunnel")}catch(H){t(2,f="Network error. Please try again."),console.error("Failed to toggle tunnel:",H)}finally{t(25,F=!1)}}}let ce="",fe=[],Y=!1,X=!1,ee=!0,Z=!1,be=!1,Re=!0,xe=!1,te=!1;async function Be(){t(30,Y=!0);try{const O=await we("/api/trust"),H=await O.json();O.ok&&(t(28,ce=H.level||"observe"),t(29,fe=H.available||[]))}catch(O){console.error("Failed to load trust level:",O)}finally{t(30,Y=!1)}}async function ft(O){const H=O.target,Ce=H.value;t(31,X=!0),t(2,f=""),t(3,r="");try{const Gt=await(await we("/api/trust",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({level:Ce})})).json();Gt.ok?(t(28,ce=Ce),t(3,r=`Trust level changed to: ${Ce}`),Fl.update(mt=>mt+1)):(t(2,f=Gt.error||"Failed to change trust level"),H.value=ce)}catch(qe){t(2,f="Network error. Please try again."),console.error(qe),H.value=ce}finally{t(31,X=!1)}}async function ye(){t(33,Z=!0);try{const O=await we("/api/agent-config"),H=await O.json();O.ok&&H.config&&t(32,ee=H.config.includePersonaSummary??!0)}catch(O){console.error("Failed to load agent config:",O)}finally{t(33,Z=!1)}}async function Ve(){t(34,be=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/agent-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({includePersonaSummary:!ee})})).json();H.success?(t(32,ee=!ee),t(3,r=`Persona summary ${ee?"enabled":"disabled"}`)):t(2,f=H.error||"Failed to update persona summary setting")}catch(O){t(2,f="Network error. Please try again."),console.error(O)}finally{t(34,be=!1)}}async function Ne(){t(36,xe=!0);try{const O=await we("/api/trust-coupling"),H=await O.json();O.ok&&H.success&&t(35,Re=H.coupled??!0)}catch(O){console.error("Failed to load trust coupling:",O)}finally{t(36,xe=!1)}}async function Pe(){t(37,te=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/trust-coupling",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coupled:!Re})})).json();H.success?(t(35,Re=!Re),t(3,r=`Trust level ${Re?"coupled to":"decoupled from"} cognitive mode`),Fl.update(Ce=>Ce+1)):t(2,f=H.error||"Failed to toggle coupling")}catch(O){t(2,f="Network error. Please try again."),console.error(O)}finally{t(37,te=!1)}}let Ae={useCognitivePipeline:!0,enableSafetyChecks:!0,enableResponseRefinement:!0,enableBlockingMode:!1},ke=!1,re=!1;async function ie(){t(39,ke=!0);try{const O=await we("/api/cognitive-layers-config"),H=await O.json();O.ok&&H.success&&H.config&&t(38,Ae=H.config)}catch(O){console.error("Failed to load cognitive layers config:",O)}finally{t(39,ke=!1)}}async function de(O){t(40,re=!0),t(2,f=""),t(3,r="");try{const H={...Ae,[O]:!Ae[O]},qe=await(await we("/api/cognitive-layers-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).json();qe.success?(t(38,Ae=qe.config),t(3,r="Cognitive layer setting updated successfully")):t(2,f=qe.error||"Failed to update cognitive layer settings")}catch(H){t(2,f="Network error. Please try again."),console.error(H)}finally{t(40,re=!1)}}async function me(){t(19,V=!0);try{const O=await we("/api/recovery-codes"),H=await O.json();O.ok&&H.success&&t(18,_=H.codes||[])}catch(O){console.error("Failed to load recovery codes:",O)}finally{t(19,V=!1)}}async function He(){t(21,M=!0),t(2,f=""),t(3,r="");try{const H=await(await we("/api/recovery-codes",{method:"POST",headers:{"Content-Type":"application/json"}})).json();H.success?(t(18,_=H.codes),t(20,L=!0),t(22,A=!1),t(3,r="Recovery codes regenerated successfully! Save them in a secure place.")):t(2,f=H.error||"Failed to regenerate recovery codes")}catch(O){t(2,f="Network error. Please try again."),console.error(O)}finally{t(21,M=!1)}}function Se(){const O=_.join(`
`);navigator.clipboard.writeText(O).then(()=>{t(3,r="Recovery codes copied to clipboard!"),setTimeout(()=>t(3,r=""),3e3)}).catch(H=>{t(2,f="Failed to copy to clipboard"),console.error(H)})}async function Me(){if(!(J||!window.confirm("This will erase all memories, logs, and conversations, and restore factory defaults. This action cannot be undone. Continue?"))){t(27,J=!0);try{if(!(await we("/api/factory-reset",{method:"POST"})).ok)throw new Error("Factory reset failed");alert("Factory reset complete. The page will now reload."),window.location.reload()}catch(H){console.error("[SecuritySettings] Factory reset error:",H),alert(`Factory reset failed: ${H.message}`)}finally{t(27,J=!1)}}}const ge=()=>t(2,f=""),st=()=>t(3,r=""),at=()=>t(4,p=!0);function Ie(){d=this.value,t(5,d)}const ct=()=>t(7,T=!0);function nt(){m=this.value,t(8,m)}function Le(){h=this.value,t(9,h)}function W(){y=this.value,t(10,y)}const le=()=>t(20,L=!0),pt=()=>t(22,A=!0),$e=()=>t(22,A=!1),Te=()=>t(20,L=!1),rt=()=>t(12,E=!0);function ht(){D=this.value,t(13,D)}function Dt(){P=this.value,t(14,P)}const ot=()=>Oe(!0),_t=()=>Oe(!1);function Nt(){ce=Hl(this),t(28,ce),t(29,fe)}const je=()=>de("useCognitivePipeline"),Fe=()=>de("enableSafetyChecks"),Lt=()=>de("enableResponseRefinement"),dt=()=>de("enableBlockingMode");function vt(){b=Hl(this),t(16,b)}function Jt(O){xs[O?"unshift":"push"](()=>{q=O,t(26,q)})}return[l,o,f,r,p,d,v,T,m,h,y,S,E,D,P,x,b,g,_,V,L,M,A,B,G,F,q,J,ce,fe,Y,X,ee,Z,be,Re,xe,te,Ae,ke,re,ue,se,ae,ve,ne,he,pe,oe,Oe,ft,Ve,Pe,de,He,Se,Me,ge,st,at,Ie,ct,nt,Le,W,le,pt,$e,Te,rt,ht,Dt,ot,_t,Nt,je,Fe,Lt,dt,vt,Jt]}class ka extends fs{constructor(e){super(),ds(this,e,ba,ma,vs,{},null,[-1,-1,-1,-1])}}export{ka as default};
