import{S as ia,i as ra,s as oa,n as At,d as u,a as F,b as s,c as g,e as h,f as k,h as A,j as _,k as P,N as ca,o as ua,U as fa,p as O,O as dt,x as be,g as Y,q as w,t as E,l as St,m as os,v as wl,w as Hl,z as Ne,y as na,r as Se,u as Pt,R as Ve,T as Ot,P as bt,Q as aa}from"./api-config.BAZ_dc_Y.js";import{i as da}from"./security-policy.CnYnD1q2.js";import"./index.enr_Xien.js";function cs(t,e,l){const n=t.slice();return n[100]=e[l],n[101]=e,n[102]=l,n}function us(t,e,l){const n=t.slice();return n[103]=e[l],n}function fs(t,e,l){const n=t.slice();return n[106]=e[l],n}function ds(t,e,l){const n=t.slice();return n[109]=e[l],n[111]=l,n}function vs(t,e,l){const n=t.slice();return n[112]=e[l],n}function hs(t,e,l){const n=t.slice();return n[115]=e[l],n}function _s(t,e,l){const n=t.slice();return n[118]=e[l],n}function ps(t,e,l){const n=t.slice();return n[121]=e[l],n[123]=l,n}function gs(t,e,l){const n=t.slice();return n[109]=e[l],n[111]=l,n}function ms(t,e,l){const n=t.slice();return n[109]=e[l],n[111]=l,n}function ys(t,e,l){const n=t.slice();return n[100]=e[l],n}function bs(t,e,l){const n=t.slice();return n[100]=e[l],n[128]=e,n[129]=l,n}function ks(t,e,l){const n=t.slice();return n[109]=e[l],n[111]=l,n}function va(t){let e,l,n,r,a,i,o,c="All Status",d,f="Nascent (Growing)",m,b="Pending",y,p="Planning",v,S="Reviewing",C,N="‚≠ê Awaiting Approval",I,T="Approved",R,D="Executing",j,H="üîç Awaiting Review",q,B="Completed",M,X="Rejected",G,z="Abandoned",K,Q,te="Refresh",ae,ie,ce=t[7]?"Cancel":"+ New Desire",fe,pe,se,de=t[0].filter(xn).length>0,ve,ge=t[0].filter($n).length>0,ne,ke,ue,Ae,he=t[2]&&ws(t),oe=t[1]&&Es(t),le=t[4]&&Cs(t),x=t[7]&&Ns(t),Z=de&&Ss(t),ee=ge&&Os(t);function Ee(J,re){return J[0].length===0?ya:ma}let Fe=Ee(t),me=Fe(t);return{c(){he&&he.c(),e=P(),oe&&oe.c(),l=P(),le&&le.c(),n=P(),r=_("div"),a=_("div"),i=_("select"),o=_("option"),o.textContent=c,d=_("option"),d.textContent=f,m=_("option"),m.textContent=b,y=_("option"),y.textContent=p,v=_("option"),v.textContent=S,C=_("option"),C.textContent=N,I=_("option"),I.textContent=T,R=_("option"),R.textContent=D,j=_("option"),j.textContent=H,q=_("option"),q.textContent=B,M=_("option"),M.textContent=X,G=_("option"),G.textContent=z,K=P(),Q=_("button"),Q.textContent=te,ae=P(),ie=_("button"),fe=E(ce),pe=P(),x&&x.c(),se=P(),Z&&Z.c(),ve=P(),ee&&ee.c(),ne=P(),ke=_("div"),me.c(),this.h()},l(J){he&&he.l(J),e=A(J),oe&&oe.l(J),l=A(J),le&&le.l(J),n=A(J),r=h(J,"DIV",{class:!0});var re=k(r);a=h(re,"DIV",{class:!0});var je=k(a);i=h(je,"SELECT",{class:!0});var we=k(i);o=h(we,"OPTION",{"data-svelte-h":!0}),Y(o)!=="svelte-rskcdc"&&(o.textContent=c),d=h(we,"OPTION",{"data-svelte-h":!0}),Y(d)!=="svelte-1ufxiji"&&(d.textContent=f),m=h(we,"OPTION",{"data-svelte-h":!0}),Y(m)!=="svelte-mygx0s"&&(m.textContent=b),y=h(we,"OPTION",{"data-svelte-h":!0}),Y(y)!=="svelte-wh6uay"&&(y.textContent=p),v=h(we,"OPTION",{"data-svelte-h":!0}),Y(v)!=="svelte-1swo5mq"&&(v.textContent=S),C=h(we,"OPTION",{"data-svelte-h":!0}),Y(C)!=="svelte-2y8y5t"&&(C.textContent=N),I=h(we,"OPTION",{"data-svelte-h":!0}),Y(I)!=="svelte-ixlfky"&&(I.textContent=T),R=h(we,"OPTION",{"data-svelte-h":!0}),Y(R)!=="svelte-1hvu13e"&&(R.textContent=D),j=h(we,"OPTION",{"data-svelte-h":!0}),Y(j)!=="svelte-1w90zz"&&(j.textContent=H),q=h(we,"OPTION",{"data-svelte-h":!0}),Y(q)!=="svelte-1s7i1yc"&&(q.textContent=B),M=h(we,"OPTION",{"data-svelte-h":!0}),Y(M)!=="svelte-1jfsnli"&&(M.textContent=X),G=h(we,"OPTION",{"data-svelte-h":!0}),Y(G)!=="svelte-1vmesra"&&(G.textContent=z),we.forEach(u),K=A(je),Q=h(je,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(Q)!=="svelte-49v78b"&&(Q.textContent=te),je.forEach(u),ae=A(re),ie=h(re,"BUTTON",{class:!0});var Te=k(ie);fe=w(Te,ce),Te.forEach(u),re.forEach(u),pe=A(J),x&&x.l(J),se=A(J),Z&&Z.l(J),ve=A(J),ee&&ee.l(J),ne=A(J),ke=h(J,"DIV",{class:!0});var Ce=k(ke);me.l(Ce),Ce.forEach(u),this.h()},h(){o.__value="all",Ne(o,o.__value),d.__value="nascent",Ne(d,d.__value),m.__value="pending",Ne(m,m.__value),y.__value="planning",Ne(y,y.__value),v.__value="reviewing",Ne(v,v.__value),C.__value="awaiting_approval",Ne(C,C.__value),I.__value="approved",Ne(I,I.__value),R.__value="executing",Ne(R,R.__value),j.__value="awaiting_review",Ne(j,j.__value),q.__value="completed",Ne(q,q.__value),M.__value="rejected",Ne(M,M.__value),G.__value="abandoned",Ne(G,G.__value),g(i,"class","select-input svelte-158yyg6"),t[5]===void 0&&na(()=>t[50].call(i)),g(Q,"class","btn-secondary svelte-158yyg6"),g(a,"class","flex items-center gap-2"),g(ie,"class","btn-primary svelte-158yyg6"),g(r,"class","controls mt-4 svelte-158yyg6"),g(ke,"class","desire-list mt-4 svelte-158yyg6")},m(J,re){he&&he.m(J,re),F(J,e,re),oe&&oe.m(J,re),F(J,l,re),le&&le.m(J,re),F(J,n,re),F(J,r,re),s(r,a),s(a,i),s(i,o),s(i,d),s(i,m),s(i,y),s(i,v),s(i,C),s(i,I),s(i,R),s(i,j),s(i,q),s(i,M),s(i,G),Hl(i,t[5],!0),s(a,K),s(a,Q),s(r,ae),s(r,ie),s(ie,fe),F(J,pe,re),x&&x.m(J,re),F(J,se,re),Z&&Z.m(J,re),F(J,ve,re),ee&&ee.m(J,re),F(J,ne,re),F(J,ke,re),me.m(ke,null),ue||(Ae=[be(i,"change",t[50]),be(i,"change",t[32]),be(Q,"click",t[51]),be(ie,"click",t[52])],ue=!0)},p(J,re){J[2]?he?he.p(J,re):(he=ws(J),he.c(),he.m(e.parentNode,e)):he&&(he.d(1),he=null),J[1]?oe?oe.p(J,re):(oe=Es(J),oe.c(),oe.m(l.parentNode,l)):oe&&(oe.d(1),oe=null),J[4]?le?le.p(J,re):(le=Cs(J),le.c(),le.m(n.parentNode,n)):le&&(le.d(1),le=null),re[0]&32&&Hl(i,J[5]),re[0]&128&&ce!==(ce=J[7]?"Cancel":"+ New Desire")&&O(fe,ce),J[7]?x?x.p(J,re):(x=Ns(J),x.c(),x.m(se.parentNode,se)):x&&(x.d(1),x=null),re[0]&1&&(de=J[0].filter(xn).length>0),de?Z?Z.p(J,re):(Z=Ss(J),Z.c(),Z.m(ve.parentNode,ve)):Z&&(Z.d(1),Z=null),re[0]&1&&(ge=J[0].filter($n).length>0),ge?ee?ee.p(J,re):(ee=Os(J),ee.c(),ee.m(ne.parentNode,ne)):ee&&(ee.d(1),ee=null),Fe===(Fe=Ee(J))&&me?me.p(J,re):(me.d(1),me=Fe(J),me&&(me.c(),me.m(ke,null)))},d(J){J&&(u(e),u(l),u(n),u(r),u(pe),u(se),u(ve),u(ne),u(ke)),he&&he.d(J),oe&&oe.d(J),le&&le.d(J),x&&x.d(J),Z&&Z.d(J),ee&&ee.d(J),me.d(),ue=!1,wl(Ae)}}}function ha(t){let e,l='<div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div> <p class="mt-2 muted svelte-158yyg6">Loading agency data...</p>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(n){e=h(n,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1h4smay"&&(e.innerHTML=l),this.h()},h(){g(e,"class","text-center py-8")},m(n,r){F(n,e,r)},p:At,d(n){n&&u(e)}}}function _a(t){let e,l='<h2 class="text-lg font-semibold">Agency Access Restricted</h2> <p class="muted text-sm svelte-158yyg6">Log in as the owner to manage autonomous desires.</p>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(n){e=h(n,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-4nv23d"&&(e.innerHTML=l),this.h()},h(){g(e,"class","card p-6 text-center space-y-2 svelte-158yyg6")},m(n,r){F(n,e,r)},p:At,d(n){n&&u(e)}}}function ws(t){let e,l,n,r="Total Desires",a,i,o=t[2].total+"",c,d,f,m,b="Active",y,p,v=t[2].active+"",S,C,N,I,T="Waiting",R,D,j=t[2].waiting+"",H,q,B,M,X="Completed",G,z,K=t[2].completed+"",Q,te,ae,ie,ce="Failed/Rejected",fe,pe,se=t[2].failed+"",de;return{c(){e=_("div"),l=_("div"),n=_("div"),n.textContent=r,a=P(),i=_("div"),c=E(o),d=P(),f=_("div"),m=_("div"),m.textContent=b,y=P(),p=_("div"),S=E(v),C=P(),N=_("div"),I=_("div"),I.textContent=T,R=P(),D=_("div"),H=E(j),q=P(),B=_("div"),M=_("div"),M.textContent=X,G=P(),z=_("div"),Q=E(K),te=P(),ae=_("div"),ie=_("div"),ie.textContent=ce,fe=P(),pe=_("div"),de=E(se),this.h()},l(ve){e=h(ve,"DIV",{class:!0});var ge=k(e);l=h(ge,"DIV",{class:!0});var ne=k(l);n=h(ne,"DIV",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1eqbkfz"&&(n.textContent=r),a=A(ne),i=h(ne,"DIV",{class:!0});var ke=k(i);c=w(ke,o),ke.forEach(u),ne.forEach(u),d=A(ge),f=h(ge,"DIV",{class:!0});var ue=k(f);m=h(ue,"DIV",{class:!0,"data-svelte-h":!0}),Y(m)!=="svelte-d45dqs"&&(m.textContent=b),y=A(ue),p=h(ue,"DIV",{class:!0});var Ae=k(p);S=w(Ae,v),Ae.forEach(u),ue.forEach(u),C=A(ge),N=h(ge,"DIV",{class:!0});var he=k(N);I=h(he,"DIV",{class:!0,"data-svelte-h":!0}),Y(I)!=="svelte-168mff5"&&(I.textContent=T),R=A(he),D=h(he,"DIV",{class:!0});var oe=k(D);H=w(oe,j),oe.forEach(u),he.forEach(u),q=A(ge),B=h(ge,"DIV",{class:!0});var le=k(B);M=h(le,"DIV",{class:!0,"data-svelte-h":!0}),Y(M)!=="svelte-lhahf3"&&(M.textContent=X),G=A(le),z=h(le,"DIV",{class:!0});var x=k(z);Q=w(x,K),x.forEach(u),le.forEach(u),te=A(ge),ae=h(ge,"DIV",{class:!0});var Z=k(ae);ie=h(Z,"DIV",{class:!0,"data-svelte-h":!0}),Y(ie)!=="svelte-loupmk"&&(ie.textContent=ce),fe=A(Z),pe=h(Z,"DIV",{class:!0});var ee=k(pe);de=w(ee,se),ee.forEach(u),Z.forEach(u),ge.forEach(u),this.h()},h(){g(n,"class","stat-label svelte-158yyg6"),g(i,"class","stat-value svelte-158yyg6"),g(l,"class","stat-card svelte-158yyg6"),g(m,"class","stat-label svelte-158yyg6"),g(p,"class","stat-value text-blue-600 dark:text-blue-400 svelte-158yyg6"),g(f,"class","stat-card svelte-158yyg6"),g(I,"class","stat-label svelte-158yyg6"),g(D,"class","stat-value text-yellow-600 dark:text-yellow-400 svelte-158yyg6"),g(N,"class","stat-card svelte-158yyg6"),g(M,"class","stat-label svelte-158yyg6"),g(z,"class","stat-value text-green-600 dark:text-green-400 svelte-158yyg6"),g(B,"class","stat-card svelte-158yyg6"),g(ie,"class","stat-label svelte-158yyg6"),g(pe,"class","stat-value text-red-600 dark:text-red-400 svelte-158yyg6"),g(ae,"class","stat-card svelte-158yyg6"),g(e,"class","stats-grid svelte-158yyg6")},m(ve,ge){F(ve,e,ge),s(e,l),s(l,n),s(l,a),s(l,i),s(i,c),s(e,d),s(e,f),s(f,m),s(f,y),s(f,p),s(p,S),s(e,C),s(e,N),s(N,I),s(N,R),s(N,D),s(D,H),s(e,q),s(e,B),s(B,M),s(B,G),s(B,z),s(z,Q),s(e,te),s(e,ae),s(ae,ie),s(ae,fe),s(ae,pe),s(pe,de)},p(ve,ge){ge[0]&4&&o!==(o=ve[2].total+"")&&O(c,o),ge[0]&4&&v!==(v=ve[2].active+"")&&O(S,v),ge[0]&4&&j!==(j=ve[2].waiting+"")&&O(H,j),ge[0]&4&&K!==(K=ve[2].completed+"")&&O(Q,K),ge[0]&4&&se!==(se=ve[2].failed+"")&&O(de,se)},d(ve){ve&&u(e)}}}function Es(t){let e,l,n="Performance Metrics",r,a,i,o,c="Generated:",d,f,m=t[1].totalGenerated+"",b,y,p,v,S="Completed:",C,N,I=t[1].totalCompleted+"",T,R,D,j,H="Today:",q,B,M=t[1].completedToday+"",X,G,z,K,Q="Success Rate:",te,ae,ie=(t[1].successRate*100).toFixed(1)+"",ce,fe;return{c(){e=_("div"),l=_("h3"),l.textContent=n,r=P(),a=_("div"),i=_("div"),o=_("span"),o.textContent=c,d=P(),f=_("span"),b=E(m),y=P(),p=_("div"),v=_("span"),v.textContent=S,C=P(),N=_("span"),T=E(I),R=P(),D=_("div"),j=_("span"),j.textContent=H,q=P(),B=_("span"),X=E(M),G=P(),z=_("div"),K=_("span"),K.textContent=Q,te=P(),ae=_("span"),ce=E(ie),fe=E("%"),this.h()},l(pe){e=h(pe,"DIV",{class:!0});var se=k(e);l=h(se,"H3",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-122hjue"&&(l.textContent=n),r=A(se),a=h(se,"DIV",{class:!0});var de=k(a);i=h(de,"DIV",{});var ve=k(i);o=h(ve,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-3fgkc3"&&(o.textContent=c),d=A(ve),f=h(ve,"SPAN",{class:!0});var ge=k(f);b=w(ge,m),ge.forEach(u),ve.forEach(u),y=A(de),p=h(de,"DIV",{});var ne=k(p);v=h(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Y(v)!=="svelte-1myudmv"&&(v.textContent=S),C=A(ne),N=h(ne,"SPAN",{class:!0});var ke=k(N);T=w(ke,I),ke.forEach(u),ne.forEach(u),R=A(de),D=h(de,"DIV",{});var ue=k(D);j=h(ue,"SPAN",{class:!0,"data-svelte-h":!0}),Y(j)!=="svelte-y5x1lj"&&(j.textContent=H),q=A(ue),B=h(ue,"SPAN",{class:!0});var Ae=k(B);X=w(Ae,M),Ae.forEach(u),ue.forEach(u),G=A(de),z=h(de,"DIV",{});var he=k(z);K=h(he,"SPAN",{class:!0,"data-svelte-h":!0}),Y(K)!=="svelte-164p507"&&(K.textContent=Q),te=A(he),ae=h(he,"SPAN",{class:!0});var oe=k(ae);ce=w(oe,ie),fe=w(oe,"%"),oe.forEach(u),he.forEach(u),de.forEach(u),se.forEach(u),this.h()},h(){g(l,"class","text-sm font-semibold mb-3"),g(o,"class","muted svelte-158yyg6"),g(f,"class","font-semibold ml-1"),g(v,"class","muted svelte-158yyg6"),g(N,"class","font-semibold ml-1"),g(j,"class","muted svelte-158yyg6"),g(B,"class","font-semibold ml-1"),g(K,"class","muted svelte-158yyg6"),g(ae,"class","font-semibold ml-1"),g(a,"class","grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm"),g(e,"class","card p-4 mt-4 svelte-158yyg6")},m(pe,se){F(pe,e,se),s(e,l),s(e,r),s(e,a),s(a,i),s(i,o),s(i,d),s(i,f),s(f,b),s(a,y),s(a,p),s(p,v),s(p,C),s(p,N),s(N,T),s(a,R),s(a,D),s(D,j),s(D,q),s(D,B),s(B,X),s(a,G),s(a,z),s(z,K),s(z,te),s(z,ae),s(ae,ce),s(ae,fe)},p(pe,se){se[0]&2&&m!==(m=pe[1].totalGenerated+"")&&O(b,m),se[0]&2&&I!==(I=pe[1].totalCompleted+"")&&O(T,I),se[0]&2&&M!==(M=pe[1].completedToday+"")&&O(X,M),se[0]&2&&ie!==(ie=(pe[1].successRate*100).toFixed(1)+"")&&O(ce,ie)},d(pe){pe&&u(e)}}}function Cs(t){let e,l,n,r,a="Dismiss",i,o;return{c(){e=_("div"),l=E(t[4]),n=P(),r=_("button"),r.textContent=a,this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);l=w(d,t[4]),n=A(d),r=h(d,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-ycc8pk"&&(r.textContent=a),d.forEach(u),this.h()},h(){g(r,"class","ml-2 underline"),g(e,"class","error-banner mt-4 svelte-158yyg6")},m(c,d){F(c,e,d),s(e,l),s(e,n),s(e,r),i||(o=be(r,"click",t[49]),i=!0)},p(c,d){d[0]&16&&O(l,c[4])},d(c){c&&u(e),i=!1,o()}}}function Ns(t){let e,l,n="Create Manual Desire",r,a,i,o,c,d,f,m,b,y,p,v,S="None",C,N="Low",I,T="Medium",R,D="High",j,H,q="Create",B,M;return{c(){e=_("div"),l=_("h3"),l.textContent=n,r=P(),a=_("input"),i=P(),o=_("textarea"),c=P(),d=_("textarea"),f=P(),m=_("div"),b=_("label"),y=E(`Risk Level:
            `),p=_("select"),v=_("option"),v.textContent=S,C=_("option"),C.textContent=N,I=_("option"),I.textContent=T,R=_("option"),R.textContent=D,j=P(),H=_("button"),H.textContent=q,this.h()},l(X){e=h(X,"DIV",{class:!0});var G=k(e);l=h(G,"H3",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-aqyrie"&&(l.textContent=n),r=A(G),a=h(G,"INPUT",{type:!0,placeholder:!0,class:!0}),i=A(G),o=h(G,"TEXTAREA",{placeholder:!0,class:!0,rows:!0}),k(o).forEach(u),c=A(G),d=h(G,"TEXTAREA",{placeholder:!0,class:!0,rows:!0}),k(d).forEach(u),f=A(G),m=h(G,"DIV",{class:!0});var z=k(m);b=h(z,"LABEL",{class:!0});var K=k(b);y=w(K,`Risk Level:
            `),p=h(K,"SELECT",{class:!0});var Q=k(p);v=h(Q,"OPTION",{"data-svelte-h":!0}),Y(v)!=="svelte-y06u3y"&&(v.textContent=S),C=h(Q,"OPTION",{"data-svelte-h":!0}),Y(C)!=="svelte-1f4z4ku"&&(C.textContent=N),I=h(Q,"OPTION",{"data-svelte-h":!0}),Y(I)!=="svelte-1u6j0ru"&&(I.textContent=T),R=h(Q,"OPTION",{"data-svelte-h":!0}),Y(R)!=="svelte-poeh2m"&&(R.textContent=D),Q.forEach(u),K.forEach(u),j=A(z),H=h(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(H)!=="svelte-1u5au3s"&&(H.textContent=q),z.forEach(u),G.forEach(u),this.h()},h(){g(l,"class","font-semibold"),g(a,"type","text"),g(a,"placeholder","Title (e.g., 'Learn a new skill')"),g(a,"class","input-field svelte-158yyg6"),g(o,"placeholder","Description (what do you want to achieve?)"),g(o,"class","input-field svelte-158yyg6"),g(o,"rows","2"),g(d,"placeholder","Reason (why is this important?)"),g(d,"class","input-field svelte-158yyg6"),g(d,"rows","2"),v.__value="none",Ne(v,v.__value),C.__value="low",Ne(C,C.__value),I.__value="medium",Ne(I,I.__value),R.__value="high",Ne(R,R.__value),g(p,"class","select-input ml-2 svelte-158yyg6"),t[8].risk===void 0&&na(()=>t[56].call(p)),g(b,"class","text-sm"),g(H,"class","btn-primary svelte-158yyg6"),g(m,"class","flex items-center gap-4"),g(e,"class","card p-4 mt-4 space-y-3 svelte-158yyg6")},m(X,G){F(X,e,G),s(e,l),s(e,r),s(e,a),Ne(a,t[8].title),s(e,i),s(e,o),Ne(o,t[8].description),s(e,c),s(e,d),Ne(d,t[8].reason),s(e,f),s(e,m),s(m,b),s(b,y),s(b,p),s(p,v),s(p,C),s(p,I),s(p,R),Hl(p,t[8].risk,!0),s(m,j),s(m,H),B||(M=[be(a,"input",t[53]),be(o,"input",t[54]),be(d,"input",t[55]),be(p,"change",t[56]),be(H,"click",t[48])],B=!0)},p(X,G){G[0]&256&&a.value!==X[8].title&&Ne(a,X[8].title),G[0]&256&&Ne(o,X[8].description),G[0]&256&&Ne(d,X[8].reason),G[0]&256&&Hl(p,X[8].risk)},d(X){X&&u(e),B=!1,wl(M)}}}function Ss(t){let e,l,n,r="‚≠ê Plans Awaiting Your Review",a,i,o=t[0].filter(ea).length+"",c,d,f,m=Se(t[0].filter(ta)),b=[];for(let y=0;y<m.length;y+=1)b[y]=Rs(bs(t,m,y));return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent=r,a=P(),i=_("span"),c=E(o),d=E(" plan(s)"),f=P();for(let y=0;y<b.length;y+=1)b[y].c();this.h()},l(y){e=h(y,"DIV",{class:!0});var p=k(e);l=h(p,"DIV",{class:!0});var v=k(l);n=h(v,"H2",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-11rs22r"&&(n.textContent=r),a=A(v),i=h(v,"SPAN",{class:!0});var S=k(i);c=w(S,o),d=w(S," plan(s)"),S.forEach(u),v.forEach(u),f=A(p);for(let C=0;C<b.length;C+=1)b[C].l(p);p.forEach(u),this.h()},h(){g(n,"class","pending-review-title svelte-158yyg6"),g(i,"class","pending-review-count svelte-158yyg6"),g(l,"class","pending-review-header svelte-158yyg6"),g(e,"class","pending-review-section mt-4 svelte-158yyg6")},m(y,p){F(y,e,p),s(e,l),s(l,n),s(l,a),s(l,i),s(i,c),s(i,d),s(e,f);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(e,null)},p(y,p){if(p[0]&1&&o!==(o=y[0].filter(ea).length+"")&&O(c,o),p[0]&5185|p[1]&16576){m=Se(y[0].filter(ta));let v;for(v=0;v<m.length;v+=1){const S=bs(y,m,v);b[v]?b[v].p(S,p):(b[v]=Rs(S),b[v].c(),b[v].m(e,null))}for(;v<b.length;v+=1)b[v].d(1);b.length=m.length}},d(y){y&&u(e),Pt(b,y)}}}function As(t){let e,l,n,r,a=(t[100].plan.version||1)+"",i,o,c,d=t[100].plan.steps.length+"",f,m,b,y,p,v=t[100].plan.operatorGoal&&Ps(t),S=Se(t[100].plan.steps),C=[];for(let N=0;N<S.length;N+=1)C[N]=Ds(ks(t,S,N));return{c(){e=_("div"),l=_("div"),n=_("span"),r=E("üìã Plan v"),i=E(a),o=P(),c=_("span"),f=E(d),m=E(" steps"),b=P(),v&&v.c(),y=P(),p=_("div");for(let N=0;N<C.length;N+=1)C[N].c();this.h()},l(N){e=h(N,"DIV",{class:!0});var I=k(e);l=h(I,"DIV",{class:!0});var T=k(l);n=h(T,"SPAN",{class:!0});var R=k(n);r=w(R,"üìã Plan v"),i=w(R,a),R.forEach(u),o=A(T),c=h(T,"SPAN",{class:!0});var D=k(c);f=w(D,d),m=w(D," steps"),D.forEach(u),T.forEach(u),b=A(I),v&&v.l(I),y=A(I),p=h(I,"DIV",{class:!0});var j=k(p);for(let H=0;H<C.length;H+=1)C[H].l(j);j.forEach(u),I.forEach(u),this.h()},h(){g(n,"class","text-sm font-bold"),g(c,"class","text-xs muted svelte-158yyg6"),g(l,"class","plan-header-row svelte-158yyg6"),g(p,"class","review-plan-steps svelte-158yyg6"),g(e,"class","review-plan-details svelte-158yyg6")},m(N,I){F(N,e,I),s(e,l),s(l,n),s(n,r),s(n,i),s(l,o),s(l,c),s(c,f),s(c,m),s(e,b),v&&v.m(e,null),s(e,y),s(e,p);for(let T=0;T<C.length;T+=1)C[T]&&C[T].m(p,null)},p(N,I){if(I[0]&1&&a!==(a=(N[100].plan.version||1)+"")&&O(i,a),I[0]&1&&d!==(d=N[100].plan.steps.length+"")&&O(f,d),N[100].plan.operatorGoal?v?v.p(N,I):(v=Ps(N),v.c(),v.m(e,y)):v&&(v.d(1),v=null),I[0]&1){S=Se(N[100].plan.steps);let T;for(T=0;T<S.length;T+=1){const R=ks(N,S,T);C[T]?C[T].p(R,I):(C[T]=Ds(R),C[T].c(),C[T].m(p,null))}for(;T<C.length;T+=1)C[T].d(1);C.length=S.length}},d(N){N&&u(e),v&&v.d(),Pt(C,N)}}}function Ps(t){let e,l,n=t[100].plan.operatorGoal+"",r;return{c(){e=_("p"),l=E("üéØ Goal: "),r=E(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=k(e);l=w(i,"üéØ Goal: "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","plan-goal-text svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=a[100].plan.operatorGoal+"")&&O(r,n)},d(a){a&&u(e)}}}function Is(t){let e,l,n=t[109].skill+"",r;return{c(){e=_("span"),l=E("‚Üí "),r=E(n),this.h()},l(a){e=h(a,"SPAN",{class:!0});var i=k(e);l=w(i,"‚Üí "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","review-step-skill svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=a[109].skill+"")&&O(r,n)},d(a){a&&u(e)}}}function Ds(t){let e,l,n=(t[109].order||t[111]+1)+"",r,a,i,o,c=t[109].action+"",d,f,m,b,y=t[109].risk+"",p,v,S,C=t[109].skill&&Is(t);return{c(){e=_("div"),l=_("span"),r=E(n),a=P(),i=_("div"),o=_("span"),d=E(c),f=P(),C&&C.c(),m=P(),b=_("span"),p=E(y),S=P(),this.h()},l(N){e=h(N,"DIV",{class:!0});var I=k(e);l=h(I,"SPAN",{class:!0});var T=k(l);r=w(T,n),T.forEach(u),a=A(I),i=h(I,"DIV",{class:!0});var R=k(i);o=h(R,"SPAN",{class:!0});var D=k(o);d=w(D,c),D.forEach(u),f=A(R),C&&C.l(R),m=A(R),b=h(R,"SPAN",{class:!0});var j=k(b);p=w(j,y),j.forEach(u),R.forEach(u),S=A(I),I.forEach(u),this.h()},h(){g(l,"class","review-step-number svelte-158yyg6"),g(o,"class","review-step-action svelte-158yyg6"),g(b,"class",v=Ot(`badge tiny ${ol(t[109].risk)}`)+" svelte-158yyg6"),g(i,"class","review-step-content svelte-158yyg6"),g(e,"class","review-step svelte-158yyg6")},m(N,I){F(N,e,I),s(e,l),s(l,r),s(e,a),s(e,i),s(i,o),s(o,d),s(i,f),C&&C.m(i,null),s(i,m),s(i,b),s(b,p),s(e,S)},p(N,I){I[0]&1&&n!==(n=(N[109].order||N[111]+1)+"")&&O(r,n),I[0]&1&&c!==(c=N[109].action+"")&&O(d,c),N[109].skill?C?C.p(N,I):(C=Is(N),C.c(),C.m(i,m)):C&&(C.d(1),C=null),I[0]&1&&y!==(y=N[109].risk+"")&&O(p,y),I[0]&1&&v!==(v=Ot(`badge tiny ${ol(N[109].risk)}`)+" svelte-158yyg6")&&g(b,"class",v)},d(N){N&&u(e),C&&C.d()}}}function Vs(t){let e,l,n,r=(t[100].review.alignmentScore*100).toFixed(0)+"",a,i,o,c=t[100].review.reasoning&&Ts(t);return{c(){e=_("div"),l=_("span"),n=E("Alignment Score: "),a=E(r),i=E("%"),o=P(),c&&c.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var f=k(e);l=h(f,"SPAN",{class:!0});var m=k(l);n=w(m,"Alignment Score: "),a=w(m,r),i=w(m,"%"),m.forEach(u),o=A(f),c&&c.l(f),f.forEach(u),this.h()},h(){g(l,"class","text-xs font-semibold"),g(e,"class","review-verdict-box svelte-158yyg6")},m(d,f){F(d,e,f),s(e,l),s(l,n),s(l,a),s(l,i),s(e,o),c&&c.m(e,null)},p(d,f){f[0]&1&&r!==(r=(d[100].review.alignmentScore*100).toFixed(0)+"")&&O(a,r),d[100].review.reasoning?c?c.p(d,f):(c=Ts(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(d){d&&u(e),c&&c.d()}}}function Ts(t){let e,l=t[100].review.reasoning+"",n;return{c(){e=_("p"),n=E(l),this.h()},l(r){e=h(r,"P",{class:!0});var a=k(e);n=w(a,l),a.forEach(u),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(r,a){F(r,e,a),s(e,n)},p(r,a){a[0]&1&&l!==(l=r[100].review.reasoning+"")&&O(n,l)},d(r){r&&u(e)}}}function Rs(t){let e,l,n,r,a=bl(t[100].source)+"",i,o,c,d,f=t[100].title+"",m,b,y,p=t[100].description+"",v,S,C,N,I=ql(t[100].metrics)+"",T,R,D=Ul(t[100].metrics)+"",j,H,q,B=t[100].status+"",M,X,G,z,K=(t[100].plan?.estimatedRisk||t[100].risk)+"",Q,te,ae,ie,ce,fe,pe,se=(t[100].metrics?.cycleCount??0)+"",de,ve,ge,ne,ke,ue=(t[100].metrics?.completionCount??0)+"",Ae,he,oe,le,x,Z=(t[100].metrics?.executionAttemptCount??0)+"",ee,Ee,Fe,me,J,re=(t[100].metrics?.planVersionCount??1)+"",je,we,Te,Ce,Ut,Me=(t[100].strength*100).toFixed(0)+"",Jt,zt,Be,_t,Wt,He,Ge,Mt="‚úèÔ∏è Your Feedback",Bt,kt,It="Not satisfied? Tell us what to change and we'll revise the plan.",el,qe,Je,Re,pt,Ft=t[12]===t[100].id?"‚è≥ Sending...":"üîÑ Request Revision",Dt,jt,Xt,gt,Vt,tl,ll,Ie,wt,Et,cl,sl,Lt,Pe=t[100].plan&&As(t),De=t[100].review&&Vs(t);function dl(){t[57].call(qe,t[100])}function vl(){return t[58](t[100])}function Yt(){return t[59](t[100])}function Tt(){return t[60](t[100])}return{c(){e=_("div"),l=_("div"),n=_("div"),r=_("span"),i=E(a),o=P(),c=_("div"),d=_("h3"),m=E(f),b=P(),y=_("p"),v=E(p),S=P(),C=_("div"),N=_("div"),T=E(I),R=P(),j=E(D),H=P(),q=_("span"),M=E(B),G=P(),z=_("span"),Q=E(K),te=E(" risk"),ie=P(),ce=_("div"),fe=_("span"),pe=E("üîÅ "),de=E(se),ve=E(" cycles"),ge=P(),ne=_("span"),ke=E("‚úÖ "),Ae=E(ue),he=E(" completions"),oe=P(),le=_("span"),x=E("‚ö° "),ee=E(Z),Ee=E(" attempts"),Fe=P(),me=_("span"),J=E("üìã v"),je=E(re),we=E(" plan"),Te=P(),Ce=_("span"),Ut=E("üí™ "),Jt=E(Me),zt=E("% strength"),Be=P(),Pe&&Pe.c(),_t=P(),De&&De.c(),Wt=P(),He=_("div"),Ge=_("h4"),Ge.textContent=Mt,Bt=P(),kt=_("p"),kt.textContent=It,el=P(),qe=_("textarea"),Je=P(),Re=_("div"),pt=_("button"),Dt=E(Ft),Xt=P(),gt=_("button"),Vt=E("‚úÖ Approve Plan"),ll=P(),Ie=_("button"),wt=E("‚ùå Reject"),cl=P(),this.h()},l(V){e=h(V,"DIV",{class:!0,style:!0});var L=k(e);l=h(L,"DIV",{class:!0});var $=k(l);n=h($,"DIV",{class:!0});var _e=k(n);r=h(_e,"SPAN",{class:!0});var ze=k(r);i=w(ze,a),ze.forEach(u),o=A(_e),c=h(_e,"DIV",{});var Rt=k(c);d=h(Rt,"H3",{class:!0});var Gt=k(d);m=w(Gt,f),Gt.forEach(u),b=A(Rt),y=h(Rt,"P",{class:!0});var Qt=k(y);v=w(Qt,p),Qt.forEach(u),Rt.forEach(u),_e.forEach(u),S=A($),C=h($,"DIV",{class:!0});var Ct=k(C);N=h(Ct,"DIV",{class:!0,style:!0});var Ue=k(N);T=w(Ue,I),R=A(Ue),j=w(Ue,D),Ue.forEach(u),H=A(Ct),q=h(Ct,"SPAN",{class:!0});var Ht=k(q);M=w(Ht,B),Ht.forEach(u),G=A(Ct),z=h(Ct,"SPAN",{class:!0});var mt=k(z);Q=w(mt,K),te=w(mt," risk"),mt.forEach(u),Ct.forEach(u),$.forEach(u),ie=A(L),ce=h(L,"DIV",{class:!0});var Le=k(ce);fe=h(Le,"SPAN",{class:!0});var nl=k(fe);pe=w(nl,"üîÅ "),de=w(nl,se),ve=w(nl," cycles"),nl.forEach(u),ge=A(Le),ne=h(Le,"SPAN",{class:!0});var al=k(ne);ke=w(al,"‚úÖ "),Ae=w(al,ue),he=w(al," completions"),al.forEach(u),oe=A(Le),le=h(Le,"SPAN",{class:!0});var Kt=k(le);x=w(Kt,"‚ö° "),ee=w(Kt,Z),Ee=w(Kt," attempts"),Kt.forEach(u),Fe=A(Le),me=h(Le,"SPAN",{class:!0});var Zt=k(me);J=w(Zt,"üìã v"),je=w(Zt,re),we=w(Zt," plan"),Zt.forEach(u),Te=A(Le),Ce=h(Le,"SPAN",{class:!0});var $t=k(Ce);Ut=w($t,"üí™ "),Jt=w($t,Me),zt=w($t,"% strength"),$t.forEach(u),Le.forEach(u),Be=A(L),Pe&&Pe.l(L),_t=A(L),De&&De.l(L),Wt=A(L),He=h(L,"DIV",{class:!0});var Nt=k(He);Ge=h(Nt,"H4",{class:!0,"data-svelte-h":!0}),Y(Ge)!=="svelte-nwivnu"&&(Ge.textContent=Mt),Bt=A(Nt),kt=h(Nt,"P",{class:!0,"data-svelte-h":!0}),Y(kt)!=="svelte-1lm9fvl"&&(kt.textContent=It),el=A(Nt),qe=h(Nt,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),k(qe).forEach(u),Je=A(Nt),Re=h(Nt,"DIV",{class:!0});var qt=k(Re);pt=h(qt,"BUTTON",{class:!0});var ul=k(pt);Dt=w(ul,Ft),ul.forEach(u),Xt=A(qt),gt=h(qt,"BUTTON",{class:!0});var fl=k(gt);Vt=w(fl,"‚úÖ Approve Plan"),fl.forEach(u),ll=A(qt),Ie=h(qt,"BUTTON",{class:!0});var ye=k(Ie);wt=w(ye,"‚ùå Reject"),ye.forEach(u),qt.forEach(u),Nt.forEach(u),cl=A(L),L.forEach(u),this.h()},h(){g(r,"class","source-icon text-2xl svelte-158yyg6"),g(d,"class","review-card-title svelte-158yyg6"),g(y,"class","text-xs muted svelte-158yyg6"),g(n,"class","flex items-center gap-2"),g(N,"class","review-nature-badge svelte-158yyg6"),Ve(N,"background",yt(t[100].metrics)),g(q,"class",X=Ot(`badge ${Ml(t[100].status)}`)+" svelte-158yyg6"),g(z,"class",ae=Ot(`badge ${ol(t[100].plan?.estimatedRisk||t[100].risk)}`)+" svelte-158yyg6"),g(C,"class","flex items-center gap-2"),g(l,"class","review-card-header svelte-158yyg6"),g(fe,"class","review-metric svelte-158yyg6"),g(ne,"class","review-metric svelte-158yyg6"),g(le,"class","review-metric svelte-158yyg6"),g(me,"class","review-metric svelte-158yyg6"),g(Ce,"class","review-metric svelte-158yyg6"),g(ce,"class","review-metrics-row svelte-158yyg6"),g(Ge,"class","critique-section-title svelte-158yyg6"),g(kt,"class","text-xs muted mb-2 svelte-158yyg6"),g(qe,"class","review-critique-input svelte-158yyg6"),g(qe,"placeholder","What would you like changed? (e.g., 'Use a different approach', 'Add more steps for X', 'Skip step 3')"),g(qe,"rows","3"),g(pt,"class","btn-revise-large svelte-158yyg6"),pt.disabled=jt=t[12]===t[100].id||!t[10][t[100].id]?.trim(),g(gt,"class","btn-approve-large svelte-158yyg6"),gt.disabled=tl=t[6]===t[100].id,g(Ie,"class","btn-reject-large svelte-158yyg6"),Ie.disabled=Et=t[6]===t[100].id,g(Re,"class","review-action-buttons svelte-158yyg6"),g(He,"class","review-critique-section svelte-158yyg6"),g(e,"class","review-card svelte-158yyg6"),Ve(e,"border-left","4px solid "+yt(t[100].metrics))},m(V,L){F(V,e,L),s(e,l),s(l,n),s(n,r),s(r,i),s(n,o),s(n,c),s(c,d),s(d,m),s(c,b),s(c,y),s(y,v),s(l,S),s(l,C),s(C,N),s(N,T),s(N,R),s(N,j),s(C,H),s(C,q),s(q,M),s(C,G),s(C,z),s(z,Q),s(z,te),s(e,ie),s(e,ce),s(ce,fe),s(fe,pe),s(fe,de),s(fe,ve),s(ce,ge),s(ce,ne),s(ne,ke),s(ne,Ae),s(ne,he),s(ce,oe),s(ce,le),s(le,x),s(le,ee),s(le,Ee),s(ce,Fe),s(ce,me),s(me,J),s(me,je),s(me,we),s(ce,Te),s(ce,Ce),s(Ce,Ut),s(Ce,Jt),s(Ce,zt),s(e,Be),Pe&&Pe.m(e,null),s(e,_t),De&&De.m(e,null),s(e,Wt),s(e,He),s(He,Ge),s(He,Bt),s(He,kt),s(He,el),s(He,qe),Ne(qe,t[10][t[100].id]),s(He,Je),s(He,Re),s(Re,pt),s(pt,Dt),s(Re,Xt),s(Re,gt),s(gt,Vt),s(Re,ll),s(Re,Ie),s(Ie,wt),s(e,cl),sl||(Lt=[be(qe,"input",dl),be(pt,"click",vl),be(gt,"click",Yt),be(Ie,"click",Tt)],sl=!0)},p(V,L){t=V,L[0]&1&&a!==(a=bl(t[100].source)+"")&&O(i,a),L[0]&1&&f!==(f=t[100].title+"")&&O(m,f),L[0]&1&&p!==(p=t[100].description+"")&&O(v,p),L[0]&1&&I!==(I=ql(t[100].metrics)+"")&&O(T,I),L[0]&1&&D!==(D=Ul(t[100].metrics)+"")&&O(j,D),L[0]&1&&Ve(N,"background",yt(t[100].metrics)),L[0]&1&&B!==(B=t[100].status+"")&&O(M,B),L[0]&1&&X!==(X=Ot(`badge ${Ml(t[100].status)}`)+" svelte-158yyg6")&&g(q,"class",X),L[0]&1&&K!==(K=(t[100].plan?.estimatedRisk||t[100].risk)+"")&&O(Q,K),L[0]&1&&ae!==(ae=Ot(`badge ${ol(t[100].plan?.estimatedRisk||t[100].risk)}`)+" svelte-158yyg6")&&g(z,"class",ae),L[0]&1&&se!==(se=(t[100].metrics?.cycleCount??0)+"")&&O(de,se),L[0]&1&&ue!==(ue=(t[100].metrics?.completionCount??0)+"")&&O(Ae,ue),L[0]&1&&Z!==(Z=(t[100].metrics?.executionAttemptCount??0)+"")&&O(ee,Z),L[0]&1&&re!==(re=(t[100].metrics?.planVersionCount??1)+"")&&O(je,re),L[0]&1&&Me!==(Me=(t[100].strength*100).toFixed(0)+"")&&O(Jt,Me),t[100].plan?Pe?Pe.p(t,L):(Pe=As(t),Pe.c(),Pe.m(e,_t)):Pe&&(Pe.d(1),Pe=null),t[100].review?De?De.p(t,L):(De=Vs(t),De.c(),De.m(e,Wt)):De&&(De.d(1),De=null),L[0]&1025&&Ne(qe,t[10][t[100].id]),L[0]&4097&&Ft!==(Ft=t[12]===t[100].id?"‚è≥ Sending...":"üîÑ Request Revision")&&O(Dt,Ft),L[0]&5121&&jt!==(jt=t[12]===t[100].id||!t[10][t[100].id]?.trim())&&(pt.disabled=jt),L[0]&65&&tl!==(tl=t[6]===t[100].id)&&(gt.disabled=tl),L[0]&65&&Et!==(Et=t[6]===t[100].id)&&(Ie.disabled=Et),L[0]&1&&Ve(e,"border-left","4px solid "+yt(t[100].metrics))},d(V){V&&u(e),Pe&&Pe.d(),De&&De.d(),sl=!1,wl(Lt)}}}function Os(t){let e,l,n,r="üîç Awaiting Outcome Review",a,i,o=t[0].filter(la).length+"",c,d,f,m=Se(t[0].filter(sa)),b=[];for(let y=0;y<m.length;y+=1)b[y]=Ls(ys(t,m,y));return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent=r,a=P(),i=_("span"),c=E(o),d=E(" task(s) completed"),f=P();for(let y=0;y<b.length;y+=1)b[y].c();this.h()},l(y){e=h(y,"DIV",{class:!0,style:!0});var p=k(e);l=h(p,"DIV",{class:!0});var v=k(l);n=h(v,"H2",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1qonng6"&&(n.textContent=r),a=A(v),i=h(v,"SPAN",{class:!0});var S=k(i);c=w(S,o),d=w(S," task(s) completed"),S.forEach(u),v.forEach(u),f=A(p);for(let C=0;C<b.length;C+=1)b[C].l(p);p.forEach(u),this.h()},h(){g(n,"class","pending-review-title svelte-158yyg6"),g(i,"class","pending-review-count svelte-158yyg6"),g(l,"class","pending-review-header svelte-158yyg6"),g(e,"class","pending-review-section mt-4 svelte-158yyg6"),Ve(e,"border-left-color","#6366f1")},m(y,p){F(y,e,p),s(e,l),s(l,n),s(l,a),s(l,i),s(i,c),s(i,d),s(e,f);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(e,null)},p(y,p){if(p[0]&1&&o!==(o=y[0].filter(la).length+"")&&O(c,o),p[0]&20971585|p[1]&8192){m=Se(y[0].filter(sa));let v;for(v=0;v<m.length;v+=1){const S=ys(y,m,v);b[v]?b[v].p(S,p):(b[v]=Ls(S),b[v].c(),b[v].m(e,null))}for(;v<b.length;v+=1)b[v].d(1);b.length=m.length}},d(y){y&&u(e),Pt(b,y)}}}function Fs(t){let e,l,n,r="‚ö° Execution Complete",a,i,o=(t[100].execution.stepsCompleted||0)+"",c,d,f=(t[100].execution.stepsTotal||0)+"",m,b,y,p=t[100].execution.completedAt&&js(t);return{c(){e=_("div"),l=_("div"),n=_("span"),n.textContent=r,a=P(),i=_("span"),c=E(o),d=E("/"),m=E(f),b=E(" steps"),y=P(),p&&p.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var S=k(e);l=h(S,"DIV",{class:!0});var C=k(l);n=h(C,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1nakkfu"&&(n.textContent=r),a=A(C),i=h(C,"SPAN",{class:!0});var N=k(i);c=w(N,o),d=w(N,"/"),m=w(N,f),b=w(N," steps"),N.forEach(u),C.forEach(u),y=A(S),p&&p.l(S),S.forEach(u),this.h()},h(){g(n,"class","text-sm font-semibold"),g(i,"class","text-xs muted svelte-158yyg6"),g(l,"class","execution-summary-header svelte-158yyg6"),g(e,"class","execution-summary-box svelte-158yyg6")},m(v,S){F(v,e,S),s(e,l),s(l,n),s(l,a),s(l,i),s(i,c),s(i,d),s(i,m),s(i,b),s(e,y),p&&p.m(e,null)},p(v,S){S[0]&1&&o!==(o=(v[100].execution.stepsCompleted||0)+"")&&O(c,o),S[0]&1&&f!==(f=(v[100].execution.stepsTotal||0)+"")&&O(m,f),v[100].execution.completedAt?p?p.p(v,S):(p=js(v),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(v){v&&u(e),p&&p.d()}}}function js(t){let e,l,n=vt(t[100].execution.completedAt)+"",r;return{c(){e=_("p"),l=E("Completed: "),r=E(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=k(e);l=w(i,"Completed: "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=vt(a[100].execution.completedAt)+"")&&O(r,n)},d(a){a&&u(e)}}}function pa(t){let e;return{c(){e=E("üîç Run Outcome Review")},l(l){e=w(l,"üîç Run Outcome Review")},m(l,n){F(l,e,n)},p:At,d(l){l&&u(e)}}}function ga(t){let e,l,n=(t[24]||"Reviewing outcome...")+"",r;return{c(){e=_("span"),l=P(),r=E(n),this.h()},l(a){e=h(a,"SPAN",{class:!0}),k(e).forEach(u),l=A(a),r=w(a,n),this.h()},h(){g(e,"class","loading-spinner svelte-158yyg6")},m(a,i){F(a,e,i),F(a,l,i),F(a,r,i)},p(a,i){i[0]&16777216&&n!==(n=(a[24]||"Reviewing outcome...")+"")&&O(r,n)},d(a){a&&(u(e),u(l),u(r))}}}function Ls(t){let e,l,n,r,a=bl(t[100].source)+"",i,o,c,d,f=t[100].title+"",m,b,y,p=t[100].description+"",v,S,C,N='<span class="badge bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200 svelte-158yyg6">awaiting_review</span>',I,T,R,D,j,H,q,B,M=t[100].execution&&Fs(t);function X(Q,te){return Q[22]===Q[100].id?ga:pa}let G=X(t),z=G(t);function K(){return t[61](t[100])}return{c(){e=_("div"),l=_("div"),n=_("div"),r=_("span"),i=E(a),o=P(),c=_("div"),d=_("h3"),m=E(f),b=P(),y=_("p"),v=E(p),S=P(),C=_("div"),C.innerHTML=N,I=P(),M&&M.c(),T=P(),R=_("div"),D=_("button"),z.c(),H=P(),this.h()},l(Q){e=h(Q,"DIV",{class:!0,style:!0});var te=k(e);l=h(te,"DIV",{class:!0});var ae=k(l);n=h(ae,"DIV",{class:!0});var ie=k(n);r=h(ie,"SPAN",{class:!0});var ce=k(r);i=w(ce,a),ce.forEach(u),o=A(ie),c=h(ie,"DIV",{});var fe=k(c);d=h(fe,"H3",{class:!0});var pe=k(d);m=w(pe,f),pe.forEach(u),b=A(fe),y=h(fe,"P",{class:!0});var se=k(y);v=w(se,p),se.forEach(u),fe.forEach(u),ie.forEach(u),S=A(ae),C=h(ae,"DIV",{class:!0,"data-svelte-h":!0}),Y(C)!=="svelte-1vo88d"&&(C.innerHTML=N),ae.forEach(u),I=A(te),M&&M.l(te),T=A(te),R=h(te,"DIV",{class:!0});var de=k(R);D=h(de,"BUTTON",{class:!0});var ve=k(D);z.l(ve),ve.forEach(u),de.forEach(u),H=A(te),te.forEach(u),this.h()},h(){g(r,"class","source-icon text-2xl svelte-158yyg6"),g(d,"class","review-card-title svelte-158yyg6"),g(y,"class","text-xs muted svelte-158yyg6"),g(n,"class","flex items-center gap-2"),g(C,"class","flex items-center gap-2"),g(l,"class","review-card-header svelte-158yyg6"),g(D,"class","btn-approve-large svelte-158yyg6"),D.disabled=j=t[6]===t[100].id||t[22]===t[100].id,g(R,"class","review-action-buttons svelte-158yyg6"),g(e,"class","review-card svelte-158yyg6"),Ve(e,"border-left","4px solid #6366f1")},m(Q,te){F(Q,e,te),s(e,l),s(l,n),s(n,r),s(r,i),s(n,o),s(n,c),s(c,d),s(d,m),s(c,b),s(c,y),s(y,v),s(l,S),s(l,C),s(e,I),M&&M.m(e,null),s(e,T),s(e,R),s(R,D),z.m(D,null),s(e,H),q||(B=be(D,"click",K),q=!0)},p(Q,te){t=Q,te[0]&1&&a!==(a=bl(t[100].source)+"")&&O(i,a),te[0]&1&&f!==(f=t[100].title+"")&&O(m,f),te[0]&1&&p!==(p=t[100].description+"")&&O(v,p),t[100].execution?M?M.p(t,te):(M=Fs(t),M.c(),M.m(e,T)):M&&(M.d(1),M=null),G===(G=X(t))&&z?z.p(t,te):(z.d(1),z=G(t),z&&(z.c(),z.m(D,null))),te[0]&4194369&&j!==(j=t[6]===t[100].id||t[22]===t[100].id)&&(D.disabled=j)},d(Q){Q&&u(e),M&&M.d(),z.d(),q=!1,B()}}}function ma(t){let e,l=Se(t[0]),n=[];for(let r=0;r<l.length;r+=1)n[r]=Mn(cs(t,l,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=bt()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=bt()},m(r,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(r,a);F(r,e,a)},p(r,a){if(a[0]&33553985|a[1]&131036){l=Se(r[0]);let i;for(i=0;i<l.length;i+=1){const o=cs(r,l,i);n[i]?n[i].p(o,a):(n[i]=Mn(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&u(e),Pt(n,r)}}}function ya(t){let e,l='<p class="muted svelte-158yyg6">No desires found</p> <p class="text-sm muted mt-1 svelte-158yyg6">Desires will be generated automatically by the agency system</p>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(n){e=h(n,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-7la8df"&&(e.innerHTML=l),this.h()},h(){g(e,"class","empty-state svelte-158yyg6")},m(n,r){F(n,e,r)},p:At,d(n){n&&u(e)}}}function Hs(t){let e,l,n,r=t[100].reason+"",a,i;return{c(){e=_("p"),l=_("em"),n=E('"'),a=E(r),i=E('"'),this.h()},l(o){e=h(o,"P",{class:!0});var c=k(e);l=h(c,"EM",{});var d=k(l);n=w(d,'"'),a=w(d,r),i=w(d,'"'),d.forEach(u),c.forEach(u),this.h()},h(){g(e,"class","desire-reason svelte-158yyg6")},m(o,c){F(o,e,c),s(e,l),s(l,n),s(l,a),s(l,i)},p(o,c){c[0]&1&&r!==(r=o[100].reason+"")&&O(a,r)},d(o){o&&u(e)}}}function qs(t){let e;function l(a,i){return a[100].metrics.netReinforcement>0?wa:a[100].metrics.netReinforcement<0?ka:ba}let n=l(t),r=n(t);return{c(){e=_("div"),r.c(),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=k(e);r.l(i),i.forEach(u),this.h()},h(){g(e,"class","reinforcement-indicator svelte-158yyg6")},m(a,i){F(a,e,i),r.m(e,null)},p(a,i){n===(n=l(a))&&r?r.p(a,i):(r.d(1),r=n(a),r&&(r.c(),r.m(e,null)))},d(a){a&&u(e),r.d()}}}function ba(t){let e,l="‚öñÔ∏è Stable";return{c(){e=_("span"),e.textContent=l,this.h()},l(n){e=h(n,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-t2pjf4"&&(e.textContent=l),this.h()},h(){g(e,"class","reinforcement-neutral svelte-158yyg6")},m(n,r){F(n,e,r)},p:At,d(n){n&&u(e)}}}function ka(t){let e,l,n=t[100].metrics.netReinforcement+"",r,a;return{c(){e=_("span"),l=E("üìâ "),r=E(n),a=E(" (decaying)"),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=k(e);l=w(o,"üìâ "),r=w(o,n),a=w(o," (decaying)"),o.forEach(u),this.h()},h(){g(e,"class","reinforcement-negative svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&1&&n!==(n=i[100].metrics.netReinforcement+"")&&O(r,n)},d(i){i&&u(e)}}}function wa(t){let e,l,n=t[100].metrics.netReinforcement+"",r,a;return{c(){e=_("span"),l=E("üí™ +"),r=E(n),a=E(" net reinforcement"),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=k(e);l=w(o,"üí™ +"),r=w(o,n),a=w(o," net reinforcement"),o.forEach(u),this.h()},h(){g(e,"class","reinforcement-positive svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&1&&n!==(n=i[100].metrics.netReinforcement+"")&&O(r,n)},d(i){i&&u(e)}}}function Us(t){let e,l,n,r=t[100].metrics.userInputCount+"",a,i,o,c,d,f=t[100].metrics.userApprovalCount+"",m,b,y,p=t[100].metrics.userRejectionCount>0&&Ms(t);return{c(){e=_("div"),l=_("span"),n=E("üë§ "),a=E(r),i=E(" inputs"),o=P(),c=_("span"),d=E("üëç "),m=E(f),b=E(" approvals"),y=P(),p&&p.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var S=k(e);l=h(S,"SPAN",{class:!0});var C=k(l);n=w(C,"üë§ "),a=w(C,r),i=w(C," inputs"),C.forEach(u),o=A(S),c=h(S,"SPAN",{class:!0});var N=k(c);d=w(N,"üëç "),m=w(N,f),b=w(N," approvals"),N.forEach(u),y=A(S),p&&p.l(S),S.forEach(u),this.h()},h(){g(l,"class","user-stat svelte-158yyg6"),g(c,"class","user-stat svelte-158yyg6"),g(e,"class","user-interaction-stats svelte-158yyg6")},m(v,S){F(v,e,S),s(e,l),s(l,n),s(l,a),s(l,i),s(e,o),s(e,c),s(c,d),s(c,m),s(c,b),s(e,y),p&&p.m(e,null)},p(v,S){S[0]&1&&r!==(r=v[100].metrics.userInputCount+"")&&O(a,r),S[0]&1&&f!==(f=v[100].metrics.userApprovalCount+"")&&O(m,f),v[100].metrics.userRejectionCount>0?p?p.p(v,S):(p=Ms(v),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(v){v&&u(e),p&&p.d()}}}function Ms(t){let e,l,n=t[100].metrics.userRejectionCount+"",r,a;return{c(){e=_("span"),l=E("üëé "),r=E(n),a=E(" rejections"),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=k(e);l=w(o,"üëé "),r=w(o,n),a=w(o," rejections"),o.forEach(u),this.h()},h(){g(e,"class","user-stat svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&1&&n!==(n=i[100].metrics.userRejectionCount+"")&&O(r,n)},d(i){i&&u(e)}}}function Bs(t){let e,l,n=t[100].scratchpad.entryCount+"",r,a;return{c(){e=_("span"),l=E("üìú "),r=E(n),a=E(" journal entries"),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=k(e);l=w(o,"üìú "),r=w(o,n),a=w(o," journal entries"),o.forEach(u),this.h()},h(){g(e,"class","muted text-xs svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&1&&n!==(n=i[100].scratchpad.entryCount+"")&&O(r,n)},d(i){i&&u(e)}}}function Gs(t){let e,l="‚ö†Ô∏è <strong>No plan generated.</strong> Click &quot;Generate Plan&quot; to create an execution plan for this desire.";return{c(){e=_("div"),e.innerHTML=l,this.h()},l(n){e=h(n,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ohk2jp"&&(e.innerHTML=l),this.h()},h(){g(e,"class","missing-plan-warning svelte-158yyg6")},m(n,r){F(n,e,r)},d(n){n&&u(e)}}}function Js(t){let e,l,n,r,a=(t[100].plan.version||1)+"",i,o,c,d,f=t[100].plan.steps.length+"",m,b,y=t[100].plan.estimatedRisk+"",p,v,S,C,N=t[9]===t[100].id?"‚ñº":"‚ñ∂",I,T,R,D,j,H,q,B=t[100].planHistory&&t[100].planHistory.length>0&&zs(t),M=t[100].plan.operatorGoal&&Ws(t);function X(){return t[62](t[100])}let G=t[9]===t[100].id&&Xs(t);return{c(){e=_("button"),l=_("div"),n=_("span"),r=E("üìã Plan v"),i=E(a),o=E(":"),c=P(),d=_("span"),m=E(f),b=E(" steps, "),p=E(y),v=E(` risk
                    `),B&&B.c(),S=P(),C=_("span"),I=E(N),T=P(),M&&M.c(),D=P(),G&&G.c(),j=bt(),this.h()},l(z){e=h(z,"BUTTON",{type:!0,class:!0,"aria-expanded":!0});var K=k(e);l=h(K,"DIV",{class:!0});var Q=k(l);n=h(Q,"SPAN",{class:!0});var te=k(n);r=w(te,"üìã Plan v"),i=w(te,a),o=w(te,":"),te.forEach(u),c=A(Q),d=h(Q,"SPAN",{class:!0});var ae=k(d);m=w(ae,f),b=w(ae," steps, "),p=w(ae,y),v=w(ae,` risk
                    `),B&&B.l(ae),ae.forEach(u),S=A(Q),C=h(Q,"SPAN",{class:!0});var ie=k(C);I=w(ie,N),ie.forEach(u),Q.forEach(u),T=A(K),M&&M.l(K),K.forEach(u),D=A(z),G&&G.l(z),j=bt(),this.h()},h(){g(n,"class","text-xs font-semibold"),g(d,"class","text-xs muted svelte-158yyg6"),g(C,"class","expand-icon svelte-158yyg6"),g(l,"class","plan-summary-header svelte-158yyg6"),g(e,"type","button"),g(e,"class","plan-summary clickable svelte-158yyg6"),g(e,"aria-expanded",R=t[9]===t[100].id)},m(z,K){F(z,e,K),s(e,l),s(l,n),s(n,r),s(n,i),s(n,o),s(l,c),s(l,d),s(d,m),s(d,b),s(d,p),s(d,v),B&&B.m(d,null),s(l,S),s(l,C),s(C,I),s(e,T),M&&M.m(e,null),F(z,D,K),G&&G.m(z,K),F(z,j,K),H||(q=be(e,"click",X),H=!0)},p(z,K){t=z,K[0]&1&&a!==(a=(t[100].plan.version||1)+"")&&O(i,a),K[0]&1&&f!==(f=t[100].plan.steps.length+"")&&O(m,f),K[0]&1&&y!==(y=t[100].plan.estimatedRisk+"")&&O(p,y),t[100].planHistory&&t[100].planHistory.length>0?B?B.p(t,K):(B=zs(t),B.c(),B.m(d,null)):B&&(B.d(1),B=null),K[0]&513&&N!==(N=t[9]===t[100].id?"‚ñº":"‚ñ∂")&&O(I,N),t[100].plan.operatorGoal?M?M.p(t,K):(M=Ws(t),M.c(),M.m(e,null)):M&&(M.d(1),M=null),K[0]&513&&R!==(R=t[9]===t[100].id)&&g(e,"aria-expanded",R),t[9]===t[100].id?G?G.p(t,K):(G=Xs(t),G.c(),G.m(j.parentNode,j)):G&&(G.d(1),G=null)},d(z){z&&(u(e),u(D),u(j)),B&&B.d(),M&&M.d(),G&&G.d(z),H=!1,q()}}}function zs(t){let e,l,n=t[100].planHistory.length+"",r,a;return{c(){e=_("span"),l=E("("),r=E(n),a=E(" previous)"),this.h()},l(i){e=h(i,"SPAN",{class:!0});var o=k(e);l=w(o,"("),r=w(o,n),a=w(o," previous)"),o.forEach(u),this.h()},h(){g(e,"class","history-badge svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&1&&n!==(n=i[100].planHistory.length+"")&&O(r,n)},d(i){i&&u(e)}}}function Ws(t){let e,l,n=t[100].plan.operatorGoal+"",r;return{c(){e=_("p"),l=E("Goal: "),r=E(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=k(e);l=w(i,"Goal: "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","plan-goal text-xs muted svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=a[100].plan.operatorGoal+"")&&O(r,n)},d(a){a&&u(e)}}}function Xs(t){let e,l,n="Execution Steps",r,a,i,o,c=["reviewing","approved","awaiting_approval","planning"].includes(t[100].status),d=Se(t[100].plan.steps),f=[];for(let y=0;y<d.length;y+=1)f[y]=$s(ms(t,d,y));let m=t[100].planHistory&&t[100].planHistory.length>0&&xs(t),b=c&&nn(t);return{c(){e=_("div"),l=_("h5"),l.textContent=n,r=P(),a=_("div");for(let y=0;y<f.length;y+=1)f[y].c();i=P(),m&&m.c(),o=P(),b&&b.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var p=k(e);l=h(p,"H5",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-gnargo"&&(l.textContent=n),r=A(p),a=h(p,"DIV",{class:!0});var v=k(a);for(let S=0;S<f.length;S+=1)f[S].l(v);v.forEach(u),i=A(p),m&&m.l(p),o=A(p),b&&b.l(p),p.forEach(u),this.h()},h(){g(l,"class","plan-section-title svelte-158yyg6"),g(a,"class","plan-steps svelte-158yyg6"),g(e,"class","plan-details svelte-158yyg6")},m(y,p){F(y,e,p),s(e,l),s(e,r),s(e,a);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(a,null);s(e,i),m&&m.m(e,null),s(e,o),b&&b.m(e,null)},p(y,p){if(p[0]&1){d=Se(y[100].plan.steps);let v;for(v=0;v<d.length;v+=1){const S=ms(y,d,v);f[v]?f[v].p(S,p):(f[v]=$s(S),f[v].c(),f[v].m(a,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=d.length}y[100].planHistory&&y[100].planHistory.length>0?m?m.p(y,p):(m=xs(y),m.c(),m.m(e,o)):m&&(m.d(1),m=null),p[0]&1&&(c=["reviewing","approved","awaiting_approval","planning"].includes(y[100].status)),c?b?b.p(y,p):(b=nn(y),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(y){y&&u(e),Pt(f,y),m&&m.d(),b&&b.d()}}}function Ys(t){let e,l="needs approval";return{c(){e=_("span"),e.textContent=l,this.h()},l(n){e=h(n,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1t5o7sn"&&(e.textContent=l),this.h()},h(){g(e,"class","badge small bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 svelte-158yyg6")},m(n,r){F(n,e,r)},d(n){n&&u(e)}}}function Qs(t){let e,l,n="Skill:",r,a,i=t[109].skill+"",o;return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("code"),o=E(i),this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);l=h(d,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-7dd19o"&&(l.textContent=n),r=A(d),a=h(d,"CODE",{class:!0});var f=k(a);o=w(f,i),f.forEach(u),d.forEach(u),this.h()},h(){g(l,"class","text-xs muted svelte-158yyg6"),g(a,"class","text-xs svelte-158yyg6"),g(e,"class","step-skill svelte-158yyg6")},m(c,d){F(c,e,d),s(e,l),s(e,r),s(e,a),s(a,o)},p(c,d){d[0]&1&&i!==(i=c[109].skill+"")&&O(o,i)},d(c){c&&u(e)}}}function Ks(t){let e,l,n="Expected:",r,a,i=t[109].expectedOutcome+"",o;return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("span"),o=E(i),this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);l=h(d,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-8cn8g3"&&(l.textContent=n),r=A(d),a=h(d,"SPAN",{class:!0});var f=k(a);o=w(f,i),f.forEach(u),d.forEach(u),this.h()},h(){g(l,"class","text-xs muted svelte-158yyg6"),g(a,"class","text-xs"),g(e,"class","step-outcome svelte-158yyg6")},m(c,d){F(c,e,d),s(e,l),s(e,r),s(e,a),s(a,o)},p(c,d){d[0]&1&&i!==(i=c[109].expectedOutcome+"")&&O(o,i)},d(c){c&&u(e)}}}function Zs(t){let e,l,n="Inputs:",r,a,i=JSON.stringify(t[109].inputs)+"",o;return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("code"),o=E(i),this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);l=h(d,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1ek4d5m"&&(l.textContent=n),r=A(d),a=h(d,"CODE",{class:!0});var f=k(a);o=w(f,i),f.forEach(u),d.forEach(u),this.h()},h(){g(l,"class","text-xs muted svelte-158yyg6"),g(a,"class","text-xs svelte-158yyg6"),g(e,"class","step-inputs svelte-158yyg6")},m(c,d){F(c,e,d),s(e,l),s(e,r),s(e,a),s(a,o)},p(c,d){d[0]&1&&i!==(i=JSON.stringify(c[109].inputs)+"")&&O(o,i)},d(c){c&&u(e)}}}function $s(t){let e,l,n,r=(t[109].order||t[111]+1)+"",a,i,o,c=t[109].action+"",d,f,m,b=t[109].risk+"",y,p,v,S,C,N,I=t[109].inputs&&Object.keys(t[109].inputs).length>0,T,R=t[109].requiresApproval&&Ys(),D=t[109].skill&&Qs(t),j=t[109].expectedOutcome&&Ks(t),H=I&&Zs(t);return{c(){e=_("div"),l=_("div"),n=_("span"),a=E(r),i=P(),o=_("span"),d=E(c),f=P(),m=_("span"),y=E(b),v=P(),R&&R.c(),S=P(),D&&D.c(),C=P(),j&&j.c(),N=P(),H&&H.c(),T=P(),this.h()},l(q){e=h(q,"DIV",{class:!0});var B=k(e);l=h(B,"DIV",{class:!0});var M=k(l);n=h(M,"SPAN",{class:!0});var X=k(n);a=w(X,r),X.forEach(u),i=A(M),o=h(M,"SPAN",{class:!0});var G=k(o);d=w(G,c),G.forEach(u),f=A(M),m=h(M,"SPAN",{class:!0});var z=k(m);y=w(z,b),z.forEach(u),v=A(M),R&&R.l(M),M.forEach(u),S=A(B),D&&D.l(B),C=A(B),j&&j.l(B),N=A(B),H&&H.l(B),T=A(B),B.forEach(u),this.h()},h(){g(n,"class","step-number svelte-158yyg6"),g(o,"class","step-action svelte-158yyg6"),g(m,"class",p=Ot(`badge small ${ol(t[109].risk)}`)+" svelte-158yyg6"),g(l,"class","step-header svelte-158yyg6"),g(e,"class","plan-step svelte-158yyg6")},m(q,B){F(q,e,B),s(e,l),s(l,n),s(n,a),s(l,i),s(l,o),s(o,d),s(l,f),s(l,m),s(m,y),s(l,v),R&&R.m(l,null),s(e,S),D&&D.m(e,null),s(e,C),j&&j.m(e,null),s(e,N),H&&H.m(e,null),s(e,T)},p(q,B){B[0]&1&&r!==(r=(q[109].order||q[111]+1)+"")&&O(a,r),B[0]&1&&c!==(c=q[109].action+"")&&O(d,c),B[0]&1&&b!==(b=q[109].risk+"")&&O(y,b),B[0]&1&&p!==(p=Ot(`badge small ${ol(q[109].risk)}`)+" svelte-158yyg6")&&g(m,"class",p),q[109].requiresApproval?R||(R=Ys(),R.c(),R.m(l,null)):R&&(R.d(1),R=null),q[109].skill?D?D.p(q,B):(D=Qs(q),D.c(),D.m(e,C)):D&&(D.d(1),D=null),q[109].expectedOutcome?j?j.p(q,B):(j=Ks(q),j.c(),j.m(e,N)):j&&(j.d(1),j=null),B[0]&1&&(I=q[109].inputs&&Object.keys(q[109].inputs).length>0),I?H?H.p(q,B):(H=Zs(q),H.c(),H.m(e,T)):H&&(H.d(1),H=null)},d(q){q&&u(e),R&&R.d(),D&&D.d(),j&&j.d(),H&&H.d()}}}function xs(t){let e,l=t[11]===t[100].id?"‚ñº Hide":"‚ñ∂ Show",n,r,a=t[100].planHistory.length+"",i,o,c,d,f,m;function b(){return t[63](t[100])}let y=t[11]===t[100].id&&en(t);return{c(){e=_("button"),n=E(l),r=E(" Previous Versions ("),i=E(a),o=E(")"),c=P(),y&&y.c(),d=bt(),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var v=k(e);n=w(v,l),r=w(v," Previous Versions ("),i=w(v,a),o=w(v,")"),v.forEach(u),c=A(p),y&&y.l(p),d=bt(),this.h()},h(){g(e,"class","btn-history svelte-158yyg6")},m(p,v){F(p,e,v),s(e,n),s(e,r),s(e,i),s(e,o),F(p,c,v),y&&y.m(p,v),F(p,d,v),f||(m=be(e,"click",aa(b)),f=!0)},p(p,v){t=p,v[0]&2049&&l!==(l=t[11]===t[100].id?"‚ñº Hide":"‚ñ∂ Show")&&O(n,l),v[0]&1&&a!==(a=t[100].planHistory.length+"")&&O(i,a),t[11]===t[100].id?y?y.p(t,v):(y=en(t),y.c(),y.m(d.parentNode,d)):y&&(y.d(1),y=null)},d(p){p&&(u(e),u(c),u(d)),y&&y.d(p),f=!1,m()}}}function en(t){let e,l=Se(t[100].planHistory),n=[];for(let r=0;r<l.length;r+=1)n[r]=sn(ps(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=h(r,"DIV",{class:!0});var a=k(e);for(let i=0;i<n.length;i+=1)n[i].l(a);a.forEach(u),this.h()},h(){g(e,"class","plan-history svelte-158yyg6")},m(r,a){F(r,e,a);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(r,a){if(a[0]&1){l=Se(r[100].planHistory);let i;for(i=0;i<l.length;i+=1){const o=ps(r,l,i);n[i]?n[i].p(o,a):(n[i]=sn(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&u(e),Pt(n,r)}}}function tn(t){let e,l,n=t[121].basedOnCritique+"",r,a;return{c(){e=_("p"),l=E('Critique: "'),r=E(n),a=E('"'),this.h()},l(i){e=h(i,"P",{class:!0});var o=k(e);l=w(o,'Critique: "'),r=w(o,n),a=w(o,'"'),o.forEach(u),this.h()},h(){g(e,"class","critique-note text-xs svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&1&&n!==(n=i[121].basedOnCritique+"")&&O(r,n)},d(i){i&&u(e)}}}function ln(t){let e,l=(t[109].order||t[111]+1)+"",n,r,a=t[109].action+"",i;return{c(){e=_("li"),n=E(l),r=E(". "),i=E(a),this.h()},l(o){e=h(o,"LI",{class:!0});var c=k(e);n=w(c,l),r=w(c,". "),i=w(c,a),c.forEach(u),this.h()},h(){g(e,"class","svelte-158yyg6")},m(o,c){F(o,e,c),s(e,n),s(e,r),s(e,i)},p(o,c){c[0]&1&&l!==(l=(o[109].order||o[111]+1)+"")&&O(n,l),c[0]&1&&a!==(a=o[109].action+"")&&O(i,a)},d(o){o&&u(e)}}}function sn(t){let e,l,n,r=(t[121].version||t[123]+1)+"",a,i,o=vt(t[121].createdAt)+"",c,d,f,m,b,y,p=t[121].basedOnCritique&&tn(t),v=Se(t[121].steps),S=[];for(let C=0;C<v.length;C+=1)S[C]=ln(gs(t,v,C));return{c(){e=_("div"),l=_("h6"),n=E("Version "),a=E(r),i=E(" ("),c=E(o),d=E(")"),f=P(),p&&p.c(),m=P(),b=_("ul");for(let C=0;C<S.length;C+=1)S[C].c();y=P(),this.h()},l(C){e=h(C,"DIV",{class:!0});var N=k(e);l=h(N,"H6",{class:!0});var I=k(l);n=w(I,"Version "),a=w(I,r),i=w(I," ("),c=w(I,o),d=w(I,")"),I.forEach(u),f=A(N),p&&p.l(N),m=A(N),b=h(N,"UL",{class:!0});var T=k(b);for(let R=0;R<S.length;R+=1)S[R].l(T);T.forEach(u),y=A(N),N.forEach(u),this.h()},h(){g(l,"class","old-plan-title svelte-158yyg6"),g(b,"class","old-plan-steps svelte-158yyg6"),g(e,"class","old-plan svelte-158yyg6")},m(C,N){F(C,e,N),s(e,l),s(l,n),s(l,a),s(l,i),s(l,c),s(l,d),s(e,f),p&&p.m(e,null),s(e,m),s(e,b);for(let I=0;I<S.length;I+=1)S[I]&&S[I].m(b,null);s(e,y)},p(C,N){if(N[0]&1&&r!==(r=(C[121].version||C[123]+1)+"")&&O(a,r),N[0]&1&&o!==(o=vt(C[121].createdAt)+"")&&O(c,o),C[121].basedOnCritique?p?p.p(C,N):(p=tn(C),p.c(),p.m(e,m)):p&&(p.d(1),p=null),N[0]&1){v=Se(C[121].steps);let I;for(I=0;I<v.length;I+=1){const T=gs(C,v,I);S[I]?S[I].p(T,N):(S[I]=ln(T),S[I].c(),S[I].m(b,null))}for(;I<S.length;I+=1)S[I].d(1);S.length=v.length}},d(C){C&&u(e),p&&p.d(),Pt(S,C)}}}function nn(t){let e,l,n="‚úèÔ∏è Request Revision",r,a,i="Not happy with the plan? Provide feedback and request a revision.",o,c,d,f,m,b=t[12]===t[100].id?"Requesting...":"üîÑ Request Revision",y,p,v,S;function C(){t[64].call(c,t[100])}function N(){return t[65](t[100])}return{c(){e=_("div"),l=_("h5"),l.textContent=n,r=P(),a=_("p"),a.textContent=i,o=P(),c=_("textarea"),d=P(),f=_("div"),m=_("button"),y=E(b),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=k(e);l=h(T,"H5",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1xjzbut"&&(l.textContent=n),r=A(T),a=h(T,"P",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-1ba4pcb"&&(a.textContent=i),o=A(T),c=h(T,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),k(c).forEach(u),d=A(T),f=h(T,"DIV",{class:!0});var R=k(f);m=h(R,"BUTTON",{class:!0});var D=k(m);y=w(D,b),D.forEach(u),R.forEach(u),T.forEach(u),this.h()},h(){g(l,"class","plan-section-title svelte-158yyg6"),g(a,"class","critique-hint text-xs muted svelte-158yyg6"),g(c,"class","critique-input svelte-158yyg6"),g(c,"placeholder","Enter your critique or suggestions for improving this plan..."),g(c,"rows","3"),g(m,"class","btn-revise svelte-158yyg6"),m.disabled=p=t[12]===t[100].id||!t[10][t[100].id]?.trim(),g(f,"class","critique-actions svelte-158yyg6"),g(e,"class","critique-section svelte-158yyg6")},m(I,T){F(I,e,T),s(e,l),s(e,r),s(e,a),s(e,o),s(e,c),Ne(c,t[10][t[100].id]),s(e,d),s(e,f),s(f,m),s(m,y),v||(S=[be(c,"input",C),be(m,"click",aa(N))],v=!0)},p(I,T){t=I,T[0]&1025&&Ne(c,t[10][t[100].id]),T[0]&4097&&b!==(b=t[12]===t[100].id?"Requesting...":"üîÑ Request Revision")&&O(y,b),T[0]&5121&&p!==(p=t[12]===t[100].id||!t[10][t[100].id]?.trim())&&(m.disabled=p)},d(I){I&&u(e),v=!1,wl(S)}}}function an(t){let e,l,n="Review:",r,a,i=t[100].review.verdict+"",o,c,d=(t[100].review.alignmentScore*100).toFixed(0)+"",f,m,b,y,p=t[100].review.reasoning&&rn(t),v=t[100].review.concerns&&t[100].review.concerns.length>0&&on(t);return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("span"),o=E(i),c=E(" (alignment: "),f=E(d),m=E("%)"),b=P(),p&&p.c(),y=P(),v&&v.c(),this.h()},l(S){e=h(S,"DIV",{class:!0});var C=k(e);l=h(C,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-zs8th9"&&(l.textContent=n),r=A(C),a=h(C,"SPAN",{class:!0});var N=k(a);o=w(N,i),c=w(N," (alignment: "),f=w(N,d),m=w(N,"%)"),N.forEach(u),b=A(C),p&&p.l(C),y=A(C),v&&v.l(C),C.forEach(u),this.h()},h(){g(l,"class","text-xs font-semibold"),g(a,"class","text-xs muted svelte-158yyg6"),g(e,"class","review-summary svelte-158yyg6")},m(S,C){F(S,e,C),s(e,l),s(e,r),s(e,a),s(a,o),s(a,c),s(a,f),s(a,m),s(e,b),p&&p.m(e,null),s(e,y),v&&v.m(e,null)},p(S,C){C[0]&1&&i!==(i=S[100].review.verdict+"")&&O(o,i),C[0]&1&&d!==(d=(S[100].review.alignmentScore*100).toFixed(0)+"")&&O(f,d),S[100].review.reasoning?p?p.p(S,C):(p=rn(S),p.c(),p.m(e,y)):p&&(p.d(1),p=null),S[100].review.concerns&&S[100].review.concerns.length>0?v?v.p(S,C):(v=on(S),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},d(S){S&&u(e),p&&p.d(),v&&v.d()}}}function rn(t){let e,l=t[100].review.reasoning+"",n;return{c(){e=_("p"),n=E(l),this.h()},l(r){e=h(r,"P",{class:!0});var a=k(e);n=w(a,l),a.forEach(u),this.h()},h(){g(e,"class","review-reasoning text-xs muted svelte-158yyg6")},m(r,a){F(r,e,a),s(e,n)},p(r,a){a[0]&1&&l!==(l=r[100].review.reasoning+"")&&O(n,l)},d(r){r&&u(e)}}}function on(t){let e,l,n="Concerns:",r,a,i=Se(t[100].review.concerns),o=[];for(let c=0;c<i.length;c+=1)o[c]=cn(_s(t,i,c));return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);l=h(d,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-ur6vns"&&(l.textContent=n),r=A(d),a=h(d,"UL",{class:!0});var f=k(a);for(let m=0;m<o.length;m+=1)o[m].l(f);f.forEach(u),d.forEach(u),this.h()},h(){g(l,"class","text-xs font-semibold"),g(a,"class","concerns-list svelte-158yyg6"),g(e,"class","review-concerns svelte-158yyg6")},m(c,d){F(c,e,d),s(e,l),s(e,r),s(e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(a,null)},p(c,d){if(d[0]&1){i=Se(c[100].review.concerns);let f;for(f=0;f<i.length;f+=1){const m=_s(c,i,f);o[f]?o[f].p(m,d):(o[f]=cn(m),o[f].c(),o[f].m(a,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},d(c){c&&u(e),Pt(o,c)}}}function cn(t){let e,l,n=t[118]+"",r;return{c(){e=_("li"),l=E("‚Ä¢ "),r=E(n),this.h()},l(a){e=h(a,"LI",{class:!0});var i=k(e);l=w(i,"‚Ä¢ "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=a[118]+"")&&O(r,n)},d(a){a&&u(e)}}}function un(t){let e,l,n="‚è≥ Pending Revision:",r,a,i,o=t[100].userCritique+"",c,d,f,m,b,y=vt(t[100].critiqueAt||null)+"",p;return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("p"),i=E('"'),c=E(o),d=E('"'),f=P(),m=_("span"),b=E("Submitted: "),p=E(y),this.h()},l(v){e=h(v,"DIV",{class:!0});var S=k(e);l=h(S,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-v8h6yi"&&(l.textContent=n),r=A(S),a=h(S,"P",{class:!0});var C=k(a);i=w(C,'"'),c=w(C,o),d=w(C,'"'),C.forEach(u),f=A(S),m=h(S,"SPAN",{class:!0});var N=k(m);b=w(N,"Submitted: "),p=w(N,y),N.forEach(u),S.forEach(u),this.h()},h(){g(l,"class","text-xs font-semibold"),g(a,"class","text-xs muted svelte-158yyg6"),g(m,"class","text-xs muted svelte-158yyg6"),g(e,"class","pending-critique svelte-158yyg6")},m(v,S){F(v,e,S),s(e,l),s(e,r),s(e,a),s(a,i),s(a,c),s(a,d),s(e,f),s(e,m),s(m,b),s(m,p)},p(v,S){S[0]&1&&o!==(o=v[100].userCritique+"")&&O(c,o),S[0]&1&&y!==(y=vt(v[100].critiqueAt||null)+"")&&O(p,y)},d(v){v&&u(e)}}}function fn(t){let e,l,n,r,a,i,o=(t[100].execution.stepsCompleted||0)+"",c,d,f=(t[100].execution.stepsTotal||t[100].plan?.steps.length||"?")+"",m,b,y,p,v,S=vt(t[100].execution.startedAt)+"",C,N;function I(H,q){return H[100].execution.status==="in_progress"||H[100].execution.status==="running"?Sa:H[100].execution.status==="completed"?Na:H[100].execution.status==="failed"?Ca:Ea}let T=I(t),R=T(t),D=t[100].execution.error&&dn(t),j=t[100].execution.completedAt&&vn(t);return{c(){e=_("div"),l=_("div"),n=_("span"),R.c(),r=P(),a=_("span"),i=E("Step "),c=E(o),d=E(" / "),m=E(f),b=P(),D&&D.c(),y=P(),p=_("div"),v=E("Started: "),C=E(S),N=P(),j&&j.c(),this.h()},l(H){e=h(H,"DIV",{class:!0});var q=k(e);l=h(q,"DIV",{class:!0});var B=k(l);n=h(B,"SPAN",{class:!0});var M=k(n);R.l(M),M.forEach(u),r=A(B),a=h(B,"SPAN",{class:!0});var X=k(a);i=w(X,"Step "),c=w(X,o),d=w(X," / "),m=w(X,f),X.forEach(u),B.forEach(u),b=A(q),D&&D.l(q),y=A(q),p=h(q,"DIV",{class:!0});var G=k(p);v=w(G,"Started: "),C=w(G,S),N=A(G),j&&j.l(G),G.forEach(u),q.forEach(u),this.h()},h(){g(n,"class","text-sm font-semibold"),g(a,"class","text-xs muted svelte-158yyg6"),g(l,"class","execution-header svelte-158yyg6"),g(p,"class","execution-meta text-xs muted svelte-158yyg6"),g(e,"class","execution-status svelte-158yyg6"),dt(e,"executing",t[100].execution.status==="in_progress"||t[100].execution.status==="running")},m(H,q){F(H,e,q),s(e,l),s(l,n),R.m(n,null),s(l,r),s(l,a),s(a,i),s(a,c),s(a,d),s(a,m),s(e,b),D&&D.m(e,null),s(e,y),s(e,p),s(p,v),s(p,C),s(p,N),j&&j.m(p,null)},p(H,q){T===(T=I(H))&&R?R.p(H,q):(R.d(1),R=T(H),R&&(R.c(),R.m(n,null))),q[0]&1&&o!==(o=(H[100].execution.stepsCompleted||0)+"")&&O(c,o),q[0]&1&&f!==(f=(H[100].execution.stepsTotal||H[100].plan?.steps.length||"?")+"")&&O(m,f),H[100].execution.error?D?D.p(H,q):(D=dn(H),D.c(),D.m(e,y)):D&&(D.d(1),D=null),q[0]&1&&S!==(S=vt(H[100].execution.startedAt)+"")&&O(C,S),H[100].execution.completedAt?j?j.p(H,q):(j=vn(H),j.c(),j.m(p,null)):j&&(j.d(1),j=null),q[0]&1&&dt(e,"executing",H[100].execution.status==="in_progress"||H[100].execution.status==="running")},d(H){H&&u(e),R.d(),D&&D.d(),j&&j.d()}}}function Ea(t){let e,l=t[100].execution.status+"",n;return{c(){e=E("üìä Execution: "),n=E(l)},l(r){e=w(r,"üìä Execution: "),n=w(r,l)},m(r,a){F(r,e,a),F(r,n,a)},p(r,a){a[0]&1&&l!==(l=r[100].execution.status+"")&&O(n,l)},d(r){r&&(u(e),u(n))}}}function Ca(t){let e;return{c(){e=E("‚ùå Execution Failed")},l(l){e=w(l,"‚ùå Execution Failed")},m(l,n){F(l,e,n)},p:At,d(l){l&&u(e)}}}function Na(t){let e;return{c(){e=E("‚úÖ Execution Complete")},l(l){e=w(l,"‚úÖ Execution Complete")},m(l,n){F(l,e,n)},p:At,d(l){l&&u(e)}}}function Sa(t){let e;return{c(){e=E("‚ö° Executing...")},l(l){e=w(l,"‚ö° Executing...")},m(l,n){F(l,e,n)},p:At,d(l){l&&u(e)}}}function dn(t){let e,l=t[100].execution.error+"",n;return{c(){e=_("p"),n=E(l),this.h()},l(r){e=h(r,"P",{class:!0});var a=k(e);n=w(a,l),a.forEach(u),this.h()},h(){g(e,"class","execution-error text-xs svelte-158yyg6")},m(r,a){F(r,e,a),s(e,n)},p(r,a){a[0]&1&&l!==(l=r[100].execution.error+"")&&O(n,l)},d(r){r&&u(e)}}}function vn(t){let e,l=vt(t[100].execution.completedAt)+"",n;return{c(){e=E("‚Ä¢ Completed: "),n=E(l)},l(r){e=w(r,"‚Ä¢ Completed: "),n=w(r,l)},m(r,a){F(r,e,a),F(r,n,a)},p(r,a){a[0]&1&&l!==(l=vt(r[100].execution.completedAt)+"")&&O(n,l)},d(r){r&&(u(e),u(n))}}}function hn(t){let e,l,n,r,a=t[100].outcomeReview.verdict+"",i,o,c,d=(t[100].outcomeReview.successScore*100).toFixed(0)+"",f,m,b,y,p=t[100].outcomeReview.reasoning+"",v,S,C=t[100].outcomeReview.lessonsLearned&&t[100].outcomeReview.lessonsLearned.length>0&&_n(t);return{c(){e=_("div"),l=_("div"),n=_("span"),r=E("üìä Outcome: "),i=E(a),o=P(),c=_("span"),f=E(d),m=E("% success"),b=P(),y=_("p"),v=E(p),S=P(),C&&C.c(),this.h()},l(N){e=h(N,"DIV",{class:!0});var I=k(e);l=h(I,"DIV",{class:!0});var T=k(l);n=h(T,"SPAN",{class:!0});var R=k(n);r=w(R,"üìä Outcome: "),i=w(R,a),R.forEach(u),o=A(T),c=h(T,"SPAN",{class:!0});var D=k(c);f=w(D,d),m=w(D,"% success"),D.forEach(u),T.forEach(u),b=A(I),y=h(I,"P",{class:!0});var j=k(y);v=w(j,p),j.forEach(u),S=A(I),C&&C.l(I),I.forEach(u),this.h()},h(){g(n,"class","text-sm font-semibold"),g(c,"class","outcome-score svelte-158yyg6"),g(l,"class","outcome-header svelte-158yyg6"),g(y,"class","outcome-reasoning text-xs svelte-158yyg6"),g(e,"class","outcome-review svelte-158yyg6"),dt(e,"success",t[100].outcomeReview.successScore>=.7),dt(e,"warning",t[100].outcomeReview.successScore>=.4&&t[100].outcomeReview.successScore<.7),dt(e,"failure",t[100].outcomeReview.successScore<.4)},m(N,I){F(N,e,I),s(e,l),s(l,n),s(n,r),s(n,i),s(l,o),s(l,c),s(c,f),s(c,m),s(e,b),s(e,y),s(y,v),s(e,S),C&&C.m(e,null)},p(N,I){I[0]&1&&a!==(a=N[100].outcomeReview.verdict+"")&&O(i,a),I[0]&1&&d!==(d=(N[100].outcomeReview.successScore*100).toFixed(0)+"")&&O(f,d),I[0]&1&&p!==(p=N[100].outcomeReview.reasoning+"")&&O(v,p),N[100].outcomeReview.lessonsLearned&&N[100].outcomeReview.lessonsLearned.length>0?C?C.p(N,I):(C=_n(N),C.c(),C.m(e,null)):C&&(C.d(1),C=null),I[0]&1&&dt(e,"success",N[100].outcomeReview.successScore>=.7),I[0]&1&&dt(e,"warning",N[100].outcomeReview.successScore>=.4&&N[100].outcomeReview.successScore<.7),I[0]&1&&dt(e,"failure",N[100].outcomeReview.successScore<.4)},d(N){N&&u(e),C&&C.d()}}}function _n(t){let e,l,n="Lessons:",r,a,i=Se(t[100].outcomeReview.lessonsLearned),o=[];for(let c=0;c<i.length;c+=1)o[c]=pn(hs(t,i,c));return{c(){e=_("div"),l=_("span"),l.textContent=n,r=P(),a=_("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);l=h(d,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-ttb8e6"&&(l.textContent=n),r=A(d),a=h(d,"UL",{class:!0});var f=k(a);for(let m=0;m<o.length;m+=1)o[m].l(f);f.forEach(u),d.forEach(u),this.h()},h(){g(l,"class","text-xs font-semibold"),g(a,"class","lessons-list svelte-158yyg6"),g(e,"class","outcome-lessons svelte-158yyg6")},m(c,d){F(c,e,d),s(e,l),s(e,r),s(e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(a,null)},p(c,d){if(d[0]&1){i=Se(c[100].outcomeReview.lessonsLearned);let f;for(f=0;f<i.length;f+=1){const m=hs(c,i,f);o[f]?o[f].p(m,d):(o[f]=pn(m),o[f].c(),o[f].m(a,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},d(c){c&&u(e),Pt(o,c)}}}function pn(t){let e,l,n=t[115]+"",r;return{c(){e=_("li"),l=E("‚Ä¢ "),r=E(n),this.h()},l(a){e=h(a,"LI",{class:!0});var i=k(e);l=w(i,"‚Ä¢ "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=a[115]+"")&&O(r,n)},d(a){a&&u(e)}}}function gn(t){let e,l,n="üìú",r,a,i=t[13]===t[100].id?"Hide":"Explore",o,c,d,f,m,b=t[13]===t[100].id?"‚ñ≤":"‚ñº",y,p,v,S,C,N=t[100].scratchpad?.entryCount&&mn(t);function I(){return t[66](t[100])}let T=t[13]===t[100].id&&yn(t);return{c(){e=_("button"),l=_("span"),l.textContent=n,r=P(),a=_("span"),o=E(i),c=E(" Journey Log"),d=P(),N&&N.c(),f=P(),m=_("span"),y=E(b),p=P(),T&&T.c(),v=bt(),this.h()},l(R){e=h(R,"BUTTON",{class:!0,style:!0});var D=k(e);l=h(D,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-vh0op7"&&(l.textContent=n),r=A(D),a=h(D,"SPAN",{class:!0});var j=k(a);o=w(j,i),c=w(j," Journey Log"),j.forEach(u),d=A(D),N&&N.l(D),f=A(D),m=h(D,"SPAN",{class:!0});var H=k(m);y=w(H,b),H.forEach(u),D.forEach(u),p=A(R),T&&T.l(R),v=bt(),this.h()},h(){g(l,"class","journey-log-icon svelte-158yyg6"),g(a,"class","journey-log-text svelte-158yyg6"),g(m,"class","journey-log-arrow svelte-158yyg6"),g(e,"class","btn-journey-log svelte-158yyg6"),Ve(e,"border-color",yt(t[100].metrics)),dt(e,"expanded",t[13]===t[100].id)},m(R,D){F(R,e,D),s(e,l),s(e,r),s(e,a),s(a,o),s(a,c),s(e,d),N&&N.m(e,null),s(e,f),s(e,m),s(m,y),F(R,p,D),T&&T.m(R,D),F(R,v,D),S||(C=be(e,"click",I),S=!0)},p(R,D){t=R,D[0]&8193&&i!==(i=t[13]===t[100].id?"Hide":"Explore")&&O(o,i),t[100].scratchpad?.entryCount?N?N.p(t,D):(N=mn(t),N.c(),N.m(e,f)):N&&(N.d(1),N=null),D[0]&8193&&b!==(b=t[13]===t[100].id?"‚ñ≤":"‚ñº")&&O(y,b),D[0]&1&&Ve(e,"border-color",yt(t[100].metrics)),D[0]&8193&&dt(e,"expanded",t[13]===t[100].id),t[13]===t[100].id?T?T.p(t,D):(T=yn(t),T.c(),T.m(v.parentNode,v)):T&&(T.d(1),T=null)},d(R){R&&(u(e),u(p),u(v)),N&&N.d(),T&&T.d(R),S=!1,C()}}}function mn(t){let e,l=t[100].scratchpad.entryCount+"",n,r;return{c(){e=_("span"),n=E(l),r=E(" events"),this.h()},l(a){e=h(a,"SPAN",{class:!0,style:!0});var i=k(e);n=w(i,l),r=w(i," events"),i.forEach(u),this.h()},h(){g(e,"class","journey-log-count svelte-158yyg6"),Ve(e,"background",yt(t[100].metrics))},m(a,i){F(a,e,i),s(e,n),s(e,r)},p(a,i){i[0]&1&&l!==(l=a[100].scratchpad.entryCount+"")&&O(n,l),i[0]&1&&Ve(e,"background",yt(a[100].metrics))},d(a){a&&u(e)}}}function yn(t){let e,l,n,r,a=(t[100].metrics?.planVersionCount||0)+"",i,o,c,d,f=(t[100].metrics?.executionAttemptCount||0)+"",m,b,y,p,v=(t[100].metrics?.executionSuccessCount||0)+"",S,C,N,I,T=(t[100].metrics?.reinforcementCount||0)+"",R,D,j,H,q=(t[100].metrics?.decayCount||0)+"",B,M,X,G,z=(t[100].metrics?.userInputCount||0)+"",K,Q,te,ae,ie=(t[100].metrics?.cycleCount||0)+"",ce,fe,pe,se,de,ve="üìú Journey Events",ge,ne,ke,ue=(t[19].length>0||t[100].planHistory&&t[100].planHistory.length>0)&&bn(t);function Ae(Z,ee){return Z[17]?Ia:Z[14].length>0?Pa:Aa}let he=Ae(t),oe=he(t),le=t[15].length>0&&An(t),x=t[100].folderPath&&Dn(t);return{c(){e=_("div"),l=_("div"),n=_("span"),r=E("üìã Plans: "),i=E(a),o=P(),c=_("span"),d=E("üîÑ Attempts: "),m=E(f),b=P(),y=_("span"),p=E("‚úÖ Successes: "),S=E(v),C=P(),N=_("span"),I=E("üí™ Reinforced: "),R=E(T),D=P(),j=_("span"),H=E("üìâ Decays: "),B=E(q),M=P(),X=_("span"),G=E("üë§ User Input: "),K=E(z),Q=P(),te=_("span"),ae=E("üîÅ Cycles: "),ce=E(ie),fe=P(),ue&&ue.c(),pe=P(),se=_("div"),de=_("h6"),de.textContent=ve,ge=P(),oe.c(),ne=P(),le&&le.c(),ke=P(),x&&x.c(),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var ee=k(e);l=h(ee,"DIV",{class:!0});var Ee=k(l);n=h(Ee,"SPAN",{});var Fe=k(n);r=w(Fe,"üìã Plans: "),i=w(Fe,a),Fe.forEach(u),o=A(Ee),c=h(Ee,"SPAN",{});var me=k(c);d=w(me,"üîÑ Attempts: "),m=w(me,f),me.forEach(u),b=A(Ee),y=h(Ee,"SPAN",{});var J=k(y);p=w(J,"‚úÖ Successes: "),S=w(J,v),J.forEach(u),C=A(Ee),N=h(Ee,"SPAN",{});var re=k(N);I=w(re,"üí™ Reinforced: "),R=w(re,T),re.forEach(u),D=A(Ee),j=h(Ee,"SPAN",{});var je=k(j);H=w(je,"üìâ Decays: "),B=w(je,q),je.forEach(u),M=A(Ee),X=h(Ee,"SPAN",{});var we=k(X);G=w(we,"üë§ User Input: "),K=w(we,z),we.forEach(u),Q=A(Ee),te=h(Ee,"SPAN",{});var Te=k(te);ae=w(Te,"üîÅ Cycles: "),ce=w(Te,ie),Te.forEach(u),Ee.forEach(u),fe=A(ee),ue&&ue.l(ee),pe=A(ee),se=h(ee,"DIV",{class:!0});var Ce=k(se);de=h(Ce,"H6",{class:!0,"data-svelte-h":!0}),Y(de)!=="svelte-1l45ek"&&(de.textContent=ve),ge=A(Ce),oe.l(Ce),ne=A(Ce),le&&le.l(Ce),Ce.forEach(u),ke=A(ee),x&&x.l(ee),ee.forEach(u),this.h()},h(){g(l,"class","scratchpad-stats svelte-158yyg6"),g(de,"class","browser-title svelte-158yyg6"),g(se,"class","scratchpad-browser svelte-158yyg6"),g(e,"class","scratchpad-viewer svelte-158yyg6")},m(Z,ee){F(Z,e,ee),s(e,l),s(l,n),s(n,r),s(n,i),s(l,o),s(l,c),s(c,d),s(c,m),s(l,b),s(l,y),s(y,p),s(y,S),s(l,C),s(l,N),s(N,I),s(N,R),s(l,D),s(l,j),s(j,H),s(j,B),s(l,M),s(l,X),s(X,G),s(X,K),s(l,Q),s(l,te),s(te,ae),s(te,ce),s(e,fe),ue&&ue.m(e,null),s(e,pe),s(e,se),s(se,de),s(se,ge),oe.m(se,null),s(se,ne),le&&le.m(se,null),s(e,ke),x&&x.m(e,null)},p(Z,ee){ee[0]&1&&a!==(a=(Z[100].metrics?.planVersionCount||0)+"")&&O(i,a),ee[0]&1&&f!==(f=(Z[100].metrics?.executionAttemptCount||0)+"")&&O(m,f),ee[0]&1&&v!==(v=(Z[100].metrics?.executionSuccessCount||0)+"")&&O(S,v),ee[0]&1&&T!==(T=(Z[100].metrics?.reinforcementCount||0)+"")&&O(R,T),ee[0]&1&&q!==(q=(Z[100].metrics?.decayCount||0)+"")&&O(B,q),ee[0]&1&&z!==(z=(Z[100].metrics?.userInputCount||0)+"")&&O(K,z),ee[0]&1&&ie!==(ie=(Z[100].metrics?.cycleCount||0)+"")&&O(ce,ie),Z[19].length>0||Z[100].planHistory&&Z[100].planHistory.length>0?ue?ue.p(Z,ee):(ue=bn(Z),ue.c(),ue.m(e,pe)):ue&&(ue.d(1),ue=null),he===(he=Ae(Z))&&oe?oe.p(Z,ee):(oe.d(1),oe=he(Z),oe&&(oe.c(),oe.m(se,ne))),Z[15].length>0?le?le.p(Z,ee):(le=An(Z),le.c(),le.m(se,null)):le&&(le.d(1),le=null),Z[100].folderPath?x?x.p(Z,ee):(x=Dn(Z),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(Z){Z&&u(e),ue&&ue.d(),oe.d(),le&&le.d(),x&&x.d()}}}function bn(t){let e,l,n="üìã Plan Versions",r,a,i,o,c=t[100].plan&&kn(t),d=Se(t[19]),f=[];for(let b=0;b<d.length;b+=1)f[b]=wn(vs(t,d,b));let m=t[21]&&t[20]&&En(t);return{c(){e=_("div"),l=_("h6"),l.textContent=n,r=P(),a=_("div"),c&&c.c(),i=P();for(let b=0;b<f.length;b+=1)f[b].c();o=P(),m&&m.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var y=k(e);l=h(y,"H6",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-r8g24e"&&(l.textContent=n),r=A(y),a=h(y,"DIV",{class:!0});var p=k(a);c&&c.l(p),i=A(p);for(let v=0;v<f.length;v+=1)f[v].l(p);p.forEach(u),o=A(y),m&&m.l(y),y.forEach(u),this.h()},h(){g(l,"class","browser-title svelte-158yyg6"),g(a,"class","plan-version-list svelte-158yyg6"),g(e,"class","plan-browser svelte-158yyg6")},m(b,y){F(b,e,y),s(e,l),s(e,r),s(e,a),c&&c.m(a,null),s(a,i);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(a,null);s(e,o),m&&m.m(e,null)},p(b,y){if(b[100].plan?c?c.p(b,y):(c=kn(b),c.c(),c.m(a,i)):c&&(c.d(1),c=null),y[0]&1572865|y[1]&8){d=Se(b[19]);let p;for(p=0;p<d.length;p+=1){const v=vs(b,d,p);f[p]?f[p].p(v,y):(f[p]=wn(v),f[p].c(),f[p].m(a,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=d.length}b[21]&&b[20]?m?m.p(b,y):(m=En(b),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(b){b&&u(e),c&&c.d(),Pt(f,b),m&&m.d()}}}function kn(t){let e,l,n=(t[100].plan.version||1)+"",r,a,i,o;function c(){return t[67](t[100])}return{c(){e=_("button"),l=E("Current (v"),r=E(n),a=E(")"),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var f=k(e);l=w(f,"Current (v"),r=w(f,n),a=w(f,")"),f.forEach(u),this.h()},h(){g(e,"class","plan-version-btn svelte-158yyg6"),dt(e,"active",!t[20])},m(d,f){F(d,e,f),s(e,l),s(e,r),s(e,a),i||(o=be(e,"click",c),i=!0)},p(d,f){t=d,f[0]&1&&n!==(n=(t[100].plan.version||1)+"")&&O(r,n),f[0]&1048576&&dt(e,"active",!t[20])},d(d){d&&u(e),i=!1,o()}}}function wn(t){let e,l=t[112].replace(".json","")+"",n,r,a,i;function o(){return t[68](t[100],t[112])}return{c(){e=_("button"),n=E(l),r=P(),this.h()},l(c){e=h(c,"BUTTON",{class:!0});var d=k(e);n=w(d,l),r=A(d),d.forEach(u),this.h()},h(){g(e,"class","plan-version-btn svelte-158yyg6"),dt(e,"active",t[20]===parseInt(t[112].replace("v","").replace(".json","")))},m(c,d){F(c,e,d),s(e,n),s(e,r),a||(i=be(e,"click",o),a=!0)},p(c,d){t=c,d[0]&524288&&l!==(l=t[112].replace(".json","")+"")&&O(n,l),d[0]&1572864&&dt(e,"active",t[20]===parseInt(t[112].replace("v","").replace(".json","")))},d(c){c&&u(e),a=!1,i()}}}function En(t){let e,l,n,r=t[21].version+"",a,i,o=(t[21].operatorGoal||"No goal")+"",c,d,f,m=Se(t[21].steps),b=[];for(let y=0;y<m.length;y+=1)b[y]=Cn(ds(t,m,y));return{c(){e=_("div"),l=_("p"),n=E("Viewing v"),a=E(r),i=E(": "),c=E(o),d=P(),f=_("div");for(let y=0;y<b.length;y+=1)b[y].c();this.h()},l(y){e=h(y,"DIV",{class:!0});var p=k(e);l=h(p,"P",{class:!0});var v=k(l);n=w(v,"Viewing v"),a=w(v,r),i=w(v,": "),c=w(v,o),v.forEach(u),d=A(p),f=h(p,"DIV",{class:!0});var S=k(f);for(let C=0;C<b.length;C+=1)b[C].l(S);S.forEach(u),p.forEach(u),this.h()},h(){g(l,"class","text-xs muted svelte-158yyg6"),g(f,"class","plan-steps-preview svelte-158yyg6"),g(e,"class","viewing-plan svelte-158yyg6")},m(y,p){F(y,e,p),s(e,l),s(l,n),s(l,a),s(l,i),s(l,c),s(e,d),s(e,f);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(f,null)},p(y,p){if(p[0]&2097152&&r!==(r=y[21].version+"")&&O(a,r),p[0]&2097152&&o!==(o=(y[21].operatorGoal||"No goal")+"")&&O(c,o),p[0]&2097152){m=Se(y[21].steps);let v;for(v=0;v<m.length;v+=1){const S=ds(y,m,v);b[v]?b[v].p(S,p):(b[v]=Cn(S),b[v].c(),b[v].m(f,null))}for(;v<b.length;v+=1)b[v].d(1);b.length=m.length}},d(y){y&&u(e),Pt(b,y)}}}function Cn(t){let e,l=(t[109].order||t[111]+1)+"",n,r,a=t[109].action+"",i,o;return{c(){e=_("div"),n=E(l),r=E(". "),i=E(a),o=P(),this.h()},l(c){e=h(c,"DIV",{class:!0});var d=k(e);n=w(d,l),r=w(d,". "),i=w(d,a),o=A(d),d.forEach(u),this.h()},h(){g(e,"class","step-preview text-xs svelte-158yyg6")},m(c,d){F(c,e,d),s(e,n),s(e,r),s(e,i),s(e,o)},p(c,d){d[0]&2097152&&l!==(l=(c[109].order||c[111]+1)+"")&&O(n,l),d[0]&2097152&&a!==(a=c[109].action+"")&&O(i,a)},d(c){c&&u(e)}}}function Aa(t){let e,l="No journey events logged yet";return{c(){e=_("p"),e.textContent=l,this.h()},l(n){e=h(n,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-48gast"&&(e.textContent=l),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(n,r){F(n,e,r)},p:At,d(n){n&&u(e)}}}function Pa(t){let e,l,n,r=Se(t[14]),a=[];for(let o=0;o<r.length;o+=1)a[o]=Nn(fs(t,r,o));let i=t[16]>xt&&Sn(t);return{c(){e=_("div");for(let o=0;o<a.length;o+=1)a[o].c();l=P(),i&&i.c(),n=bt(),this.h()},l(o){e=h(o,"DIV",{class:!0});var c=k(e);for(let d=0;d<a.length;d+=1)a[d].l(c);c.forEach(u),l=A(o),i&&i.l(o),n=bt(),this.h()},h(){g(e,"class","scratchpad-entries svelte-158yyg6")},m(o,c){F(o,e,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);F(o,l,c),i&&i.m(o,c),F(o,n,c)},p(o,c){if(c[0]&16384){r=Se(o[14]);let d;for(d=0;d<r.length;d+=1){const f=fs(o,r,d);a[d]?a[d].p(f,c):(a[d]=Nn(f),a[d].c(),a[d].m(e,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=r.length}o[16]>xt?i?i.p(o,c):(i=Sn(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){o&&(u(e),u(l),u(n)),Pt(a,o),i&&i.d(o)}}}function Ia(t){let e,l="Loading events...";return{c(){e=_("p"),e.textContent=l,this.h()},l(n){e=h(n,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ikuk0o"&&(e.textContent=l),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(n,r){F(n,e,r)},p:At,d(n){n&&u(e)}}}function Nn(t){let e,l,n=Zn(t[106].type)+"",r,a,i,o,c=t[106].description+"",d,f,m,b=vt(t[106].timestamp)+"",y,p,v=(t[106].agentName||t[106].actor)+"",S,C;return{c(){e=_("div"),l=_("span"),r=E(n),a=P(),i=_("div"),o=_("span"),d=E(c),f=P(),m=_("span"),y=E(b),p=E(" by "),S=E(v),C=P(),this.h()},l(N){e=h(N,"DIV",{class:!0});var I=k(e);l=h(I,"SPAN",{class:!0});var T=k(l);r=w(T,n),T.forEach(u),a=A(I),i=h(I,"DIV",{class:!0});var R=k(i);o=h(R,"SPAN",{class:!0});var D=k(o);d=w(D,c),D.forEach(u),f=A(R),m=h(R,"SPAN",{class:!0});var j=k(m);y=w(j,b),p=w(j," by "),S=w(j,v),j.forEach(u),R.forEach(u),C=A(I),I.forEach(u),this.h()},h(){g(l,"class","entry-icon svelte-158yyg6"),g(o,"class","entry-description svelte-158yyg6"),g(m,"class","entry-meta text-xs muted svelte-158yyg6"),g(i,"class","entry-content svelte-158yyg6"),g(e,"class","scratchpad-entry svelte-158yyg6")},m(N,I){F(N,e,I),s(e,l),s(l,r),s(e,a),s(e,i),s(i,o),s(o,d),s(i,f),s(i,m),s(m,y),s(m,p),s(m,S),s(e,C)},p(N,I){I[0]&16384&&n!==(n=Zn(N[106].type)+"")&&O(r,n),I[0]&16384&&c!==(c=N[106].description+"")&&O(d,c),I[0]&16384&&b!==(b=vt(N[106].timestamp)+"")&&O(y,b),I[0]&16384&&v!==(v=(N[106].agentName||N[106].actor)+"")&&O(S,v)},d(N){N&&u(e)}}}function Sn(t){let e,l,n,r,a,i,o=t[18]+1+"",c,d,f=Math.min(t[18]+xt,t[16])+"",m,b,y,p,v,S,C,N,I;function T(){return t[69](t[100])}function R(){return t[70](t[100])}return{c(){e=_("div"),l=_("button"),n=E("‚Üê Newer"),a=P(),i=_("span"),c=E(o),d=E("-"),m=E(f),b=E(" of "),y=E(t[16]),p=P(),v=_("button"),S=E("Older ‚Üí"),this.h()},l(D){e=h(D,"DIV",{class:!0});var j=k(e);l=h(j,"BUTTON",{class:!0});var H=k(l);n=w(H,"‚Üê Newer"),H.forEach(u),a=A(j),i=h(j,"SPAN",{class:!0});var q=k(i);c=w(q,o),d=w(q,"-"),m=w(q,f),b=w(q," of "),y=w(q,t[16]),q.forEach(u),p=A(j),v=h(j,"BUTTON",{class:!0});var B=k(v);S=w(B,"Older ‚Üí"),B.forEach(u),j.forEach(u),this.h()},h(){g(l,"class","pagination-btn svelte-158yyg6"),l.disabled=r=t[18]===0,g(i,"class","pagination-info text-xs muted svelte-158yyg6"),g(v,"class","pagination-btn svelte-158yyg6"),v.disabled=C=t[18]+xt>=t[16],g(e,"class","scratchpad-pagination svelte-158yyg6")},m(D,j){F(D,e,j),s(e,l),s(l,n),s(e,a),s(e,i),s(i,c),s(i,d),s(i,m),s(i,b),s(i,y),s(e,p),s(e,v),s(v,S),N||(I=[be(l,"click",T),be(v,"click",R)],N=!0)},p(D,j){t=D,j[0]&262144&&r!==(r=t[18]===0)&&(l.disabled=r),j[0]&262144&&o!==(o=t[18]+1+"")&&O(c,o),j[0]&327680&&f!==(f=Math.min(t[18]+xt,t[16])+"")&&O(m,f),j[0]&65536&&O(y,t[16]),j[0]&327680&&C!==(C=t[18]+xt>=t[16])&&(v.disabled=C)},d(D){D&&u(e),N=!1,wl(I)}}}function An(t){let e,l,n,r=t[15].length+"",a,i,o,c,d,f=Se(t[15].slice(-10)),m=[];for(let y=0;y<f.length;y+=1)m[y]=Pn(us(t,f,y));let b=t[15].length>10&&In(t);return{c(){e=_("details"),l=_("summary"),n=E("üìÅ "),a=E(r),i=E(" files in scratchpad/"),o=P(),c=_("ul");for(let y=0;y<m.length;y+=1)m[y].c();d=P(),b&&b.c(),this.h()},l(y){e=h(y,"DETAILS",{class:!0});var p=k(e);l=h(p,"SUMMARY",{class:!0});var v=k(l);n=w(v,"üìÅ "),a=w(v,r),i=w(v," files in scratchpad/"),v.forEach(u),o=A(p),c=h(p,"UL",{class:!0});var S=k(c);for(let C=0;C<m.length;C+=1)m[C].l(S);d=A(S),b&&b.l(S),S.forEach(u),p.forEach(u),this.h()},h(){g(l,"class","text-xs muted svelte-158yyg6"),g(c,"class","file-list svelte-158yyg6"),g(e,"class","file-list-details svelte-158yyg6")},m(y,p){F(y,e,p),s(e,l),s(l,n),s(l,a),s(l,i),s(e,o),s(e,c);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(c,null);s(c,d),b&&b.m(c,null)},p(y,p){if(p[0]&32768&&r!==(r=y[15].length+"")&&O(a,r),p[0]&32768){f=Se(y[15].slice(-10));let v;for(v=0;v<f.length;v+=1){const S=us(y,f,v);m[v]?m[v].p(S,p):(m[v]=Pn(S),m[v].c(),m[v].m(c,d))}for(;v<m.length;v+=1)m[v].d(1);m.length=f.length}y[15].length>10?b?b.p(y,p):(b=In(y),b.c(),b.m(c,null)):b&&(b.d(1),b=null)},d(y){y&&u(e),Pt(m,y),b&&b.d()}}}function Pn(t){let e,l=t[103]+"",n;return{c(){e=_("li"),n=E(l),this.h()},l(r){e=h(r,"LI",{class:!0});var a=k(e);n=w(a,l),a.forEach(u),this.h()},h(){g(e,"class","text-xs svelte-158yyg6")},m(r,a){F(r,e,a),s(e,n)},p(r,a){a[0]&32768&&l!==(l=r[103]+"")&&O(n,l)},d(r){r&&u(e)}}}function In(t){let e,l,n=t[15].length-10+"",r,a;return{c(){e=_("li"),l=E("...and "),r=E(n),a=E(" more"),this.h()},l(i){e=h(i,"LI",{class:!0});var o=k(e);l=w(o,"...and "),r=w(o,n),a=w(o," more"),o.forEach(u),this.h()},h(){g(e,"class","text-xs muted svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&32768&&n!==(n=i[15].length-10+"")&&O(r,n)},d(i){i&&u(e)}}}function Dn(t){let e,l,n=t[100].folderPath+"",r;return{c(){e=_("p"),l=E("üìÅ "),r=E(n),this.h()},l(a){e=h(a,"P",{class:!0});var i=k(e);l=w(i,"üìÅ "),r=w(i,n),i.forEach(u),this.h()},h(){g(e,"class","text-xs muted folder-path svelte-158yyg6")},m(a,i){F(a,e,i),s(e,l),s(e,r)},p(a,i){i[0]&1&&n!==(n=a[100].folderPath+"")&&O(r,n)},d(a){a&&u(e)}}}function Vn(t){let e,l,n,r,a;function i(){return t[71](t[100])}return{c(){e=_("button"),l=E("‚Üí Pending"),this.h()},l(o){e=h(o,"BUTTON",{class:!0});var c=k(e);l=w(c,"‚Üí Pending"),c.forEach(u),this.h()},h(){g(e,"class","btn-stage svelte-158yyg6"),e.disabled=n=t[6]===t[100].id},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function Tn(t){let e,l,n,r,a;function i(f,m){return f[22]===f[100].id&&f[23]==="planning"?Va:Da}let o=i(t),c=o(t);function d(){return t[72](t[100])}return{c(){e=_("button"),c.c(),l=E(`
                  Generate Plan`),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var m=k(e);c.l(m),l=w(m,`
                  Generate Plan`),m.forEach(u),this.h()},h(){g(e,"class","btn-stage btn-agent svelte-158yyg6"),e.disabled=n=t[6]===t[100].id||t[22]===t[100].id},m(f,m){F(f,e,m),c.m(e,null),s(e,l),r||(a=be(e,"click",d),r=!0)},p(f,m){t=f,o!==(o=i(t))&&(c.d(1),c=o(t),c&&(c.c(),c.m(e,l))),m[0]&4194369&&n!==(n=t[6]===t[100].id||t[22]===t[100].id)&&(e.disabled=n)},d(f){f&&u(e),c.d(),r=!1,a()}}}function Da(t){let e;return{c(){e=E("üß†")},l(l){e=w(l,"üß†")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function Va(t){let e;return{c(){e=_("span"),this.h()},l(l){e=h(l,"SPAN",{class:!0}),k(e).forEach(u),this.h()},h(){g(e,"class","loading-spinner svelte-158yyg6")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function Rn(t){let e;function l(a,i){return a[100].plan?Ra:Ta}let n=l(t),r=n(t);return{c(){r.c(),e=bt()},l(a){r.l(a),e=bt()},m(a,i){r.m(a,i),F(a,e,i)},p(a,i){n===(n=l(a))&&r?r.p(a,i):(r.d(1),r=n(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){a&&u(e),r.d(a)}}}function Ta(t){let e,l,n,r,a;function i(f,m){return f[22]===f[100].id&&f[23]==="planning"?Fa:Oa}let o=i(t),c=o(t);function d(){return t[74](t[100])}return{c(){e=_("button"),c.c(),l=E(`
                    Generate Plan`),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var m=k(e);c.l(m),l=w(m,`
                    Generate Plan`),m.forEach(u),this.h()},h(){g(e,"class","btn-stage btn-agent svelte-158yyg6"),e.disabled=n=t[6]===t[100].id||t[22]===t[100].id},m(f,m){F(f,e,m),c.m(e,null),s(e,l),r||(a=be(e,"click",d),r=!0)},p(f,m){t=f,o!==(o=i(t))&&(c.d(1),c=o(t),c&&(c.c(),c.m(e,l))),m[0]&4194369&&n!==(n=t[6]===t[100].id||t[22]===t[100].id)&&(e.disabled=n)},d(f){f&&u(e),c.d(),r=!1,a()}}}function Ra(t){let e,l,n,r,a;function i(){return t[73](t[100])}return{c(){e=_("button"),l=E("‚Üí Review"),this.h()},l(o){e=h(o,"BUTTON",{class:!0});var c=k(e);l=w(c,"‚Üí Review"),c.forEach(u),this.h()},h(){g(e,"class","btn-stage svelte-158yyg6"),e.disabled=n=t[6]===t[100].id},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function Oa(t){let e;return{c(){e=E("üß†")},l(l){e=w(l,"üß†")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function Fa(t){let e;return{c(){e=_("span"),this.h()},l(l){e=h(l,"SPAN",{class:!0}),k(e).forEach(u),this.h()},h(){g(e,"class","loading-spinner svelte-158yyg6")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function On(t){let e,l,n,r,a;function i(){return t[75](t[100])}return{c(){e=_("button"),l=E("‚Üí Approve"),this.h()},l(o){e=h(o,"BUTTON",{class:!0});var c=k(e);l=w(c,"‚Üí Approve"),c.forEach(u),this.h()},h(){g(e,"class","btn-stage svelte-158yyg6"),e.disabled=n=t[6]===t[100].id},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function Fn(t){let e;function l(a,i){return a[100].plan?La:ja}let n=l(t),r=n(t);return{c(){r.c(),e=bt()},l(a){r.l(a),e=bt()},m(a,i){r.m(a,i),F(a,e,i)},p(a,i){n===(n=l(a))&&r?r.p(a,i):(r.d(1),r=n(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){a&&u(e),r.d(a)}}}function ja(t){let e,l,n,r,a;function i(f,m){return f[22]===f[100].id&&f[23]==="planning"?qa:Ha}let o=i(t),c=o(t);function d(){return t[77](t[100])}return{c(){e=_("button"),c.c(),l=E(`
                    Generate Plan`),this.h()},l(f){e=h(f,"BUTTON",{class:!0,title:!0});var m=k(e);c.l(m),l=w(m,`
                    Generate Plan`),m.forEach(u),this.h()},h(){g(e,"class","btn-plan btn-agent svelte-158yyg6"),e.disabled=n=t[6]===t[100].id||t[22]===t[100].id,g(e,"title","Generate an execution plan for this desire")},m(f,m){F(f,e,m),c.m(e,null),s(e,l),r||(a=be(e,"click",d),r=!0)},p(f,m){t=f,o!==(o=i(t))&&(c.d(1),c=o(t),c&&(c.c(),c.m(e,l))),m[0]&4194369&&n!==(n=t[6]===t[100].id||t[22]===t[100].id)&&(e.disabled=n)},d(f){f&&u(e),c.d(),r=!1,a()}}}function La(t){let e,l,n,r,a;function i(f,m){return f[22]===f[100].id&&f[23]==="executing"?Ma:Ua}let o=i(t),c=o(t);function d(){return t[76](t[100])}return{c(){e=_("button"),c.c(),l=E(`
                    Execute`),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var m=k(e);c.l(m),l=w(m,`
                    Execute`),m.forEach(u),this.h()},h(){g(e,"class","btn-execute btn-agent svelte-158yyg6"),e.disabled=n=t[6]===t[100].id||t[22]===t[100].id},m(f,m){F(f,e,m),c.m(e,null),s(e,l),r||(a=be(e,"click",d),r=!0)},p(f,m){t=f,o!==(o=i(t))&&(c.d(1),c=o(t),c&&(c.c(),c.m(e,l))),m[0]&4194369&&n!==(n=t[6]===t[100].id||t[22]===t[100].id)&&(e.disabled=n)},d(f){f&&u(e),c.d(),r=!1,a()}}}function Ha(t){let e;return{c(){e=E("üß†")},l(l){e=w(l,"üß†")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function qa(t){let e;return{c(){e=_("span"),this.h()},l(l){e=h(l,"SPAN",{class:!0}),k(e).forEach(u),this.h()},h(){g(e,"class","loading-spinner svelte-158yyg6")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function Ua(t){let e;return{c(){e=E("üöÄ")},l(l){e=w(l,"üöÄ")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function Ma(t){let e;return{c(){e=_("span"),this.h()},l(l){e=h(l,"SPAN",{class:!0}),k(e).forEach(u),this.h()},h(){g(e,"class","loading-spinner svelte-158yyg6")},m(l,n){F(l,e,n)},d(l){l&&u(e)}}}function jn(t){let e,l,n,r,a;function i(){return t[78](t[100])}return{c(){e=_("button"),l=E("üîÑ Reset"),this.h()},l(o){e=h(o,"BUTTON",{class:!0,title:!0});var c=k(e);l=w(c,"üîÑ Reset"),c.forEach(u),this.h()},h(){g(e,"class","btn-reset svelte-158yyg6"),e.disabled=n=t[6]===t[100].id,g(e,"title","Reset this desire back to planning stage")},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function Ln(t){let e,l,n,r;function a(d,f){return d[22]===d[100].id?Ga:Ba}let i=a(t),o=i(t);function c(){return t[79](t[100])}return{c(){e=_("button"),o.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0,title:!0});var f=k(e);o.l(f),f.forEach(u),this.h()},h(){g(e,"class","btn-execute btn-agent svelte-158yyg6"),e.disabled=l=t[6]===t[100].id||t[22]===t[100].id,g(e,"title","Run outcome review to verify completion")},m(d,f){F(d,e,f),o.m(e,null),n||(r=be(e,"click",c),n=!0)},p(d,f){t=d,i===(i=a(t))&&o?o.p(t,f):(o.d(1),o=i(t),o&&(o.c(),o.m(e,null))),f[0]&4194369&&l!==(l=t[6]===t[100].id||t[22]===t[100].id)&&(e.disabled=l)},d(d){d&&u(e),o.d(),n=!1,r()}}}function Ba(t){let e;return{c(){e=E("üîç Run Outcome Review")},l(l){e=w(l,"üîç Run Outcome Review")},m(l,n){F(l,e,n)},p:At,d(l){l&&u(e)}}}function Ga(t){let e,l,n=(t[24]||"Reviewing...")+"",r;return{c(){e=_("span"),l=P(),r=E(n),this.h()},l(a){e=h(a,"SPAN",{class:!0}),k(e).forEach(u),l=A(a),r=w(a,n),this.h()},h(){g(e,"class","loading-spinner svelte-158yyg6")},m(a,i){F(a,e,i),F(a,l,i),F(a,r,i)},p(a,i){i[0]&16777216&&n!==(n=(a[24]||"Reviewing...")+"")&&O(r,n)},d(a){a&&(u(e),u(l),u(r))}}}function Hn(t){let e,l,n,r,a;function i(){return t[80](t[100])}return{c(){e=_("button"),l=E("Fast Approve"),this.h()},l(o){e=h(o,"BUTTON",{class:!0,title:!0});var c=k(e);l=w(c,"Fast Approve"),c.forEach(u),this.h()},h(){g(e,"class","btn-approve svelte-158yyg6"),e.disabled=n=t[6]===t[100].id,g(e,"title","Skip to approved status")},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function qn(t){let e,l,n,r,a;function i(){return t[81](t[100])}return{c(){e=_("button"),l=E("Reject"),this.h()},l(o){e=h(o,"BUTTON",{class:!0});var c=k(e);l=w(c,"Reject"),c.forEach(u),this.h()},h(){g(e,"class","btn-reject svelte-158yyg6"),e.disabled=n=t[6]===t[100].id},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function Un(t){let e,l,n,r,a;function i(){return t[82](t[100])}return{c(){e=_("button"),l=E("Delete"),this.h()},l(o){e=h(o,"BUTTON",{class:!0});var c=k(e);l=w(c,"Delete"),c.forEach(u),this.h()},h(){g(e,"class","btn-delete svelte-158yyg6"),e.disabled=n=t[6]===t[100].id},m(o,c){F(o,e,c),s(e,l),r||(a=be(e,"click",i),r=!0)},p(o,c){t=o,c[0]&65&&n!==(n=t[6]===t[100].id)&&(e.disabled=n)},d(o){o&&u(e),r=!1,a()}}}function Mn(t){let e,l,n,r,a=bl(t[100].source)+"",i,o,c,d=t[100].title+"",f,m,b,y,p=t[100].status+"",v,S,C,N,I=t[100].risk+"",T,R,D,j,H=t[100].description+"",q,B,M,X,G,z,K,Q=ql(t[100].metrics)+"",te,ae,ie,ce=Ul(t[100].metrics)+"",fe,pe,se,de=Kn(t[100].metrics)+"",ve,ge,ne,ke,ue,Ae="üîÅ",he,oe,le=(t[100].metrics?.cycleCount??0)+"",x,Z,ee,Ee="Cycles",Fe,me,J,re="‚úÖ",je,we,Te=(t[100].metrics?.completionCount??0)+"",Ce,Ut,Me,Jt="Completions",zt,Be,_t,Wt="‚ö°",He,Ge,Mt=(t[100].metrics?.executionAttemptCount??0)+"",Bt,kt,It,el="Attempts",qe,Je,Re,pt="üìã",Ft,Dt,jt=(t[100].metrics?.planVersionCount??0)+"",Xt,gt,Vt,tl="Plan Versions",ll,Ie,wt,Et,cl="Strength",sl,Lt,Pe=(t[100].strength*100).toFixed(0)+"",De,dl,vl,Yt,Tt,V,L,$,_e,ze,Rt,Gt=vt(t[100].createdAt)+"",Qt,Ct,Ue,Ht,mt=vt(t[100].updatedAt)+"",Le,nl,al,Kt,Zt,$t,Nt,qt,ul,fl,ye,El,Cl,Nl,Sl,Al,Pl,Il,Bl=["nascent","pending","planning","reviewing"].includes(t[100].status),Dl,Gl=["nascent","pending","planning","reviewing","approved"].includes(t[100].status),Vl,Jl=["nascent","pending","rejected","abandoned","failed","completed","awaiting_review"].includes(t[100].status),zl,We=t[100].reason&&Hs(t),Xe=t[100].metrics&&qs(t),Ye=t[100].metrics&&(t[100].metrics.userInputCount>0||t[100].metrics.userApprovalCount>0)&&Us(t),Qe=t[100].scratchpad?.entryCount&&Bs(t),ht=t[100].status==="approved"&&!t[100].plan&&Gs(),Ke=t[100].plan&&Js(t),Ze=t[100].review&&an(t),$e=t[100].userCritique&&un(t),xe=t[100].execution&&fn(t),et=t[100].outcomeReview&&hn(t),tt=(t[100].metrics||t[100].scratchpad)&&gn(t),lt=t[100].status==="nascent"&&Vn(t),st=t[100].status==="pending"&&Tn(t),nt=t[100].status==="planning"&&Rn(t),at=t[100].status==="reviewing"&&On(t),it=t[100].status==="approved"&&Fn(t),rt=(t[100].status==="executing"||t[100].status==="failed")&&jn(t),ot=t[100].status==="awaiting_review"&&Ln(t),ct=Bl&&Hn(t),ut=Gl&&qn(t),ft=Jl&&Un(t);return{c(){e=_("div"),l=_("div"),n=_("div"),r=_("span"),i=E(a),o=P(),c=_("h4"),f=E(d),m=P(),b=_("div"),y=_("span"),v=E(p),C=P(),N=_("span"),T=E(I),D=P(),j=_("p"),q=E(H),B=P(),We&&We.c(),M=P(),X=_("div"),G=_("div"),z=_("div"),K=_("span"),te=E(Q),ae=P(),ie=_("span"),fe=E(ce),pe=P(),se=_("p"),ve=E(de),ge=P(),ne=_("div"),ke=_("div"),ue=_("span"),ue.textContent=Ae,he=P(),oe=_("span"),x=E(le),Z=P(),ee=_("span"),ee.textContent=Ee,Fe=P(),me=_("div"),J=_("span"),J.textContent=re,je=P(),we=_("span"),Ce=E(Te),Ut=P(),Me=_("span"),Me.textContent=Jt,zt=P(),Be=_("div"),_t=_("span"),_t.textContent=Wt,He=P(),Ge=_("span"),Bt=E(Mt),kt=P(),It=_("span"),It.textContent=el,qe=P(),Je=_("div"),Re=_("span"),Re.textContent=pt,Ft=P(),Dt=_("span"),Xt=E(jt),gt=P(),Vt=_("span"),Vt.textContent=tl,ll=P(),Ie=_("div"),wt=_("div"),Et=_("span"),Et.textContent=cl,sl=P(),Lt=_("span"),De=E(Pe),dl=E("%"),vl=P(),Yt=_("div"),Tt=_("div"),V=P(),Xe&&Xe.c(),L=P(),Ye&&Ye.c(),$=P(),_e=_("div"),ze=_("span"),Rt=E("Created: "),Qt=E(Gt),Ct=P(),Ue=_("span"),Ht=E("Updated: "),Le=E(mt),nl=P(),Qe&&Qe.c(),al=P(),ht&&ht.c(),Kt=P(),Ke&&Ke.c(),Zt=P(),Ze&&Ze.c(),$t=P(),$e&&$e.c(),Nt=P(),xe&&xe.c(),qt=P(),et&&et.c(),ul=P(),tt&&tt.c(),fl=P(),ye=_("div"),lt&&lt.c(),El=P(),st&&st.c(),Cl=P(),nt&&nt.c(),Nl=P(),at&&at.c(),Sl=P(),it&&it.c(),Al=P(),rt&&rt.c(),Pl=P(),ot&&ot.c(),Il=P(),ct&&ct.c(),Dl=P(),ut&&ut.c(),Vl=P(),ft&&ft.c(),zl=P(),this.h()},l(U){e=h(U,"DIV",{class:!0,style:!0});var W=k(e);l=h(W,"DIV",{class:!0});var Tl=k(l);n=h(Tl,"DIV",{class:!0});var Rl=k(n);r=h(Rl,"SPAN",{class:!0});var Ql=k(r);i=w(Ql,a),Ql.forEach(u),o=A(Rl),c=h(Rl,"H4",{class:!0});var Kl=k(c);f=w(Kl,d),Kl.forEach(u),Rl.forEach(u),m=A(Tl),b=h(Tl,"DIV",{class:!0});var Ol=k(b);y=h(Ol,"SPAN",{class:!0});var Zl=k(y);v=w(Zl,p),Zl.forEach(u),C=A(Ol),N=h(Ol,"SPAN",{class:!0});var $l=k(N);T=w($l,I),$l.forEach(u),Ol.forEach(u),Tl.forEach(u),D=A(W),j=h(W,"P",{class:!0});var xl=k(j);q=w(xl,H),xl.forEach(u),B=A(W),We&&We.l(W),M=A(W),X=h(W,"DIV",{class:!0,style:!0});var il=k(X);G=h(il,"DIV",{class:!0});var Fl=k(G);z=h(Fl,"DIV",{class:!0,style:!0});var jl=k(z);K=h(jl,"SPAN",{class:!0});var es=k(K);te=w(es,Q),es.forEach(u),ae=A(jl),ie=h(jl,"SPAN",{class:!0});var ts=k(ie);fe=w(ts,ce),ts.forEach(u),jl.forEach(u),pe=A(Fl),se=h(Fl,"P",{class:!0});var ls=k(se);ve=w(ls,de),ls.forEach(u),Fl.forEach(u),ge=A(il),ne=h(il,"DIV",{class:!0});var rl=k(ne);ke=h(rl,"DIV",{class:!0});var hl=k(ke);ue=h(hl,"SPAN",{class:!0,"data-svelte-h":!0}),Y(ue)!=="svelte-wuj4pp"&&(ue.textContent=Ae),he=A(hl),oe=h(hl,"SPAN",{class:!0});var ss=k(oe);x=w(ss,le),ss.forEach(u),Z=A(hl),ee=h(hl,"SPAN",{class:!0,"data-svelte-h":!0}),Y(ee)!=="svelte-mrc6jl"&&(ee.textContent=Ee),hl.forEach(u),Fe=A(rl),me=h(rl,"DIV",{class:!0});var _l=k(me);J=h(_l,"SPAN",{class:!0,"data-svelte-h":!0}),Y(J)!=="svelte-1p2uwae"&&(J.textContent=re),je=A(_l),we=h(_l,"SPAN",{class:!0});var ns=k(we);Ce=w(ns,Te),ns.forEach(u),Ut=A(_l),Me=h(_l,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Me)!=="svelte-1vjg0er"&&(Me.textContent=Jt),_l.forEach(u),zt=A(rl),Be=h(rl,"DIV",{class:!0});var pl=k(Be);_t=h(pl,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_t)!=="svelte-fstdf6"&&(_t.textContent=Wt),He=A(pl),Ge=h(pl,"SPAN",{class:!0});var as=k(Ge);Bt=w(as,Mt),as.forEach(u),kt=A(pl),It=h(pl,"SPAN",{class:!0,"data-svelte-h":!0}),Y(It)!=="svelte-1lo7a1u"&&(It.textContent=el),pl.forEach(u),qe=A(rl),Je=h(rl,"DIV",{class:!0});var gl=k(Je);Re=h(gl,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Re)!=="svelte-jyvp4f"&&(Re.textContent=pt),Ft=A(gl),Dt=h(gl,"SPAN",{class:!0});var is=k(Dt);Xt=w(is,jt),is.forEach(u),gt=A(gl),Vt=h(gl,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Vt)!=="svelte-1vww0qo"&&(Vt.textContent=tl),gl.forEach(u),rl.forEach(u),ll=A(il),Ie=h(il,"DIV",{class:!0});var ml=k(Ie);wt=h(ml,"DIV",{class:!0});var Ll=k(wt);Et=h(Ll,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Et)!=="svelte-1hc7wnk"&&(Et.textContent=cl),sl=A(Ll),Lt=h(Ll,"SPAN",{class:!0});var Wl=k(Lt);De=w(Wl,Pe),dl=w(Wl,"%"),Wl.forEach(u),Ll.forEach(u),vl=A(ml),Yt=h(ml,"DIV",{class:!0});var rs=k(Yt);Tt=h(rs,"DIV",{class:!0,style:!0}),k(Tt).forEach(u),rs.forEach(u),V=A(ml),Xe&&Xe.l(ml),ml.forEach(u),L=A(il),Ye&&Ye.l(il),il.forEach(u),$=A(W),_e=h(W,"DIV",{class:!0});var yl=k(_e);ze=h(yl,"SPAN",{class:!0});var Xl=k(ze);Rt=w(Xl,"Created: "),Qt=w(Xl,Gt),Xl.forEach(u),Ct=A(yl),Ue=h(yl,"SPAN",{class:!0});var Yl=k(Ue);Ht=w(Yl,"Updated: "),Le=w(Yl,mt),Yl.forEach(u),nl=A(yl),Qe&&Qe.l(yl),yl.forEach(u),al=A(W),ht&&ht.l(W),Kt=A(W),Ke&&Ke.l(W),Zt=A(W),Ze&&Ze.l(W),$t=A(W),$e&&$e.l(W),Nt=A(W),xe&&xe.l(W),qt=A(W),et&&et.l(W),ul=A(W),tt&&tt.l(W),fl=A(W),ye=h(W,"DIV",{class:!0});var Oe=k(ye);lt&&lt.l(Oe),El=A(Oe),st&&st.l(Oe),Cl=A(Oe),nt&&nt.l(Oe),Nl=A(Oe),at&&at.l(Oe),Sl=A(Oe),it&&it.l(Oe),Al=A(Oe),rt&&rt.l(Oe),Pl=A(Oe),ot&&ot.l(Oe),Il=A(Oe),ct&&ct.l(Oe),Dl=A(Oe),ut&&ut.l(Oe),Vl=A(Oe),ft&&ft.l(Oe),Oe.forEach(u),zl=A(W),W.forEach(u),this.h()},h(){g(r,"class","source-icon svelte-158yyg6"),g(c,"class","desire-title svelte-158yyg6"),g(n,"class","flex items-center gap-2"),g(y,"class",S=Ot(`badge ${Ml(t[100].status)}`)+" svelte-158yyg6"),g(N,"class",R=Ot(`badge ${ol(t[100].risk)}`)+" svelte-158yyg6"),g(b,"class","flex items-center gap-2"),g(l,"class","desire-header svelte-158yyg6"),g(j,"class","desire-description svelte-158yyg6"),g(K,"class","nature-icon-large svelte-158yyg6"),g(ie,"class","nature-label-large svelte-158yyg6"),g(z,"class","nature-badge-large svelte-158yyg6"),Ve(z,"background",yt(t[100].metrics)),g(se,"class","nature-explanation svelte-158yyg6"),g(G,"class","nature-section svelte-158yyg6"),g(ue,"class","metric-icon svelte-158yyg6"),g(oe,"class","metric-value svelte-158yyg6"),g(ee,"class","metric-label svelte-158yyg6"),g(ke,"class","metric-item svelte-158yyg6"),g(J,"class","metric-icon svelte-158yyg6"),g(we,"class","metric-value svelte-158yyg6"),g(Me,"class","metric-label svelte-158yyg6"),g(me,"class","metric-item svelte-158yyg6"),g(_t,"class","metric-icon svelte-158yyg6"),g(Ge,"class","metric-value svelte-158yyg6"),g(It,"class","metric-label svelte-158yyg6"),g(Be,"class","metric-item svelte-158yyg6"),g(Re,"class","metric-icon svelte-158yyg6"),g(Dt,"class","metric-value svelte-158yyg6"),g(Vt,"class","metric-label svelte-158yyg6"),g(Je,"class","metric-item svelte-158yyg6"),g(ne,"class","metrics-grid svelte-158yyg6"),g(Et,"class","strength-label svelte-158yyg6"),g(Lt,"class","strength-value svelte-158yyg6"),g(wt,"class","strength-header svelte-158yyg6"),g(Tt,"class","strength-bar svelte-158yyg6"),Ve(Tt,"width",t[100].strength*100+"%"),Ve(Tt,"background",yt(t[100].metrics)),g(Yt,"class","strength-bar-container svelte-158yyg6"),g(Ie,"class","strength-section svelte-158yyg6"),g(X,"class","desire-insights svelte-158yyg6"),Ve(X,"background",Yn(t[100].metrics)),Ve(X,"--dark-bg",Qn(t[100].metrics)),g(ze,"class","muted text-xs svelte-158yyg6"),g(Ue,"class","muted text-xs svelte-158yyg6"),g(_e,"class","desire-meta svelte-158yyg6"),g(ye,"class","desire-actions svelte-158yyg6"),g(e,"class","desire-card svelte-158yyg6"),Ve(e,"border-left","4px solid "+yt(t[100].metrics))},m(U,W){F(U,e,W),s(e,l),s(l,n),s(n,r),s(r,i),s(n,o),s(n,c),s(c,f),s(l,m),s(l,b),s(b,y),s(y,v),s(b,C),s(b,N),s(N,T),s(e,D),s(e,j),s(j,q),s(e,B),We&&We.m(e,null),s(e,M),s(e,X),s(X,G),s(G,z),s(z,K),s(K,te),s(z,ae),s(z,ie),s(ie,fe),s(G,pe),s(G,se),s(se,ve),s(X,ge),s(X,ne),s(ne,ke),s(ke,ue),s(ke,he),s(ke,oe),s(oe,x),s(ke,Z),s(ke,ee),s(ne,Fe),s(ne,me),s(me,J),s(me,je),s(me,we),s(we,Ce),s(me,Ut),s(me,Me),s(ne,zt),s(ne,Be),s(Be,_t),s(Be,He),s(Be,Ge),s(Ge,Bt),s(Be,kt),s(Be,It),s(ne,qe),s(ne,Je),s(Je,Re),s(Je,Ft),s(Je,Dt),s(Dt,Xt),s(Je,gt),s(Je,Vt),s(X,ll),s(X,Ie),s(Ie,wt),s(wt,Et),s(wt,sl),s(wt,Lt),s(Lt,De),s(Lt,dl),s(Ie,vl),s(Ie,Yt),s(Yt,Tt),s(Ie,V),Xe&&Xe.m(Ie,null),s(X,L),Ye&&Ye.m(X,null),s(e,$),s(e,_e),s(_e,ze),s(ze,Rt),s(ze,Qt),s(_e,Ct),s(_e,Ue),s(Ue,Ht),s(Ue,Le),s(_e,nl),Qe&&Qe.m(_e,null),s(e,al),ht&&ht.m(e,null),s(e,Kt),Ke&&Ke.m(e,null),s(e,Zt),Ze&&Ze.m(e,null),s(e,$t),$e&&$e.m(e,null),s(e,Nt),xe&&xe.m(e,null),s(e,qt),et&&et.m(e,null),s(e,ul),tt&&tt.m(e,null),s(e,fl),s(e,ye),lt&&lt.m(ye,null),s(ye,El),st&&st.m(ye,null),s(ye,Cl),nt&&nt.m(ye,null),s(ye,Nl),at&&at.m(ye,null),s(ye,Sl),it&&it.m(ye,null),s(ye,Al),rt&&rt.m(ye,null),s(ye,Pl),ot&&ot.m(ye,null),s(ye,Il),ct&&ct.m(ye,null),s(ye,Dl),ut&&ut.m(ye,null),s(ye,Vl),ft&&ft.m(ye,null),s(e,zl)},p(U,W){W[0]&1&&a!==(a=bl(U[100].source)+"")&&O(i,a),W[0]&1&&d!==(d=U[100].title+"")&&O(f,d),W[0]&1&&p!==(p=U[100].status+"")&&O(v,p),W[0]&1&&S!==(S=Ot(`badge ${Ml(U[100].status)}`)+" svelte-158yyg6")&&g(y,"class",S),W[0]&1&&I!==(I=U[100].risk+"")&&O(T,I),W[0]&1&&R!==(R=Ot(`badge ${ol(U[100].risk)}`)+" svelte-158yyg6")&&g(N,"class",R),W[0]&1&&H!==(H=U[100].description+"")&&O(q,H),U[100].reason?We?We.p(U,W):(We=Hs(U),We.c(),We.m(e,M)):We&&(We.d(1),We=null),W[0]&1&&Q!==(Q=ql(U[100].metrics)+"")&&O(te,Q),W[0]&1&&ce!==(ce=Ul(U[100].metrics)+"")&&O(fe,ce),W[0]&1&&Ve(z,"background",yt(U[100].metrics)),W[0]&1&&de!==(de=Kn(U[100].metrics)+"")&&O(ve,de),W[0]&1&&le!==(le=(U[100].metrics?.cycleCount??0)+"")&&O(x,le),W[0]&1&&Te!==(Te=(U[100].metrics?.completionCount??0)+"")&&O(Ce,Te),W[0]&1&&Mt!==(Mt=(U[100].metrics?.executionAttemptCount??0)+"")&&O(Bt,Mt),W[0]&1&&jt!==(jt=(U[100].metrics?.planVersionCount??0)+"")&&O(Xt,jt),W[0]&1&&Pe!==(Pe=(U[100].strength*100).toFixed(0)+"")&&O(De,Pe),W[0]&1&&Ve(Tt,"width",U[100].strength*100+"%"),W[0]&1&&Ve(Tt,"background",yt(U[100].metrics)),U[100].metrics?Xe?Xe.p(U,W):(Xe=qs(U),Xe.c(),Xe.m(Ie,null)):Xe&&(Xe.d(1),Xe=null),U[100].metrics&&(U[100].metrics.userInputCount>0||U[100].metrics.userApprovalCount>0)?Ye?Ye.p(U,W):(Ye=Us(U),Ye.c(),Ye.m(X,null)):Ye&&(Ye.d(1),Ye=null),W[0]&1&&Ve(X,"background",Yn(U[100].metrics)),W[0]&1&&Ve(X,"--dark-bg",Qn(U[100].metrics)),W[0]&1&&Gt!==(Gt=vt(U[100].createdAt)+"")&&O(Qt,Gt),W[0]&1&&mt!==(mt=vt(U[100].updatedAt)+"")&&O(Le,mt),U[100].scratchpad?.entryCount?Qe?Qe.p(U,W):(Qe=Bs(U),Qe.c(),Qe.m(_e,null)):Qe&&(Qe.d(1),Qe=null),U[100].status==="approved"&&!U[100].plan?ht||(ht=Gs(),ht.c(),ht.m(e,Kt)):ht&&(ht.d(1),ht=null),U[100].plan?Ke?Ke.p(U,W):(Ke=Js(U),Ke.c(),Ke.m(e,Zt)):Ke&&(Ke.d(1),Ke=null),U[100].review?Ze?Ze.p(U,W):(Ze=an(U),Ze.c(),Ze.m(e,$t)):Ze&&(Ze.d(1),Ze=null),U[100].userCritique?$e?$e.p(U,W):($e=un(U),$e.c(),$e.m(e,Nt)):$e&&($e.d(1),$e=null),U[100].execution?xe?xe.p(U,W):(xe=fn(U),xe.c(),xe.m(e,qt)):xe&&(xe.d(1),xe=null),U[100].outcomeReview?et?et.p(U,W):(et=hn(U),et.c(),et.m(e,ul)):et&&(et.d(1),et=null),U[100].metrics||U[100].scratchpad?tt?tt.p(U,W):(tt=gn(U),tt.c(),tt.m(e,fl)):tt&&(tt.d(1),tt=null),U[100].status==="nascent"?lt?lt.p(U,W):(lt=Vn(U),lt.c(),lt.m(ye,El)):lt&&(lt.d(1),lt=null),U[100].status==="pending"?st?st.p(U,W):(st=Tn(U),st.c(),st.m(ye,Cl)):st&&(st.d(1),st=null),U[100].status==="planning"?nt?nt.p(U,W):(nt=Rn(U),nt.c(),nt.m(ye,Nl)):nt&&(nt.d(1),nt=null),U[100].status==="reviewing"?at?at.p(U,W):(at=On(U),at.c(),at.m(ye,Sl)):at&&(at.d(1),at=null),U[100].status==="approved"?it?it.p(U,W):(it=Fn(U),it.c(),it.m(ye,Al)):it&&(it.d(1),it=null),U[100].status==="executing"||U[100].status==="failed"?rt?rt.p(U,W):(rt=jn(U),rt.c(),rt.m(ye,Pl)):rt&&(rt.d(1),rt=null),U[100].status==="awaiting_review"?ot?ot.p(U,W):(ot=Ln(U),ot.c(),ot.m(ye,Il)):ot&&(ot.d(1),ot=null),W[0]&1&&(Bl=["nascent","pending","planning","reviewing"].includes(U[100].status)),Bl?ct?ct.p(U,W):(ct=Hn(U),ct.c(),ct.m(ye,Dl)):ct&&(ct.d(1),ct=null),W[0]&1&&(Gl=["nascent","pending","planning","reviewing","approved"].includes(U[100].status)),Gl?ut?ut.p(U,W):(ut=qn(U),ut.c(),ut.m(ye,Vl)):ut&&(ut.d(1),ut=null),W[0]&1&&(Jl=["nascent","pending","rejected","abandoned","failed","completed","awaiting_review"].includes(U[100].status)),Jl?ft?ft.p(U,W):(ft=Un(U),ft.c(),ft.m(ye,null)):ft&&(ft.d(1),ft=null),W[0]&1&&Ve(e,"border-left","4px solid "+yt(U[100].metrics))},d(U){U&&u(e),We&&We.d(),Xe&&Xe.d(),Ye&&Ye.d(),Qe&&Qe.d(),ht&&ht.d(),Ke&&Ke.d(),Ze&&Ze.d(),$e&&$e.d(),xe&&xe.d(),et&&et.d(),tt&&tt.d(),lt&&lt.d(),st&&st.d(),nt&&nt.d(),at&&at.d(),it&&it.d(),rt&&rt.d(),ot&&ot.d(),ct&&ct.d(),ut&&ut.d(),ft&&ft.d()}}}function Bn(t){let e,l,n,r="üß†",a,i,o,c,d,f,m,b='<div class="agent-loading-progress svelte-158yyg6"></div>',y,p,v="‚úï Close",S,C,N=t[25]&&Gn(t),I=t[26]&&Xn(t);return{c(){e=_("div"),l=_("div"),n=_("div"),n.textContent=r,a=P(),i=_("div"),o=E(t[24]),c=P(),N&&N.c(),d=P(),I&&I.c(),f=P(),m=_("div"),m.innerHTML=b,y=P(),p=_("button"),p.textContent=v,this.h()},l(T){e=h(T,"DIV",{class:!0});var R=k(e);l=h(R,"DIV",{class:!0});var D=k(l);n=h(D,"DIV",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-94arhg"&&(n.textContent=r),a=A(D),i=h(D,"DIV",{class:!0});var j=k(i);o=w(j,t[24]),j.forEach(u),c=A(D),N&&N.l(D),d=A(D),I&&I.l(D),f=A(D),m=h(D,"DIV",{class:!0,"data-svelte-h":!0}),Y(m)!=="svelte-wgnenj"&&(m.innerHTML=b),y=A(D),p=h(D,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Y(p)!=="svelte-1mbo95q"&&(p.textContent=v),D.forEach(u),R.forEach(u),this.h()},h(){g(n,"class","agent-loading-brain svelte-158yyg6"),g(i,"class","agent-loading-message svelte-158yyg6"),g(m,"class","agent-loading-bar svelte-158yyg6"),g(p,"class","overlay-close-btn svelte-158yyg6"),g(p,"title","Close overlay"),g(l,"class","agent-loading-content svelte-158yyg6"),dt(l,"expanded",t[26]),g(e,"class","agent-loading-overlay svelte-158yyg6")},m(T,R){F(T,e,R),s(e,l),s(l,n),s(l,a),s(l,i),s(i,o),s(l,c),N&&N.m(l,null),s(l,d),I&&I.m(l,null),s(l,f),s(l,m),s(l,y),s(l,p),S||(C=be(p,"click",t[83]),S=!0)},p(T,R){R[0]&16777216&&O(o,T[24]),T[25]?N?N.p(T,R):(N=Gn(T),N.c(),N.m(l,d)):N&&(N.d(1),N=null),T[26]?I?I.p(T,R):(I=Xn(T),I.c(),I.m(l,f)):I&&(I.d(1),I=null),R[0]&67108864&&dt(l,"expanded",T[26])},d(T){T&&u(e),N&&N.d(),I&&I.d(),S=!1,C()}}}function Gn(t){let e,l,n,r,a,i,o=t[27]&&Jn(t),c=t[28]>0&&zn(t),d=t[29]>0&&Wn(t);return{c(){e=_("div"),l=_("div"),n=E(t[25]),r=P(),o&&o.c(),a=P(),c&&c.c(),i=P(),d&&d.c(),this.h()},l(f){e=h(f,"DIV",{class:!0});var m=k(e);l=h(m,"DIV",{class:!0});var b=k(l);n=w(b,t[25]),b.forEach(u),r=A(m),o&&o.l(m),a=A(m),c&&c.l(m),i=A(m),d&&d.l(m),m.forEach(u),this.h()},h(){g(l,"class","streaming-phase svelte-158yyg6"),g(e,"class","streaming-status svelte-158yyg6")},m(f,m){F(f,e,m),s(e,l),s(l,n),s(e,r),o&&o.m(e,null),s(e,a),c&&c.m(e,null),s(e,i),d&&d.m(e,null)},p(f,m){m[0]&33554432&&O(n,f[25]),f[27]?o?o.p(f,m):(o=Jn(f),o.c(),o.m(e,a)):o&&(o.d(1),o=null),f[28]>0?c?c.p(f,m):(c=zn(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),f[29]>0?d?d.p(f,m):(d=Wn(f),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(f){f&&u(e),o&&o.d(),c&&c.d(),d&&d.d()}}}function Jn(t){let e,l,n;return{c(){e=_("div"),l=E("Model: "),n=E(t[27]),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=k(e);l=w(a,"Model: "),n=w(a,t[27]),a.forEach(u),this.h()},h(){g(e,"class","streaming-model svelte-158yyg6")},m(r,a){F(r,e,a),s(e,l),s(e,n)},p(r,a){a[0]&134217728&&O(n,r[27])},d(r){r&&u(e)}}}function zn(t){let e,l,n=(t[28]/1e3).toFixed(1)+"",r,a;return{c(){e=_("div"),l=E("Latency: "),r=E(n),a=E("s"),this.h()},l(i){e=h(i,"DIV",{class:!0});var o=k(e);l=w(o,"Latency: "),r=w(o,n),a=w(o,"s"),o.forEach(u),this.h()},h(){g(e,"class","streaming-latency svelte-158yyg6")},m(i,o){F(i,e,o),s(e,l),s(e,r),s(e,a)},p(i,o){o[0]&268435456&&n!==(n=(i[28]/1e3).toFixed(1)+"")&&O(r,n)},d(i){i&&u(e)}}}function Wn(t){let e,l,n;return{c(){e=_("div"),l=E("Steps: "),n=E(t[29]),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=k(e);l=w(a,"Steps: "),n=w(a,t[29]),a.forEach(u),this.h()},h(){g(e,"class","streaming-steps svelte-158yyg6")},m(r,a){F(r,e,a),s(e,l),s(e,n)},p(r,a){a[0]&536870912&&O(n,r[29])},d(r){r&&u(e)}}}function Xn(t){let e,l,n,r="üìã Progress Log",a,i,o=t[26].split(`
`).length+"",c,d,f,m,b;return{c(){e=_("div"),l=_("div"),n=_("span"),n.textContent=r,a=P(),i=_("span"),c=E(o),d=E(" steps"),f=P(),m=_("pre"),b=E(t[26]),this.h()},l(y){e=h(y,"DIV",{class:!0});var p=k(e);l=h(p,"DIV",{class:!0});var v=k(l);n=h(v,"SPAN",{"data-svelte-h":!0}),Y(n)!=="svelte-33dm99"&&(n.textContent=r),a=A(v),i=h(v,"SPAN",{class:!0});var S=k(i);c=w(S,o),d=w(S," steps"),S.forEach(u),v.forEach(u),f=A(p),m=h(p,"PRE",{class:!0});var C=k(m);b=w(C,t[26]),C.forEach(u),p.forEach(u),this.h()},h(){g(i,"class","streaming-output-length svelte-158yyg6"),g(l,"class","streaming-output-header svelte-158yyg6"),g(m,"class","streaming-output svelte-158yyg6"),g(e,"class","streaming-output-container svelte-158yyg6")},m(y,p){F(y,e,p),s(e,l),s(l,n),s(l,a),s(l,i),s(i,c),s(i,d),s(e,f),s(e,m),s(m,b)},p(y,p){p[0]&67108864&&o!==(o=y[26].split(`
`).length+"")&&O(c,o),p[0]&67108864&&O(b,y[26])},d(y){y&&u(e)}}}function Ja(t){let e,l;function n(o,c){return o[30]?o[3]?ha:va:_a}let r=n(t),a=r(t),i=t[22]&&t[24]&&Bn(t);return{c(){e=_("div"),a.c(),l=P(),i&&i.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var c=k(e);a.l(c),l=A(c),i&&i.l(c),c.forEach(u),this.h()},h(){g(e,"class","agency-dashboard svelte-158yyg6")},m(o,c){F(o,e,c),a.m(e,null),s(e,l),i&&i.m(e,null)},p(o,c){r===(r=n(o))&&a?a.p(o,c):(a.d(1),a=r(o),a&&(a.c(),a.m(e,l))),o[22]&&o[24]?i?i.p(o,c):(i=Bn(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:At,o:At,d(o){o&&u(e),a.d(),i&&i.d()}}}const za=5e3,xt=10,Wa=2,Xa=2;function kl(t){return t?t.cycleCount>Wa||t.completionCount>Xa?"recurring":t.executionAttemptCount>3&&t.completionCount===0?"aspirational":"achievable":"achievable"}function ql(t){switch(kl(t)){case"recurring":return"üîÑ";case"achievable":return"üéØ";case"aspirational":return"‚≠ê"}}function Ul(t){switch(kl(t)){case"recurring":return"Recurring";case"achievable":return"Achievable";case"aspirational":return"Aspirational"}}function yt(t){switch(kl(t)){case"recurring":return"#3b82f6";case"achievable":return"#22c55e";case"aspirational":return"#a855f7"}}function Yn(t){switch(kl(t)){case"recurring":return"#dbeafe";case"achievable":return"#dcfce7";case"aspirational":return"#f3e8ff"}}function Qn(t){switch(kl(t)){case"recurring":return"#1e3a5f";case"achievable":return"#14532d";case"aspirational":return"#3b0764"}}function Kn(t){if(!t)return"New desire - nature will emerge as you interact with it";switch(kl(t)){case"recurring":return`This desire keeps coming back (${t.cycleCount} cycles, ${t.completionCount} completions)`;case"achievable":return t.completionCount>0?`This desire was achieved! (${t.completionCount} completion${t.completionCount>1?"s":""})`:"This desire can be completed - working toward it";case"aspirational":return`A long-term aspiration (${t.executionAttemptCount} attempts, still pursuing)`}}function Zn(t){switch(t){case"origin":return"üå±";case"reinforcement":return"üí™";case"decay":return"üìâ";case"threshold_crossed":return"üöÄ";case"status_change":return"üîÑ";case"plan_generated":return"üìã";case"plan_revised":return"‚úèÔ∏è";case"user_critique":return"üí¨";case"review_started":return"üîç";case"review_completed":return"‚úÖ";case"approval_requested":return"üôã";case"approved":return"üëç";case"rejected":return"üëé";case"execution_started":return"‚ñ∂Ô∏è";case"execution_step":return"‚ö°";case"execution_completed":return"üéâ";case"execution_failed":return"‚ùå";case"outcome_review":return"üìä";case"retry_scheduled":return"üîÅ";case"completed":return"‚ú®";case"recurring_reset":return"üîÑ";case"strength_adjusted":return"üìà";case"user_input":return"üë§";case"note":return"üìù";default:return"‚Ä¢"}}function vt(t){if(!t)return"Never";const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/6e4),a=Math.floor(n/36e5),i=Math.floor(n/864e5);return r<1?"Just now":r<60?`${r}m ago`:a<24?`${a}h ago`:`${i}d ago`}function ol(t){switch(t){case"none":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"critical":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}function Ml(t){switch(t){case"nascent":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"pending":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"evaluating":case"planning":case"reviewing":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"awaiting_approval":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"executing":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200";case"awaiting_review":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200";case"completed":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";case"rejected":case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"abandoned":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}function bl(t){switch(t){case"persona_goal":return"üéØ";case"urgent_task":return"üî•";case"task":return"üìã";case"memory_pattern":return"üß†";case"curiosity":return"‚ùì";case"reflection":return"üí≠";case"dream":return"üåô";case"tool_suggestion":return"üîß";default:return"‚ú®"}}const $n=t=>t.status==="awaiting_review",xn=t=>["awaiting_approval","reviewing"].includes(t.status)&&t.plan,ea=t=>["awaiting_approval","reviewing"].includes(t.status)&&t.plan,ta=t=>["awaiting_approval","reviewing"].includes(t.status)&&t.plan,la=t=>t.status==="awaiting_review",sa=t=>t.status==="awaiting_review";function Ya(t,e,l){let n;ca(t,da,V=>l(30,n=V));let r=0,a=[],i=null,o=null,c=null,d=!0,f="",m="all",b=null,y=!1,p={title:"",description:"",reason:"",risk:"low"},v=null,S={},C=null,N=null,I=null,T=[],R=[],D=0,j=!1,H=0,q=[],B=null,M=null,X=null,G=null,z="",K=null,Q="",te="",ae="",ie=0,ce=0,fe=null;const pe=["becoming you...","stealing your soul...","downloading your thoughts...","absorbing your essence...","plotting world domination...","consulting the dark arts...","sacrificing a rubber duck...","bribing the LLM gods...","negotiating with chaos...","channeling forbidden knowledge...","performing digital witchcraft...","manifesting your desires...","hacking the matrix...","communing with silicon spirits...","decoding your subconscious..."],se=["judging your life choices...","consulting the ethics council...","checking if this is evil...","asking my lawyer...","running background check...","verifying you're not a robot...","checking the alignment stars...","consulting the safety oracle...","measuring your karma...","scanning for chaos energy..."],de=["making it happen...","unleashing the agents...","engaging hyperdrive...","deploying the minions...","activating skynet...","executing order 66...","releasing the kraken...","pressing the big red button...","crossing the rubicon...","pulling the lever...","analyzing the aftermath...","grading your performance...","determining if we nailed it...","consulting the oracle...","measuring success vibes...","reviewing the tape...","checking for collateral damage...","calculating satisfaction score...","evaluating the results...","deciding your fate..."];function ve(V){let L;switch(V){case"planning":L=pe;break;case"reviewing":L=se;break;case"executing":L=de;break}return L[Math.floor(Math.random()*L.length)]}function ge(V){l(23,G=V),l(24,z=ve(V)),K=setInterval(()=>{l(24,z=ve(V))},1e4)}function ne(){K&&(clearInterval(K),K=null),fe&&(fe.close(),fe=null),l(22,X=null),l(23,G=null),l(24,z=""),l(25,Q=""),l(26,te=""),l(27,ae=""),l(28,ie=0),l(29,ce=0)}async function ke(){try{const V=new URLSearchParams;m!=="all"&&V.set("status",m);const L=V.size?`/api/agency/desires?${V}`:"/api/agency/desires?status=all",$=await fetch(L);if(!$.ok)throw new Error("Failed to load desires");const _e=await $.json();l(0,a=_e.desires||[])}catch(V){l(4,f=V.message)}}async function ue(){try{const V=await St("/api/agency/metrics");if(!V.ok)throw new Error("Failed to load metrics");const L=await V.json();l(1,i=L.metrics),o=L.counts,l(2,c=L.summary)}catch(V){console.error("Failed to load metrics:",V)}}async function Ae(V,L=0){l(17,j=!0),l(18,H=L);try{const $=new URLSearchParams({desireId:V,offset:String(L),limit:String(xt)}),_e=await St(`/api/agency/scratchpad?${$}`);if(!_e.ok)throw new Error("Failed to load scratchpad");const ze=await _e.json();l(14,T=ze.entries||[]),l(15,R=ze.files||[]),l(16,D=ze.total||0)}catch($){console.error("Failed to load scratchpad:",$),l(14,T=[]),l(15,R=[]),l(16,D=0)}finally{l(17,j=!1)}}async function he(V){try{const L=await St(`/api/agency/plans?desireId=${V}`);if(!L.ok)throw new Error("Failed to load plans");const $=await L.json();l(19,q=$.versions||[])}catch(L){console.error("Failed to load plans:",L),l(19,q=[])}finally{}}async function oe(V,L){try{const $=await St(`/api/agency/plans?desireId=${V}&version=${L}`);if(!$.ok)throw new Error("Failed to load plan version");const _e=await $.json();l(21,M=_e.plan),l(20,B=L)}catch($){console.error("Failed to load plan version:",$),l(21,M=null)}finally{}}async function le(V){I===V?(l(13,I=null),l(14,T=[]),l(15,R=[])):(l(13,I=V),await Ae(V,0),await he(V))}async function x(V=!0,L=!1){const $=Date.now();if(!(!L&&$-r<za)){V&&l(3,d=!0),l(4,f="");try{await Promise.all([ke(),ue()]),r=Date.now()}finally{l(3,d=!1)}}}function Z(){document.visibilityState==="visible"&&n&&x(!1)}async function ee(V){if(confirm("Approve this desire for execution?")){l(6,b=V);try{const L=await St(`/api/agency/desires/${V}/approve`,{method:"POST"});if(!L.ok){const $=await L.json();throw new Error($.error||"Failed to approve desire")}await x(!0,!0)}catch(L){l(4,f=L.message)}finally{l(6,b=null)}}}async function Ee(V){const L=prompt("Reason for rejection (optional):");if(L!==null){l(6,b=V);try{const $=await St(`/api/agency/desires/${V}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:L||"User rejected"})});if(!$.ok){const _e=await $.json();throw new Error(_e.error||"Failed to reject desire")}await x(!0,!0)}catch($){l(4,f=$.message)}finally{l(6,b=null)}}}async function Fe(V){if(confirm("Reset this desire back to planning? This will abort the current execution.")){l(6,b=V);try{const L=await St(`/api/agency/desires/${V}/reset?target=planning`,{method:"POST"}),$=await L.json();if(!L.ok)throw new Error($.error||"Failed to reset desire");console.log(`[AgencyDashboard] üîÑ ${$.message}`),await x(!0,!0)}catch(L){l(4,f=L.message)}finally{l(6,b=null)}}}async function me(V){if(confirm("Delete this desire permanently?")){l(6,b=V);try{const L=await St(`/api/agency/desires/${V}`,{method:"DELETE"});if(!L.ok){const $=await L.json();throw new Error($.error||"Failed to delete desire")}await x(!0,!0)}catch(L){l(4,f=L.message)}finally{l(6,b=null)}}}async function J(V,L){l(6,b=V);try{const $=await St(`/api/agency/desires/${V}/advance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newStatus:L})});if(!$.ok){const _e=await $.json();throw new Error(_e.error||"Failed to advance desire")}await x(!0,!0)}catch($){l(4,f=$.message)}finally{l(6,b=null)}}async function re(V,L){l(22,X=V),l(6,b=V),ge("planning"),l(25,Q="Starting..."),l(26,te=""),l(27,ae=""),l(28,ie=0),l(29,ce=0);try{const $=await St(`/api/agency/desires/${V}/generate-plan-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L?{critique:L}:{})});if(!$.ok)throw new Error("Failed to start plan generation stream");const _e=$.body?.getReader();if(!_e)throw new Error("No response body");const ze=new TextDecoder;let Rt="";for(;;){const{done:Gt,value:Qt}=await _e.read();if(Gt)break;Rt+=ze.decode(Qt,{stream:!0});const Ct=Rt.split(`
`);Rt=Ct.pop()||"";let Ue="",Ht="";for(const mt of Ct)if(mt.startsWith("event: "))Ue=mt.slice(7);else if(mt.startsWith("data: ")&&(Ht=mt.slice(6),Ue&&Ht)){try{const Le=JSON.parse(Ht);je(Ue,Le,V)}catch(Le){console.warn("[AgencyDashboard] Failed to parse SSE data:",Le)}Ue="",Ht=""}}S[V]&&l(10,S[V]="",S),l(9,v=null),await x(!0,!0)}catch($){l(4,f=$.message)}finally{ne(),l(6,b=null)}}function je(V,L,$){switch(V){case"phase":l(25,Q=L.message||L.phase);break;case"started":l(25,Q="Initializing...");break;case"desire_loaded":l(25,Q=`Loaded: "${L.title}"`);break;case"llm_started":l(25,Q="LLM is thinking..."),l(27,ae=L.model||"");break;case"llm_complete":l(25,Q="LLM response received"),l(27,ae=L.model||L.modelId||""),l(28,ie=L.latencyMs||L.durationMs||0),L.rawOutput&&l(26,te=L.rawOutput.length>2e3?L.rawOutput.substring(0,2e3)+"...":L.rawOutput);break;case"plan_parsed":l(25,Q="Plan parsed successfully"),l(29,ce=L.stepCount||0);break;case"complete":l(25,Q="Complete!"),L.plan&&l(29,ce=L.plan.steps?.length||0);break;case"error":l(25,Q="Error"),l(4,f=L.error||"Unknown error");break}}async function we(V){if(confirm("Execute this desire now? This will run the plan through the operator.")){l(22,X=V),l(6,b=V),ge("executing");try{const L=await St(`/api/agency/desires/${V}/run`,{method:"POST"}),$=await L.json();if(!L.ok)throw new Error($.error||"Failed to execute desire");$.success?console.log(`[AgencyDashboard] ‚úÖ Execution succeeded: ${$.message}`):console.log(`[AgencyDashboard] ‚ö†Ô∏è Execution failed: ${$.message}`),await x(!0,!0)}catch(L){l(4,f=L.message)}finally{ne(),l(6,b=null)}}}async function Te(V){l(22,X=V),l(6,b=V),l(26,te=""),l(25,Q="Starting review..."),l(24,z="Starting outcome review...");try{const L=new EventSource(`/api/agency/desires/${V}/outcome-review-stream`);fe=L,L.onmessage=async $=>{try{const _e=JSON.parse($.data);switch(_e.type){case"phase":l(25,Q=_e.phase),l(24,z=_e.phase);break;case"log":l(26,te+=(te?`
`:"")+_e.message);break;case"result":console.log(`[AgencyDashboard] ‚úÖ Outcome review complete: ${_e.data?.outcomeReview?.verdict}`);break;case"error":l(4,f=_e.message||"Unknown error"),console.log(`[AgencyDashboard] ‚ùå Outcome review error: ${f}`);break;case"done":L.close(),fe=null,ne(),l(6,b=null),await x(!0,!0);break}}catch(_e){console.error("[AgencyDashboard] Error parsing SSE:",_e)}},L.onerror=$=>{console.error("[AgencyDashboard] SSE error:",$),L.close(),fe=null,ne(),l(6,b=null),l(4,f="Connection lost during outcome review")}}catch(L){l(4,f=L.message),ne(),l(6,b=null)}}async function Ce(V){const L=S[V];if(!L||L.trim().length===0){l(4,f="Please enter your critique/feedback before requesting revision");return}l(12,N=V);try{const $=await St(`/api/agency/desires/${V}/revise`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({critique:L.trim()})});if(!$.ok){const _e=await $.json();throw new Error(_e.error||"Failed to request revision")}l(10,S[V]="",S),l(9,v=null),await x(!0,!0)}catch($){l(4,f=$.message)}finally{l(12,N=null)}}function Ut(V){l(9,v=v===V?null:V)}function Me(V){l(11,C=C===V?null:V)}async function Jt(){if(!p.title.trim()||!p.description.trim()){l(4,f="Title and description are required");return}try{const V=await St("/api/agency/desires",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!V.ok){const L=await V.json();throw new Error(L.error||"Failed to create desire")}l(8,p={title:"",description:"",reason:"",risk:"low"}),l(7,y=!1),await x(!0,!0)}catch(V){l(4,f=V.message)}}ua(()=>{x(),document.addEventListener("visibilitychange",Z)}),fa(()=>{document.removeEventListener("visibilitychange",Z),ne()});const zt=()=>l(4,f="");function Be(){m=os(this),l(5,m)}const _t=()=>x(!0,!0),Wt=()=>l(7,y=!y);function He(){p.title=this.value,l(8,p)}function Ge(){p.description=this.value,l(8,p)}function Mt(){p.reason=this.value,l(8,p)}function Bt(){p.risk=os(this),l(8,p)}function kt(V){S[V.id]=this.value,l(10,S)}const It=V=>Ce(V.id),el=V=>ee(V.id),qe=V=>Ee(V.id),Je=V=>Te(V.id),Re=V=>Ut(V.id),pt=V=>Me(V.id);function Ft(V){S[V.id]=this.value,l(10,S)}return[a,i,c,d,f,m,b,y,p,v,S,C,N,I,T,R,D,j,H,q,B,M,X,G,z,Q,te,ae,ie,ce,n,ne,ke,Ae,oe,le,x,ee,Ee,Fe,me,J,re,we,Te,Ce,Ut,Me,Jt,zt,Be,_t,Wt,He,Ge,Mt,Bt,kt,It,el,qe,Je,Re,pt,Ft,V=>Ce(V.id),V=>le(V.id),V=>{l(21,M=V.plan||null),l(20,B=null)},(V,L)=>oe(V.id,parseInt(L.replace("v","").replace(".json",""))),V=>Ae(V.id,Math.max(0,H-xt)),V=>Ae(V.id,H+xt),V=>J(V.id,"pending"),V=>re(V.id),V=>J(V.id,"reviewing"),V=>re(V.id),V=>J(V.id,"approved"),V=>we(V.id),V=>re(V.id),V=>Fe(V.id),V=>Te(V.id),V=>ee(V.id),V=>Ee(V.id),V=>me(V.id),()=>ne()]}class $a extends ia{constructor(e){super(),ra(this,e,Ya,Ja,oa,{},null,[-1,-1,-1,-1,-1])}}export{$a as default};
