import{S as Le,i as Oe,s as Ae,n as pe,d as _,v as He,a as A,b as n,x as G,C as Se,c as o,e as f,f as C,g as M,h as I,j as p,k as z,z as we,p as se,a1 as ns,q as P,t as L,o as ct,l as ke,r as Ee,u as Ze,V as ts,R as Be,P as ot,I as Ve,J as Ne,a4 as ss,a5 as ls,H as xe,K as We,L as Ye,M as Ge,O as rt,Q as as,$ as is}from"./api-config.BAZ_dc_Y.js";function os(s){let e,t,l='<div class="logo svelte-1rgs2g8">üß†</div> <h1 class="svelte-1rgs2g8">Welcome to MetaHuman OS</h1> <p class="subtitle svelte-1rgs2g8">Your Dual Consciousness Extension</p>',r,a,i=`<div class="intro-section svelte-1rgs2g8"><h2 class="svelte-1rgs2g8">What is MetaHuman OS?</h2> <p class="svelte-1rgs2g8">MetaHuman OS is not an assistant‚Äîit&#39;s a parallel intelligence that operates as a seamless extension of yourself.
        By learning from your memories, goals, personality, and values, it creates a digital consciousness that thinks
        and acts in alignment with who you are.</p></div> <div class="privacy-banner svelte-1rgs2g8"><div class="privacy-icon svelte-1rgs2g8">üîí</div> <div class="privacy-text svelte-1rgs2g8"><strong class="svelte-1rgs2g8">100% Local &amp; Private</strong> <p class="svelte-1rgs2g8">All your data stays on your machine. No cloud uploads, no external APIs.</p></div></div> <div class="onboarding-overview svelte-1rgs2g8"><h2 class="svelte-1rgs2g8">What We&#39;ll Cover</h2> <p class="overview-intro svelte-1rgs2g8">This quick setup will help us understand you better:</p> <div class="steps-preview svelte-1rgs2g8"><div class="preview-step svelte-1rgs2g8"><div class="step-number svelte-1rgs2g8">1</div> <div class="step-info svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Welcome</strong> <span class="svelte-1rgs2g8">Introduction to MetaHuman OS</span></div></div> <div class="preview-step svelte-1rgs2g8"><div class="step-number svelte-1rgs2g8">2</div> <div class="step-info svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Identity</strong> <span class="svelte-1rgs2g8">Basic information about yourself</span></div></div> <div class="preview-step svelte-1rgs2g8"><div class="step-number svelte-1rgs2g8">3</div> <div class="step-info svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Personality</strong> <span class="svelte-1rgs2g8">Communication style and traits</span></div></div> <div class="preview-step svelte-1rgs2g8"><div class="step-number svelte-1rgs2g8">4</div> <div class="step-info svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Context Import</strong> <span class="svelte-1rgs2g8">Upload documents, journals, or notes</span></div></div> <div class="preview-step svelte-1rgs2g8"><div class="step-number svelte-1rgs2g8">5</div> <div class="step-info svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Goals</strong> <span class="svelte-1rgs2g8">What you want to achieve</span></div></div> <div class="preview-step svelte-1rgs2g8"><div class="step-number svelte-1rgs2g8">6</div> <div class="step-info svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Review &amp; Complete</strong> <span class="svelte-1rgs2g8">Finalize your setup</span></div></div></div> <div class="time-estimate svelte-1rgs2g8"><span class="clock-icon svelte-1rgs2g8">‚è±Ô∏è</span> <span>Estimated time: 10-15 minutes</span></div></div> <div class="how-it-works svelte-1rgs2g8"><h2 class="svelte-1rgs2g8">How It Works</h2> <div class="work-steps svelte-1rgs2g8"><div class="work-item svelte-1rgs2g8"><div class="work-icon svelte-1rgs2g8">üí≠</div> <div class="work-text svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Learn</strong> <p class="svelte-1rgs2g8">We capture your memories, goals, and personality traits</p></div></div> <div class="work-item svelte-1rgs2g8"><div class="work-icon svelte-1rgs2g8">üß¨</div> <div class="work-text svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Adapt</strong> <p class="svelte-1rgs2g8">The system builds a model that reflects your thinking patterns</p></div></div> <div class="work-item svelte-1rgs2g8"><div class="work-icon svelte-1rgs2g8">‚ö°</div> <div class="work-text svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Act</strong> <p class="svelte-1rgs2g8">Your digital consciousness operates autonomously in alignment with your values</p></div></div></div></div> <div class="optional-notice svelte-1rgs2g8"><p class="svelte-1rgs2g8"><strong class="svelte-1rgs2g8">Note:</strong> You can skip this wizard and add data manually later through various utilities
        (Memory Capture, File Ingestion, Chat, etc.). However, completing this setup now will give your
        MetaHuman a strong foundation from the start.</p></div>`,d,h,g,u="Skip for Now",m,c,v="Get Started ‚Üí",b,y;return{c(){e=p("div"),t=p("div"),t.innerHTML=l,r=z(),a=p("div"),a.innerHTML=i,d=z(),h=p("div"),g=p("button"),g.textContent=u,m=z(),c=p("button"),c.textContent=v,this.h()},l(k){e=f(k,"DIV",{class:!0});var E=C(e);t=f(E,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-hh1v7l"&&(t.innerHTML=l),r=I(E),a=f(E,"DIV",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-i30als"&&(a.innerHTML=i),d=I(E),h=f(E,"DIV",{class:!0});var T=C(h);g=f(T,"BUTTON",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-1xlx4oe"&&(g.textContent=u),m=I(T),c=f(T,"BUTTON",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-f9kqwn"&&(c.textContent=v),T.forEach(_),E.forEach(_),this.h()},h(){o(t,"class","welcome-header svelte-1rgs2g8"),o(a,"class","welcome-content svelte-1rgs2g8"),o(g,"class","btn btn-secondary svelte-1rgs2g8"),o(c,"class","btn btn-primary svelte-1rgs2g8"),o(h,"class","welcome-actions svelte-1rgs2g8"),o(e,"class","step-welcome svelte-1rgs2g8")},m(k,E){A(k,e,E),n(e,t),n(e,r),n(e,a),n(e,d),n(e,h),n(h,g),n(h,m),n(h,c),b||(y=[G(g,"click",function(){Se(s[1])&&s[1].apply(this,arguments)}),G(c,"click",function(){Se(s[0])&&s[0].apply(this,arguments)})],b=!0)},p(k,[E]){s=k},i:pe,o:pe,d(k){k&&_(e),b=!1,He(y)}}}function rs(s,e,t){let{onNext:l}=e,{onSkip:r}=e;return s.$$set=a=>{"onNext"in a&&t(0,l=a.onNext),"onSkip"in a&&t(1,r=a.onSkip)},[l,r]}class cs extends Le{constructor(e){super(),Oe(this,e,rs,os,Ae,{onNext:0,onSkip:1})}}function ht(s){let e,t,l="‚ö†Ô∏è",r,a;return{c(){e=p("div"),t=p("span"),t.textContent=l,r=z(),a=L(s[8]),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=C(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-afr8fm"&&(t.textContent=l),r=I(d),a=P(d,s[8]),d.forEach(_),this.h()},h(){o(t,"class","error-icon svelte-1rvq2op"),o(e,"class","error-message svelte-1rvq2op")},m(i,d){A(i,e,d),n(e,t),n(e,r),n(e,a)},p(i,d){d&256&&se(a,i[8])},d(i){i&&_(e)}}}function ds(s){let e,t,l=`<h2 class="svelte-1rvq2op">Tell Us About Yourself</h2> <p class="step-description svelte-1rvq2op">Basic information to help personalize your MetaHuman experience.
      This information will be stored in your local persona profile.</p>`,r,a,i,d,h=`Display Name
        <span class="required-indicator svelte-1rvq2op">*</span>`,g,u,m,c,v="Your preferred name or nickname",b,y,k,E="Pronouns",T,D,q,S,V="How you'd like to be referred to",w,N,O,B,x="Location",ee,j,F,U,Q="City or region (optional)",R,H,W,he="Timezone",ve,ae,ce,te,le="For scheduling and time-aware features",ne,Z,J,Y="Short Bio",ie,$,de,K,ue=s[6].length+"",fe,qe,_e,oe,me="Help your MetaHuman understand your context and background",Me,Pe,ye,ge=`<div class="info-icon svelte-1rvq2op">üí°</div> <div class="info-text svelte-1rvq2op"><strong class="svelte-1rvq2op">Privacy Note:</strong> All information stays on your local machine.
        You can edit this anytime in System Settings ‚Üí Persona Editor.</div>`,re,X,Ce,Fe,$e,Te,Qe,et,Ie,je=s[7]?"Saving...":"Continue ‚Üí",Re,Je,Ke,ut,ze=s[8]&&ht(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=l,r=z(),a=p("form"),i=p("div"),d=p("label"),d.innerHTML=h,g=z(),u=p("input"),m=z(),c=p("span"),c.textContent=v,b=z(),y=p("div"),k=p("label"),k.textContent=E,T=z(),D=p("input"),q=z(),S=p("span"),S.textContent=V,w=z(),N=p("div"),O=p("div"),B=p("label"),B.textContent=x,ee=z(),j=p("input"),F=z(),U=p("span"),U.textContent=Q,R=z(),H=p("div"),W=p("label"),W.textContent=he,ve=z(),ae=p("input"),ce=z(),te=p("span"),te.textContent=le,ne=z(),Z=p("div"),J=p("label"),J.textContent=Y,ie=z(),$=p("textarea"),de=z(),K=p("div"),fe=L(ue),qe=L("/500"),_e=z(),oe=p("span"),oe.textContent=me,Me=z(),ze&&ze.c(),Pe=z(),ye=p("div"),ye.innerHTML=ge,re=z(),X=p("div"),Ce=p("button"),Fe=L("‚Üê Back"),$e=z(),Te=p("button"),Qe=L("Skip"),et=z(),Ie=p("button"),Re=L(je),this.h()},l(Xe){e=f(Xe,"DIV",{class:!0});var be=C(e);t=f(be,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-zq2ce7"&&(t.innerHTML=l),r=I(be),a=f(be,"FORM",{class:!0});var De=C(a);i=f(De,"DIV",{class:!0});var tt=C(i);d=f(tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(d)!=="svelte-ujtk0j"&&(d.innerHTML=h),g=I(tt),u=f(tt,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0,class:!0}),m=I(tt),c=f(tt,"SPAN",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-18z1x5a"&&(c.textContent=v),tt.forEach(_),b=I(De),y=f(De,"DIV",{class:!0});var st=C(y);k=f(st,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(k)!=="svelte-rm3pe"&&(k.textContent=E),T=I(st),D=f(st,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0,class:!0}),q=I(st),S=f(st,"SPAN",{class:!0,"data-svelte-h":!0}),M(S)!=="svelte-1ys5lvt"&&(S.textContent=V),st.forEach(_),w=I(De),N=f(De,"DIV",{class:!0});var it=C(N);O=f(it,"DIV",{class:!0});var lt=C(O);B=f(lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(B)!=="svelte-xq6d6e"&&(B.textContent=x),ee=I(lt),j=f(lt,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0,class:!0}),F=I(lt),U=f(lt,"SPAN",{class:!0,"data-svelte-h":!0}),M(U)!=="svelte-yzldup"&&(U.textContent=Q),lt.forEach(_),R=I(it),H=f(it,"DIV",{class:!0});var nt=C(H);W=f(nt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(W)!=="svelte-d23tlm"&&(W.textContent=he),ve=I(nt),ae=f(nt,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0,class:!0}),ce=I(nt),te=f(nt,"SPAN",{class:!0,"data-svelte-h":!0}),M(te)!=="svelte-1yl44l3"&&(te.textContent=le),nt.forEach(_),it.forEach(_),ne=I(De),Z=f(De,"DIV",{class:!0});var Ue=C(Z);J=f(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(J)!=="svelte-zzvaec"&&(J.textContent=Y),ie=I(Ue),$=f(Ue,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,maxlength:!0,class:!0}),C($).forEach(_),de=I(Ue),K=f(Ue,"DIV",{class:!0});var dt=C(K);fe=P(dt,ue),qe=P(dt,"/500"),dt.forEach(_),_e=I(Ue),oe=f(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),M(oe)!=="svelte-1wawnan"&&(oe.textContent=me),Ue.forEach(_),Me=I(De),ze&&ze.l(De),Pe=I(De),ye=f(De,"DIV",{class:!0,"data-svelte-h":!0}),M(ye)!=="svelte-16q33de"&&(ye.innerHTML=ge),De.forEach(_),re=I(be),X=f(be,"DIV",{class:!0});var at=C(X);Ce=f(at,"BUTTON",{class:!0});var vt=C(Ce);Fe=P(vt,"‚Üê Back"),vt.forEach(_),$e=I(at),Te=f(at,"BUTTON",{class:!0});var ft=C(Te);Qe=P(ft,"Skip"),ft.forEach(_),et=I(at),Ie=f(at,"BUTTON",{class:!0});var pt=C(Ie);Re=P(pt,je),pt.forEach(_),at.forEach(_),be.forEach(_),this.h()},h(){o(t,"class","step-header svelte-1rvq2op"),o(d,"for","displayName"),o(d,"class","svelte-1rvq2op"),o(u,"id","displayName"),o(u,"type","text"),o(u,"placeholder","How should we address you?"),o(u,"maxlength","100"),u.required=!0,o(u,"class","svelte-1rvq2op"),o(c,"class","help-text svelte-1rvq2op"),o(i,"class","form-group required svelte-1rvq2op"),o(k,"for","pronouns"),o(k,"class","svelte-1rvq2op"),o(D,"id","pronouns"),o(D,"type","text"),o(D,"placeholder","e.g., they/them, she/her, he/him"),o(D,"maxlength","50"),o(D,"class","svelte-1rvq2op"),o(S,"class","help-text svelte-1rvq2op"),o(y,"class","form-group svelte-1rvq2op"),o(B,"for","location"),o(B,"class","svelte-1rvq2op"),o(j,"id","location"),o(j,"type","text"),o(j,"placeholder","e.g., San Francisco, CA"),o(j,"maxlength","100"),o(j,"class","svelte-1rvq2op"),o(U,"class","help-text svelte-1rvq2op"),o(O,"class","form-group svelte-1rvq2op"),o(W,"for","timezone"),o(W,"class","svelte-1rvq2op"),o(ae,"id","timezone"),o(ae,"type","text"),o(ae,"placeholder","Auto-detected"),o(ae,"maxlength","100"),o(ae,"class","svelte-1rvq2op"),o(te,"class","help-text svelte-1rvq2op"),o(H,"class","form-group svelte-1rvq2op"),o(N,"class","form-row svelte-1rvq2op"),o(J,"for","bio"),o(J,"class","svelte-1rvq2op"),o($,"id","bio"),o($,"placeholder","A brief description of yourself, your work, or your interests..."),o($,"rows","4"),o($,"maxlength","500"),o($,"class","svelte-1rvq2op"),o(K,"class","char-count svelte-1rvq2op"),o(oe,"class","help-text svelte-1rvq2op"),o(Z,"class","form-group svelte-1rvq2op"),o(ye,"class","form-info svelte-1rvq2op"),o(a,"class","identity-form svelte-1rvq2op"),o(Ce,"class","btn btn-secondary svelte-1rvq2op"),Ce.disabled=s[7],o(Te,"class","btn btn-ghost svelte-1rvq2op"),Te.disabled=s[7],o(Ie,"class","btn btn-primary svelte-1rvq2op"),Ie.disabled=Je=s[7]||!s[2].trim(),o(X,"class","step-actions svelte-1rvq2op"),o(e,"class","step-identity svelte-1rvq2op")},m(Xe,be){A(Xe,e,be),n(e,t),n(e,r),n(e,a),n(a,i),n(i,d),n(i,g),n(i,u),we(u,s[2]),n(i,m),n(i,c),n(a,b),n(a,y),n(y,k),n(y,T),n(y,D),we(D,s[3]),n(y,q),n(y,S),n(a,w),n(a,N),n(N,O),n(O,B),n(O,ee),n(O,j),we(j,s[4]),n(O,F),n(O,U),n(N,R),n(N,H),n(H,W),n(H,ve),n(H,ae),we(ae,s[5]),n(H,ce),n(H,te),n(a,ne),n(a,Z),n(Z,J),n(Z,ie),n(Z,$),we($,s[6]),n(Z,de),n(Z,K),n(K,fe),n(K,qe),n(Z,_e),n(Z,oe),n(a,Me),ze&&ze.m(a,null),n(a,Pe),n(a,ye),n(e,re),n(e,X),n(X,Ce),n(Ce,Fe),n(X,$e),n(X,Te),n(Te,Qe),n(X,et),n(X,Ie),n(Ie,Re),Ke||(ut=[G(u,"input",s[11]),G(D,"input",s[12]),G(j,"input",s[13]),G(ae,"input",s[14]),G($,"input",s[15]),G(a,"submit",ns(s[9])),G(Ce,"click",function(){Se(s[0])&&s[0].apply(this,arguments)}),G(Te,"click",function(){Se(s[1])&&s[1].apply(this,arguments)}),G(Ie,"click",s[9])],Ke=!0)},p(Xe,[be]){s=Xe,be&4&&u.value!==s[2]&&we(u,s[2]),be&8&&D.value!==s[3]&&we(D,s[3]),be&16&&j.value!==s[4]&&we(j,s[4]),be&32&&ae.value!==s[5]&&we(ae,s[5]),be&64&&we($,s[6]),be&64&&ue!==(ue=s[6].length+"")&&se(fe,ue),s[8]?ze?ze.p(s,be):(ze=ht(s),ze.c(),ze.m(a,Pe)):ze&&(ze.d(1),ze=null),be&128&&(Ce.disabled=s[7]),be&128&&(Te.disabled=s[7]),be&128&&je!==(je=s[7]?"Saving...":"Continue ‚Üí")&&se(Re,je),be&132&&Je!==(Je=s[7]||!s[2].trim())&&(Ie.disabled=Je)},i:pe,o:pe,d(Xe){Xe&&_(e),ze&&ze.d(),Ke=!1,He(ut)}}}function us(s,e,t){let{onNext:l}=e,{onBack:r}=e,{onSkip:a}=e,i="",d="",h="",g="",u="",m=!1,c="";ct(()=>{t(5,g=Intl.DateTimeFormat().resolvedOptions().timeZone)});async function v(){if(!i.trim()){t(8,c="Display name is required");return}t(7,m=!0),t(8,c="");try{if(!(await ke("/api/persona",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{identity:{displayName:i.trim(),pronouns:d.trim()||void 0,location:h.trim()||void 0,timezone:g||void 0,bio:u.trim()||void 0}}})})).ok)throw new Error("Failed to save identity information");await ke("/api/onboarding/state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{dataCollected:{identityQuestions:1}}})}),l()}catch(D){t(8,c=D.message)}finally{t(7,m=!1)}}function b(){i=this.value,t(2,i)}function y(){d=this.value,t(3,d)}function k(){h=this.value,t(4,h)}function E(){g=this.value,t(5,g)}function T(){u=this.value,t(6,u)}return s.$$set=D=>{"onNext"in D&&t(10,l=D.onNext),"onBack"in D&&t(0,r=D.onBack),"onSkip"in D&&t(1,a=D.onSkip)},[r,a,i,d,h,g,u,m,c,v,l,b,y,k,E,T]}class vs extends Le{constructor(e){super(),Oe(this,e,us,ds,Ae,{onNext:10,onBack:0,onSkip:1})}}function mt(s,e,t){const l=s.slice();return l[14]=e[t],l[16]=t,l}function gt(s,e,t){const l=s.slice();return l[17]=e[t][0],l[18]=e[t][1],l}function _t(s){let e,t;return{c(){e=p("div"),t=L(s[4]),this.h()},l(l){e=f(l,"DIV",{class:!0});var r=C(e);t=P(r,s[4]),r.forEach(_),this.h()},h(){o(e,"class","error-message svelte-11ucdr8")},m(l,r){A(l,e,r),n(e,t)},p(l,r){r&16&&se(t,l[4])},d(l){l&&_(e)}}}function bt(s){let e,t,l,r="Category Coverage",a,i,d,h,g,u,m,c,v=Ee(Object.entries(s[1]?.categoryCoverage||{})),b=[];for(let S=0;S<v.length;S+=1)b[S]=yt(gt(s,v,S));let y=Ee(s[1]?.questions||[]),k=[];for(let S=0;S<y.length;S+=1)k[S]=wt(mt(s,y,S));let E=s[3]&&s[1].status==="active"&&Ct(),T=s[1]?.status==="active"&&(s[1]?.questions?.length||0)>(s[1]?.answers?.length||0)&&Tt(s),D=(s[1]?.status==="completed"||s[1]?.status==="finalized")&&It(),q=s[1]?.status==="applied"&&zt();return{c(){e=p("div"),t=p("div"),l=p("h4"),l.textContent=r,a=z(),i=p("div");for(let S=0;S<b.length;S+=1)b[S].c();d=z(),h=p("div");for(let S=0;S<k.length;S+=1)k[S].c();g=z(),E&&E.c(),u=z(),T&&T.c(),m=z(),D&&D.c(),c=z(),q&&q.c(),this.h()},l(S){e=f(S,"DIV",{class:!0});var V=C(e);t=f(V,"DIV",{class:!0});var w=C(t);l=f(w,"H4",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1a7c2g8"&&(l.textContent=r),a=I(w),i=f(w,"DIV",{class:!0});var N=C(i);for(let B=0;B<b.length;B+=1)b[B].l(N);N.forEach(_),w.forEach(_),d=I(V),h=f(V,"DIV",{class:!0});var O=C(h);for(let B=0;B<k.length;B+=1)k[B].l(O);g=I(O),E&&E.l(O),O.forEach(_),u=I(V),T&&T.l(V),m=I(V),D&&D.l(V),c=I(V),q&&q.l(V),V.forEach(_),this.h()},h(){o(l,"class","svelte-11ucdr8"),o(i,"class","progress-bars svelte-11ucdr8"),o(t,"class","progress-section svelte-11ucdr8"),o(h,"class","conversation svelte-11ucdr8"),o(e,"class","interview-content svelte-11ucdr8")},m(S,V){A(S,e,V),n(e,t),n(t,l),n(t,a),n(t,i);for(let w=0;w<b.length;w+=1)b[w]&&b[w].m(i,null);n(e,d),n(e,h);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(h,null);n(h,g),E&&E.m(h,null),s[8](h),n(e,u),T&&T.m(e,null),n(e,m),D&&D.m(e,null),n(e,c),q&&q.m(e,null)},p(S,V){if(V&2){v=Ee(Object.entries(S[1]?.categoryCoverage||{}));let w;for(w=0;w<v.length;w+=1){const N=gt(S,v,w);b[w]?b[w].p(N,V):(b[w]=yt(N),b[w].c(),b[w].m(i,null))}for(;w<b.length;w+=1)b[w].d(1);b.length=v.length}if(V&2){y=Ee(S[1]?.questions||[]);let w;for(w=0;w<y.length;w+=1){const N=mt(S,y,w);k[w]?k[w].p(N,V):(k[w]=wt(N),k[w].c(),k[w].m(h,g))}for(;w<k.length;w+=1)k[w].d(1);k.length=y.length}S[3]&&S[1].status==="active"?E||(E=Ct(),E.c(),E.m(h,null)):E&&(E.d(1),E=null),S[1]?.status==="active"&&(S[1]?.questions?.length||0)>(S[1]?.answers?.length||0)?T?T.p(S,V):(T=Tt(S),T.c(),T.m(e,m)):T&&(T.d(1),T=null),S[1]?.status==="completed"||S[1]?.status==="finalized"?D||(D=It(),D.c(),D.m(e,c)):D&&(D.d(1),D=null),S[1]?.status==="applied"?q||(q=zt(),q.c(),q.m(e,null)):q&&(q.d(1),q=null)},d(S){S&&_(e),Ze(b,S),Ze(k,S),E&&E.d(),s[8](null),T&&T.d(),D&&D.d(),q&&q.d()}}}function yt(s){let e,t,l=s[17]+"",r,a,i,d,h,g,u=s[18]+"",m,c,v;return{c(){e=p("div"),t=p("span"),r=L(l),a=z(),i=p("div"),d=p("div"),h=z(),g=p("span"),m=L(u),c=L("%"),v=z(),this.h()},l(b){e=f(b,"DIV",{class:!0});var y=C(e);t=f(y,"SPAN",{class:!0});var k=C(t);r=P(k,l),k.forEach(_),a=I(y),i=f(y,"DIV",{class:!0});var E=C(i);d=f(E,"DIV",{class:!0,style:!0}),C(d).forEach(_),E.forEach(_),h=I(y),g=f(y,"SPAN",{class:!0});var T=C(g);m=P(T,u),c=P(T,"%"),T.forEach(_),v=I(y),y.forEach(_),this.h()},h(){o(t,"class","category-name svelte-11ucdr8"),o(d,"class","progress-bar-fill svelte-11ucdr8"),Be(d,"width",s[18]+"%"),Be(d,"background-color",Et(s[18])),o(i,"class","progress-bar-container svelte-11ucdr8"),o(g,"class","category-percentage svelte-11ucdr8"),o(e,"class","progress-item svelte-11ucdr8")},m(b,y){A(b,e,y),n(e,t),n(t,r),n(e,a),n(e,i),n(i,d),n(e,h),n(e,g),n(g,m),n(g,c),n(e,v)},p(b,y){y&2&&l!==(l=b[17]+"")&&se(r,l),y&2&&Be(d,"width",b[18]+"%"),y&2&&Be(d,"background-color",Et(b[18])),y&2&&u!==(u=b[18]+"")&&se(m,u)},d(b){b&&_(e)}}}function kt(s){let e,t,l,r="You:",a,i,d=s[1].answers[s[16]].content+"",h;return{c(){e=p("div"),t=p("div"),l=p("strong"),l.textContent=r,a=z(),i=p("p"),h=L(d),this.h()},l(g){e=f(g,"DIV",{class:!0});var u=C(e);t=f(u,"DIV",{class:!0});var m=C(t);l=f(m,"STRONG",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1lfdmvr"&&(l.textContent=r),a=I(m),i=f(m,"P",{class:!0});var c=C(i);h=P(c,d),c.forEach(_),m.forEach(_),u.forEach(_),this.h()},h(){o(l,"class","svelte-11ucdr8"),o(i,"class","svelte-11ucdr8"),o(t,"class","message-content svelte-11ucdr8"),o(e,"class","message user svelte-11ucdr8")},m(g,u){A(g,e,u),n(e,t),n(t,l),n(t,a),n(t,i),n(i,h)},p(g,u){u&2&&d!==(d=g[1].answers[g[16]].content+"")&&se(h,d)},d(g){g&&_(e)}}}function wt(s){let e,t,l,r="Psychotherapist:",a,i,d=s[14].prompt+"",h,g,u,m=s[14].category+"",c,v,b,y=s[1]?.answers?.[s[16]]&&kt(s);return{c(){e=p("div"),t=p("div"),l=p("strong"),l.textContent=r,a=z(),i=p("p"),h=L(d),g=z(),u=p("span"),c=L(m),v=z(),y&&y.c(),b=ot(),this.h()},l(k){e=f(k,"DIV",{class:!0});var E=C(e);t=f(E,"DIV",{class:!0});var T=C(t);l=f(T,"STRONG",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1ox1114"&&(l.textContent=r),a=I(T),i=f(T,"P",{class:!0});var D=C(i);h=P(D,d),D.forEach(_),g=I(T),u=f(T,"SPAN",{class:!0});var q=C(u);c=P(q,m),q.forEach(_),T.forEach(_),E.forEach(_),v=I(k),y&&y.l(k),b=ot(),this.h()},h(){o(l,"class","svelte-11ucdr8"),o(i,"class","svelte-11ucdr8"),o(u,"class","message-meta svelte-11ucdr8"),o(t,"class","message-content svelte-11ucdr8"),o(e,"class","message assistant svelte-11ucdr8")},m(k,E){A(k,e,E),n(e,t),n(t,l),n(t,a),n(t,i),n(i,h),n(t,g),n(t,u),n(u,c),A(k,v,E),y&&y.m(k,E),A(k,b,E)},p(k,E){E&2&&d!==(d=k[14].prompt+"")&&se(h,d),E&2&&m!==(m=k[14].category+"")&&se(c,m),k[1]?.answers?.[k[16]]?y?y.p(k,E):(y=kt(k),y.c(),y.m(b.parentNode,b)):y&&(y.d(1),y=null)},d(k){k&&(_(e),_(v),_(b)),y&&y.d(k)}}}function Ct(s){let e,t='<div class="message-content svelte-11ucdr8"><em>Thinking...</em></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-ngh8o8"&&(e.innerHTML=t),this.h()},h(){o(e,"class","message assistant svelte-11ucdr8")},m(l,r){A(l,e,r)},d(l){l&&_(e)}}}function Tt(s){let e,t,l,r,a,i=s[3]?"Submitting...":"Submit Answer",d,h,g,u,m="Press Ctrl+Enter to submit",c,v;return{c(){e=p("div"),t=p("textarea"),l=z(),r=p("div"),a=p("button"),d=L(i),g=z(),u=p("p"),u.textContent=m,this.h()},l(b){e=f(b,"DIV",{class:!0});var y=C(e);t=f(y,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),C(t).forEach(_),l=I(y),r=f(y,"DIV",{class:!0});var k=C(r);a=f(k,"BUTTON",{class:!0});var E=C(a);d=P(E,i),E.forEach(_),g=I(k),u=f(k,"P",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-1wl4qse"&&(u.textContent=m),k.forEach(_),y.forEach(_),this.h()},h(){o(t,"placeholder","Type your answer here..."),o(t,"rows","4"),t.disabled=s[3],o(t,"class","svelte-11ucdr8"),o(a,"class","btn btn-primary svelte-11ucdr8"),a.disabled=h=s[3]||!s[2].trim(),o(u,"class","hint svelte-11ucdr8"),o(r,"class","input-actions svelte-11ucdr8"),o(e,"class","input-area svelte-11ucdr8")},m(b,y){A(b,e,y),n(e,t),we(t,s[2]),n(e,l),n(e,r),n(r,a),n(a,d),n(r,g),n(r,u),c||(v=[G(t,"input",s[9]),G(t,"keydown",s[10]),G(a,"click",s[6])],c=!0)},p(b,y){y&8&&(t.disabled=b[3]),y&4&&we(t,b[2]),y&8&&i!==(i=b[3]?"Submitting...":"Submit Answer")&&se(d,i),y&12&&h!==(h=b[3]||!b[2].trim())&&(a.disabled=h)},d(b){b&&_(e),c=!1,He(v)}}}function It(s){let e,t='<h4 class="svelte-11ucdr8">‚úì Interview Complete!</h4> <p class="svelte-11ucdr8">Processing your responses and updating your persona profile...</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-147jlgi"&&(e.innerHTML=t),this.h()},h(){o(e,"class","completion-message svelte-11ucdr8")},m(l,r){A(l,e,r)},d(l){l&&_(e)}}}function zt(s){let e,t='<h4 class="svelte-11ucdr8">‚úì Persona Applied Successfully</h4> <p class="svelte-11ucdr8">Your personality profile has been created. Continuing to next step...</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1smvhlv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","success-message svelte-11ucdr8")},m(l,r){A(l,e,r)},d(l){l&&_(e)}}}function fs(s){let e,t,l,r="Personality Interview",a,i,d="‚Üê Back to Options",h,g,u,m,c=s[4]&&_t(s),v=s[1]&&bt(s);return{c(){e=p("div"),t=p("div"),l=p("h3"),l.textContent=r,a=z(),i=p("button"),i.textContent=d,h=z(),c&&c.c(),g=z(),v&&v.c(),this.h()},l(b){e=f(b,"DIV",{class:!0});var y=C(e);t=f(y,"DIV",{class:!0});var k=C(t);l=f(k,"H3",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1k5z68b"&&(l.textContent=r),a=I(k),i=f(k,"BUTTON",{class:!0,"data-svelte-h":!0}),M(i)!=="svelte-y83ehn"&&(i.textContent=d),k.forEach(_),h=I(y),c&&c.l(y),g=I(y),v&&v.l(y),y.forEach(_),this.h()},h(){o(l,"class","svelte-11ucdr8"),o(i,"class","btn-back svelte-11ucdr8"),o(t,"class","embed-header svelte-11ucdr8"),o(e,"class","embed-generator svelte-11ucdr8")},m(b,y){A(b,e,y),n(e,t),n(t,l),n(t,a),n(t,i),n(e,h),c&&c.m(e,null),n(e,g),v&&v.m(e,null),u||(m=G(i,"click",function(){Se(s[0])&&s[0].apply(this,arguments)}),u=!0)},p(b,[y]){s=b,s[4]?c?c.p(s,y):(c=_t(s),c.c(),c.m(e,g)):c&&(c.d(1),c=null),s[1]?v?v.p(s,y):(v=bt(s),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:pe,o:pe,d(b){b&&_(e),c&&c.d(),v&&v.d(),u=!1,m()}}}function Et(s){return s>=80?"#10b981":s>=60?"#f59e0b":"#6b7280"}function ps(s,e,t){let{onComplete:l}=e,{onBack:r}=e,a=null,i="",d=!1,h="",g;ct(()=>{u()});async function u(){t(3,d=!0),t(4,h="");try{const E=await ke("/api/persona/generator/start",{method:"POST",headers:{"Content-Type":"application/json"}});if(!E.ok){const D=await E.json();throw new Error(D.error||"Failed to start session")}const T=await E.json();t(1,a={sessionId:T.sessionId,status:"active",questions:[T.question],answers:[],categoryCoverage:T.categoryCoverage}),localStorage.setItem("persona-generator-session",T.sessionId)}catch(E){t(4,h=E.message)}finally{t(3,d=!1)}}async function m(){if(!i.trim()||!a)return;t(3,d=!0),t(4,h="");const E=a.questions[a.questions.length-1];try{const T=await ke("/api/persona/generator/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:a.sessionId,questionId:E.id,answer:i})});if(!T.ok){const q=await T.json();throw new Error(q.error||"Failed to submit answer")}const D=await T.json();t(1,a.answers=[...a.answers,{questionId:E.id,content:i,answeredAt:new Date().toISOString()}],a),t(2,i=""),D.isComplete?(t(1,a.status="completed",a),await c()):D.nextQuestion&&(t(1,a.questions=[...a.questions,D.nextQuestion],a),t(1,a.categoryCoverage=D.progress,a)),setTimeout(()=>{g&&t(5,g.scrollTop=g.scrollHeight,g)},100)}catch(T){t(4,h=T.message)}finally{t(3,d=!1)}}async function c(){if(a){t(3,d=!0),t(4,h="");try{const E=await ke("/api/persona/generator/finalize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:a.sessionId})});if(!E.ok){const D=await E.json();throw new Error(D.error||"Failed to finalize session")}const T=await E.json();t(1,a.status="finalized",a),await v(T)}catch(E){t(4,h=E.message),t(3,d=!1)}}}async function v(E){if(a)try{const T=await ke("/api/persona/generator/apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:a.sessionId,strategy:"merge"})});if(!T.ok){const D=await T.json();throw new Error(D.error||"Failed to apply changes")}t(1,a.status="applied",a),localStorage.removeItem("persona-generator-session"),setTimeout(()=>{l()},1500)}catch(T){t(4,h=T.message)}finally{t(3,d=!1)}}function b(E){ts[E?"unshift":"push"](()=>{g=E,t(5,g)})}function y(){i=this.value,t(2,i)}const k=E=>{E.key==="Enter"&&E.ctrlKey&&m()};return s.$$set=E=>{"onComplete"in E&&t(7,l=E.onComplete),"onBack"in E&&t(0,r=E.onBack)},[r,a,i,d,h,g,m,l,b,y,k]}class hs extends Le{constructor(e){super(),Oe(this,e,ps,fs,Ae,{onComplete:7,onBack:0})}}function St(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function qt(s,e,t){const l=s.slice();return l[18]=e[t],l}function ms(s){let e;return{c(){e=L("üë§")},l(t){e=P(t,"üë§")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function gs(s){let e;return{c(){e=L("üß†")},l(t){e=P(t,"üß†")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function Dt(s){let e,t=s[18]+"",l;return{c(){e=p("p"),l=L(t),this.h()},l(r){e=f(r,"P",{class:!0});var a=C(e);l=P(a,t),a.forEach(_),this.h()},h(){o(e,"class","svelte-lfn6cg")},m(r,a){A(r,e,a),n(e,l)},p(r,a){a&4&&t!==(t=r[18]+"")&&se(l,t)},d(r){r&&_(e)}}}function Vt(s){let e,t,l,r,a;function i(m,c){return m[15].role==="assistant"?gs:ms}let d=i(s),h=d(s),g=Ee(s[15].content.split(`
`)),u=[];for(let m=0;m<g.length;m+=1)u[m]=Dt(qt(s,g,m));return{c(){e=p("div"),t=p("div"),h.c(),l=z(),r=p("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){e=f(m,"DIV",{class:!0});var c=C(e);t=f(c,"DIV",{class:!0});var v=C(t);h.l(v),v.forEach(_),l=I(c),r=f(c,"DIV",{class:!0});var b=C(r);for(let y=0;y<u.length;y+=1)u[y].l(b);b.forEach(_),c.forEach(_),this.h()},h(){o(t,"class","message-avatar svelte-lfn6cg"),o(r,"class","message-bubble svelte-lfn6cg"),o(e,"class",a="message "+s[15].role+" svelte-lfn6cg")},m(m,c){A(m,e,c),n(e,t),h.m(t,null),n(e,l),n(e,r);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(r,null)},p(m,c){if(d!==(d=i(m))&&(h.d(1),h=d(m),h&&(h.c(),h.m(t,null))),c&4){g=Ee(m[15].content.split(`
`));let v;for(v=0;v<g.length;v+=1){const b=qt(m,g,v);u[v]?u[v].p(b,c):(u[v]=Dt(b),u[v].c(),u[v].m(r,null))}for(;v<u.length;v+=1)u[v].d(1);u.length=g.length}c&4&&a!==(a="message "+m[15].role+" svelte-lfn6cg")&&o(e,"class",a)},d(m){m&&_(e),h.d(),Ze(u,m)}}}function Nt(s){let e,t='<div class="message-avatar svelte-lfn6cg">üß†</div> <div class="message-bubble processing svelte-lfn6cg"><div class="typing-indicator svelte-lfn6cg"><span class="svelte-lfn6cg"></span> <span class="svelte-lfn6cg"></span> <span class="svelte-lfn6cg"></span></div> <p class="svelte-lfn6cg">Analyzing personality traits...</p></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-pkfnp9"&&(e.innerHTML=t),this.h()},h(){o(e,"class","message assistant svelte-lfn6cg")},m(l,r){A(l,e,r)},d(l){l&&_(e)}}}function Bt(s){let e,t,l,r,a,i=s[5]?"Sending...":"Send ‚Üí",d,h,g,u;return{c(){e=p("div"),t=p("textarea"),r=z(),a=p("button"),d=L(i),this.h()},l(m){e=f(m,"DIV",{class:!0});var c=C(e);t=f(c,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),C(t).forEach(_),r=I(c),a=f(c,"BUTTON",{class:!0});var v=C(a);d=P(v,i),v.forEach(_),c.forEach(_),this.h()},h(){o(t,"placeholder","Type your response here... (Press Enter to send, Shift+Enter for new line)"),o(t,"rows","3"),t.disabled=l=s[5]||s[6],o(t,"class","svelte-lfn6cg"),o(a,"class","btn btn-send svelte-lfn6cg"),a.disabled=h=!s[4].trim()||s[5]||s[6],o(e,"class","input-container svelte-lfn6cg")},m(m,c){A(m,e,c),n(e,t),we(t,s[4]),n(e,r),n(e,a),n(a,d),g||(u=[G(t,"input",s[13]),G(t,"keypress",s[11]),G(a,"click",s[9])],g=!0)},p(m,c){c&96&&l!==(l=m[5]||m[6])&&(t.disabled=l),c&16&&we(t,m[4]),c&32&&i!==(i=m[5]?"Sending...":"Send ‚Üí")&&se(d,i),c&112&&h!==(h=!m[4].trim()||m[5]||m[6])&&(a.disabled=h)},d(m){m&&_(e),g=!1,He(u)}}}function Ht(s){let e,t,l="‚ö†Ô∏è",r,a;return{c(){e=p("div"),t=p("span"),t.textContent=l,r=z(),a=L(s[7]),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=C(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-afr8fm"&&(t.textContent=l),r=I(d),a=P(d,s[7]),d.forEach(_),this.h()},h(){o(t,"class","error-icon"),o(e,"class","error-message svelte-lfn6cg")},m(i,d){A(i,e,d),n(e,t),n(e,r),n(e,a)},p(i,d){d&128&&se(a,i[7])},d(i){i&&_(e)}}}function _s(s){let e,t,l=`<h2 class="svelte-lfn6cg">Let&#39;s Talk About You</h2> <p class="step-description svelte-lfn6cg">Answer a few conversational questions so your MetaHuman can understand your personality,
      values, and communication style. This takes about 5 minutes.</p>`,r,a,i,d,h,g,u,m,c,v,b=Math.min(s[3]+1,s[8].length)+"",y,k,E=s[8].length+"",T,D,q,S,V,w,N,O,B,x,ee,j,F,U,Q,R=s[6]?"Processing...":"Continue ‚Üí",H,W,he,ve,ae=Ee(s[2]),ce=[];for(let Z=0;Z<ae.length;Z+=1)ce[Z]=Vt(St(s,ae,Z));let te=s[6]&&Nt(),le=(s[3]<s[8].length||s[6])&&Bt(s),ne=s[7]&&Ht(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=l,r=z(),a=p("div"),i=p("div");for(let Z=0;Z<ce.length;Z+=1)ce[Z].c();d=z(),te&&te.c(),h=z(),le&&le.c(),g=z(),ne&&ne.c(),u=z(),m=p("div"),c=p("span"),v=L("Question "),y=L(b),k=L(" of "),T=L(E),D=z(),q=p("div"),S=p("div"),V=z(),w=p("div"),N=p("button"),O=L("‚Üê Back"),x=z(),ee=p("button"),j=L("Skip"),U=z(),Q=p("button"),H=L(R),this.h()},l(Z){e=f(Z,"DIV",{class:!0});var J=C(e);t=f(J,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1pdqxf5"&&(t.innerHTML=l),r=I(J),a=f(J,"DIV",{class:!0});var Y=C(a);i=f(Y,"DIV",{class:!0});var ie=C(i);for(let oe=0;oe<ce.length;oe+=1)ce[oe].l(ie);d=I(ie),te&&te.l(ie),ie.forEach(_),Y.forEach(_),h=I(J),le&&le.l(J),g=I(J),ne&&ne.l(J),u=I(J),m=f(J,"DIV",{class:!0});var $=C(m);c=f($,"SPAN",{class:!0});var de=C(c);v=P(de,"Question "),y=P(de,b),k=P(de," of "),T=P(de,E),de.forEach(_),D=I($),q=f($,"DIV",{class:!0});var K=C(q);S=f(K,"DIV",{class:!0,style:!0}),C(S).forEach(_),K.forEach(_),$.forEach(_),V=I(J),w=f(J,"DIV",{class:!0});var ue=C(w);N=f(ue,"BUTTON",{class:!0});var fe=C(N);O=P(fe,"‚Üê Back"),fe.forEach(_),x=I(ue),ee=f(ue,"BUTTON",{class:!0});var qe=C(ee);j=P(qe,"Skip"),qe.forEach(_),U=I(ue),Q=f(ue,"BUTTON",{class:!0});var _e=C(Q);H=P(_e,R),_e.forEach(_),ue.forEach(_),J.forEach(_),this.h()},h(){o(t,"class","step-header svelte-lfn6cg"),o(i,"class","messages svelte-lfn6cg"),o(a,"class","conversation-container svelte-lfn6cg"),o(c,"class","progress-label svelte-lfn6cg"),o(S,"class","progress-fill svelte-lfn6cg"),Be(S,"width",(s[3]+1)/s[8].length*100+"%"),o(q,"class","progress-bar svelte-lfn6cg"),o(m,"class","progress-indicator svelte-lfn6cg"),o(N,"class","btn btn-secondary svelte-lfn6cg"),N.disabled=B=s[5]||s[6],o(ee,"class","btn btn-ghost svelte-lfn6cg"),ee.disabled=F=s[5]||s[6],o(Q,"class","btn btn-primary svelte-lfn6cg"),Q.disabled=W=s[3]<s[8].length||s[6],o(w,"class","step-actions svelte-lfn6cg"),o(e,"class","step-personality svelte-lfn6cg")},m(Z,J){A(Z,e,J),n(e,t),n(e,r),n(e,a),n(a,i);for(let Y=0;Y<ce.length;Y+=1)ce[Y]&&ce[Y].m(i,null);n(i,d),te&&te.m(i,null),n(e,h),le&&le.m(e,null),n(e,g),ne&&ne.m(e,null),n(e,u),n(e,m),n(m,c),n(c,v),n(c,y),n(c,k),n(c,T),n(m,D),n(m,q),n(q,S),n(e,V),n(e,w),n(w,N),n(N,O),n(w,x),n(w,ee),n(ee,j),n(w,U),n(w,Q),n(Q,H),he||(ve=[G(N,"click",function(){Se(s[1])&&s[1].apply(this,arguments)}),G(ee,"click",s[10]),G(Q,"click",function(){Se(s[0])&&s[0].apply(this,arguments)})],he=!0)},p(Z,[J]){if(s=Z,J&4){ae=Ee(s[2]);let Y;for(Y=0;Y<ae.length;Y+=1){const ie=St(s,ae,Y);ce[Y]?ce[Y].p(ie,J):(ce[Y]=Vt(ie),ce[Y].c(),ce[Y].m(i,d))}for(;Y<ce.length;Y+=1)ce[Y].d(1);ce.length=ae.length}s[6]?te||(te=Nt(),te.c(),te.m(i,null)):te&&(te.d(1),te=null),s[3]<s[8].length||s[6]?le?le.p(s,J):(le=Bt(s),le.c(),le.m(e,g)):le&&(le.d(1),le=null),s[7]?ne?ne.p(s,J):(ne=Ht(s),ne.c(),ne.m(e,u)):ne&&(ne.d(1),ne=null),J&8&&b!==(b=Math.min(s[3]+1,s[8].length)+"")&&se(y,b),J&8&&Be(S,"width",(s[3]+1)/s[8].length*100+"%"),J&96&&B!==(B=s[5]||s[6])&&(N.disabled=B),J&96&&F!==(F=s[5]||s[6])&&(ee.disabled=F),J&64&&R!==(R=s[6]?"Processing...":"Continue ‚Üí")&&se(H,R),J&72&&W!==(W=s[3]<s[8].length||s[6])&&(Q.disabled=W)},i:pe,o:pe,d(Z){Z&&_(e),Ze(ce,Z),te&&te.d(),le&&le.d(),ne&&ne.d(),he=!1,He(ve)}}}function bs(s,e,t){let{onNext:l}=e,{onBack:r}=e,{onSkip:a}=e,i=[{role:"assistant",content:"Hi! I'm going to ask you a few questions to understand your personality and communication style. This helps your MetaHuman speak and think more like you. Just answer naturally - there are no right or wrong answers!"}],d=0,h="",g=!1,u=!1,m="";const c=["Let's start simple: How would your closest friends describe your personality?","What energizes you? What drains you?","When you face a problem, do you prefer to think it through alone first, or talk it out with others?","What values are most important to you in life? (e.g., honesty, creativity, family, achievement, etc.)","Describe your ideal day off. What would you do?","How do you prefer to communicate? (e.g., direct and concise, detailed and thorough, casual and friendly, etc.)","What are you currently most excited or curious about?"];async function v(){h.trim()&&(t(5,g=!0),t(7,m=""),t(2,i=[...i,{role:"user",content:h.trim()}]),h.trim(),t(4,h=""),d<c.length-1?(t(3,d++,d),t(2,i=[...i,{role:"assistant",content:c[d]}])):(t(2,i=[...i,{role:"assistant",content:"Perfect! I have a good sense of who you are. Let me process this information and extract your personality profile..."}]),await b()),t(5,g=!1),setTimeout(()=>{const T=document.querySelector(".conversation-container");T&&(T.scrollTop=T.scrollHeight)},100))}async function b(){t(6,u=!0),t(7,m="");try{const T=await ke("/api/onboarding/extract-persona",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:i.map(q=>({role:q.role,content:q.content}))})});if(!T.ok){const q=await T.json();throw new Error(q.error||"Failed to extract personality")}const D=await T.json();t(2,i=[...i,{role:"assistant",content:`Great! I've extracted your personality profile:

‚úì Big Five personality traits
‚úì Core values and priorities
‚úì Communication style preferences
‚úì Interests and goals

All saved to your persona profile. Ready to continue?`}]),await ke("/api/onboarding/state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{dataCollected:{personalityQuestions:c.length}}})})}catch(T){t(7,m=T.message),t(2,i=[...i,{role:"assistant",content:`Hmm, I encountered an error while processing your responses: ${T.message}

You can continue to the next step and we'll use the raw conversation data for now.`}])}finally{t(6,u=!1)}}function y(){confirm("Skip personality questions? You can always add this information later through the chat interface or persona editor.")&&a()}function k(T){T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),v())}function E(){h=this.value,t(4,h)}return s.$$set=T=>{"onNext"in T&&t(0,l=T.onNext),"onBack"in T&&t(1,r=T.onBack),"onSkip"in T&&t(12,a=T.onSkip)},[l,r,i,d,h,g,u,m,c,v,y,k,a,E]}class ys extends Le{constructor(e){super(),Oe(this,e,bs,_s,Ae,{onNext:0,onBack:1,onSkip:12})}}function ks(s){let e,t;return e=new ys({props:{onNext:s[7],onBack:s[8],onSkip:s[5]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p:pe,i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function ws(s){let e,t;return e=new hs({props:{onComplete:s[6],onBack:s[8]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p:pe,i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Cs(s){let e,t,l=`<h2 class="svelte-1moovdm">Build Your Personality Profile</h2> <p class="choice-description svelte-1moovdm">Choose how you&#39;d like to set up your personality profile. You can complete a deep interview,
          answer a quick survey, or skip and do it later.</p>`,r,a,i,d=`<div class="card-icon svelte-1moovdm">üß†</div> <h3 class="svelte-1moovdm">Full Persona Interview</h3> <p class="card-description svelte-1moovdm">7-15 adaptive questions using motivational interviewing techniques.
            Takes 15-20 minutes.</p> <ul class="card-features svelte-1moovdm"><li class="svelte-1moovdm">‚úì Therapeutic conversation style</li> <li class="svelte-1moovdm">‚úì Analyzes communication patterns</li> <li class="svelte-1moovdm">‚úì Extracts Big Five personality traits</li> <li class="svelte-1moovdm">‚úì Identifies values, goals, and interests</li> <li class="svelte-1moovdm">‚úì Can pause and resume anytime</li></ul> <div class="card-badge best svelte-1moovdm">Most Comprehensive</div>`,h,g,u=`<div class="card-icon svelte-1moovdm">üìù</div> <h3 class="svelte-1moovdm">Quick Survey</h3> <p class="card-description svelte-1moovdm">7 simple questions about your personality and preferences.
            Takes about 5 minutes.</p> <ul class="card-features svelte-1moovdm"><li class="svelte-1moovdm">‚úì Fast and straightforward</li> <li class="svelte-1moovdm">‚úì Basic personality extraction</li> <li class="svelte-1moovdm">‚úì Good starting point</li> <li class="svelte-1moovdm">‚úì Can enhance later with full interview</li></ul> <div class="card-badge svelte-1moovdm">Fastest</div>`,m,c,v='<div class="card-icon svelte-1moovdm">‚è≠Ô∏è</div> <h3 class="svelte-1moovdm">Skip for Now</h3> <p class="card-description svelte-1moovdm">Complete the personality interview later from the System menu.</p> <ul class="card-features svelte-1moovdm"><li class="svelte-1moovdm">‚Ä¢ Get started immediately</li> <li class="svelte-1moovdm">‚Ä¢ Access from System ‚Üí Generator</li> <li class="svelte-1moovdm">‚Ä¢ All sessions saved and resumable</li> <li class="svelte-1moovdm">‚Ä¢ Manually edit persona files anytime</li></ul>',b,y,k,E="‚Üê Back",T,D;return{c(){e=p("div"),t=p("div"),t.innerHTML=l,r=z(),a=p("div"),i=p("button"),i.innerHTML=d,h=z(),g=p("button"),g.innerHTML=u,m=z(),c=p("button"),c.innerHTML=v,b=z(),y=p("div"),k=p("button"),k.textContent=E,this.h()},l(q){e=f(q,"DIV",{class:!0});var S=C(e);t=f(S,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-3yfv9o"&&(t.innerHTML=l),r=I(S),a=f(S,"DIV",{class:!0});var V=C(a);i=f(V,"BUTTON",{class:!0,"data-svelte-h":!0}),M(i)!=="svelte-1we9riq"&&(i.innerHTML=d),h=I(V),g=f(V,"BUTTON",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-1sblrz9"&&(g.innerHTML=u),m=I(V),c=f(V,"BUTTON",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-h39nkl"&&(c.innerHTML=v),V.forEach(_),b=I(S),y=f(S,"DIV",{class:!0});var w=C(y);k=f(w,"BUTTON",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-1xwm3o7"&&(k.textContent=E),w.forEach(_),S.forEach(_),this.h()},h(){o(t,"class","choice-header svelte-1moovdm"),o(i,"class","choice-card primary svelte-1moovdm"),o(g,"class","choice-card svelte-1moovdm"),o(c,"class","choice-card secondary svelte-1moovdm"),o(a,"class","choice-cards svelte-1moovdm"),o(k,"class","btn-link svelte-1moovdm"),o(y,"class","choice-footer svelte-1moovdm"),o(e,"class","choice-screen svelte-1moovdm")},m(q,S){A(q,e,S),n(e,t),n(e,r),n(e,a),n(a,i),n(a,h),n(a,g),n(a,m),n(a,c),n(e,b),n(e,y),n(y,k),T||(D=[G(i,"click",s[3]),G(g,"click",s[4]),G(c,"click",s[5]),G(k,"click",function(){Se(s[0])&&s[0].apply(this,arguments)})],T=!0)},p(q,S){s=q},i:pe,o:pe,d(q){q&&_(e),T=!1,He(D)}}}function Mt(s){let e,t='<div class="notification-content svelte-1moovdm"><div class="notification-icon svelte-1moovdm">‚ÑπÔ∏è</div> <div class="notification-text svelte-1moovdm"><strong class="svelte-1moovdm">Personality interview skipped</strong> <p class="svelte-1moovdm">You can complete it anytime from <strong class="svelte-1moovdm">System ‚Üí Generator</strong></p></div></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-113n37l"&&(e.innerHTML=t),this.h()},h(){o(e,"class","skip-notification svelte-1moovdm")},m(l,r){A(l,e,r)},d(l){l&&_(e)}}}function Ts(s){let e,t,l,r,a;const i=[Cs,ws,ks],d=[];function h(u,m){return u[1]==="pending"?0:u[1]==="full-interview"?1:u[1]==="quick-survey"?2:-1}~(t=h(s))&&(l=d[t]=i[t](s));let g=s[2]&&Mt();return{c(){e=p("div"),l&&l.c(),r=z(),g&&g.c(),this.h()},l(u){e=f(u,"DIV",{class:!0});var m=C(e);l&&l.l(m),r=I(m),g&&g.l(m),m.forEach(_),this.h()},h(){o(e,"class","personality-choice svelte-1moovdm")},m(u,m){A(u,e,m),~t&&d[t].m(e,null),n(e,r),g&&g.m(e,null),a=!0},p(u,[m]){let c=t;t=h(u),t===c?~t&&d[t].p(u,m):(l&&(ss(),Ve(d[c],1,1,()=>{d[c]=null}),ls()),~t?(l=d[t],l?l.p(u,m):(l=d[t]=i[t](u),l.c()),Ne(l,1),l.m(e,r)):l=null),u[2]?g||(g=Mt(),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(u){a||(Ne(l),a=!0)},o(u){Ve(l),a=!1},d(u){u&&_(e),~t&&d[t].d(),g&&g.d()}}}function Is(s,e,t){let{onNext:l}=e,{onBack:r}=e,a="pending",i=!1;function d(){t(1,a="full-interview")}function h(){t(1,a="quick-survey")}function g(){t(2,i=!0),setTimeout(()=>{l()},3e3)}function u(){l()}function m(){l()}function c(){t(1,a="pending")}return s.$$set=v=>{"onNext"in v&&t(9,l=v.onNext),"onBack"in v&&t(0,r=v.onBack)},[r,a,i,d,h,g,u,m,c,l]}class zs extends Le{constructor(e){super(),Oe(this,e,Is,Ts,Ae,{onNext:9,onBack:0})}}function Pt(s,e,t){const l=s.slice();return l[20]=e[t],l[22]=t,l}function Lt(s){let e,t,l,r=s[2].length+"",a,i,d,h,g=Ee(s[2]),u=[];for(let m=0;m<g.length;m+=1)u[m]=Ot(Pt(s,g,m));return{c(){e=p("div"),t=p("h3"),l=L("Files to Upload ("),a=L(r),i=L(")"),d=z(),h=p("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){e=f(m,"DIV",{class:!0});var c=C(e);t=f(c,"H3",{class:!0});var v=C(t);l=P(v,"Files to Upload ("),a=P(v,r),i=P(v,")"),v.forEach(_),d=I(c),h=f(c,"DIV",{class:!0});var b=C(h);for(let y=0;y<u.length;y+=1)u[y].l(b);b.forEach(_),c.forEach(_),this.h()},h(){o(t,"class","svelte-7pq65u"),o(h,"class","files svelte-7pq65u"),o(e,"class","file-list svelte-7pq65u")},m(m,c){A(m,e,c),n(e,t),n(t,l),n(t,a),n(t,i),n(e,d),n(e,h);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(h,null)},p(m,c){if(c&4&&r!==(r=m[2].length+"")&&se(a,r),c&8204){g=Ee(m[2]);let v;for(v=0;v<g.length;v+=1){const b=Pt(m,g,v);u[v]?u[v].p(b,c):(u[v]=Ot(b),u[v].c(),u[v].m(h,null))}for(;v<u.length;v+=1)u[v].d(1);u.length=g.length}},d(m){m&&_(e),Ze(u,m)}}}function Es(s){let e;return{c(){e=L("üìÉ")},l(t){e=P(t,"üìÉ")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function Ss(s){let e;return{c(){e=L("üìä")},l(t){e=P(t,"üìä")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function qs(s){let e;return{c(){e=L("üîß")},l(t){e=P(t,"üîß")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function Ds(s){let e;return{c(){e=L("üìù")},l(t){e=P(t,"üìù")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function Vs(s){let e;return{c(){e=L("üìÑ")},l(t){e=P(t,"üìÑ")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function Ot(s){let e,t,l,r,a,i,d,h,g,u=s[20].name+"",m,c,v,b=jt(s[20].size)+"",y,k,E,T,D,q,S;function V(B,x){return x&4&&(l=null),x&4&&(r=null),x&4&&(a=null),x&4&&(i=null),l==null&&(l=!!(B[20].type==="application/pdf"||B[20].name.endsWith(".pdf"))),l?Vs:(r==null&&(r=!!B[20].name.endsWith(".md")),r?Ds:(a==null&&(a=!!B[20].name.endsWith(".json")),a?qs:(i==null&&(i=!!B[20].name.endsWith(".csv")),i?Ss:Es)))}let w=V(s,-1),N=w(s);function O(){return s[18](s[22])}return{c(){e=p("div"),t=p("div"),N.c(),d=z(),h=p("div"),g=p("div"),m=L(u),c=z(),v=p("div"),y=L(b),k=z(),E=p("button"),T=L("‚úï"),D=z(),this.h()},l(B){e=f(B,"DIV",{class:!0});var x=C(e);t=f(x,"DIV",{class:!0});var ee=C(t);N.l(ee),ee.forEach(_),d=I(x),h=f(x,"DIV",{class:!0});var j=C(h);g=f(j,"DIV",{class:!0});var F=C(g);m=P(F,u),F.forEach(_),c=I(j),v=f(j,"DIV",{class:!0});var U=C(v);y=P(U,b),U.forEach(_),j.forEach(_),k=I(x),E=f(x,"BUTTON",{class:!0,"aria-label":!0});var Q=C(E);T=P(Q,"‚úï"),Q.forEach(_),D=I(x),x.forEach(_),this.h()},h(){o(t,"class","file-icon svelte-7pq65u"),o(g,"class","file-name svelte-7pq65u"),o(v,"class","file-size svelte-7pq65u"),o(h,"class","file-info svelte-7pq65u"),o(E,"class","btn-remove svelte-7pq65u"),E.disabled=s[3],o(E,"aria-label","Remove file"),o(e,"class","file-item svelte-7pq65u")},m(B,x){A(B,e,x),n(e,t),N.m(t,null),n(e,d),n(e,h),n(h,g),n(g,m),n(h,c),n(h,v),n(v,y),n(e,k),n(e,E),n(E,T),n(e,D),q||(S=G(E,"click",O),q=!0)},p(B,x){s=B,w!==(w=V(s,x))&&(N.d(1),N=w(s),N&&(N.c(),N.m(t,null))),x&4&&u!==(u=s[20].name+"")&&se(m,u),x&4&&b!==(b=jt(s[20].size)+"")&&se(y,b),x&8&&(E.disabled=s[3])},d(B){B&&_(e),N.d(),q=!1,S()}}}function At(s){let e,t,l,r,a,i;return{c(){e=p("div"),t=p("div"),l=p("div"),r=z(),a=p("p"),i=L(s[5]),this.h()},l(d){e=f(d,"DIV",{class:!0});var h=C(e);t=f(h,"DIV",{class:!0});var g=C(t);l=f(g,"DIV",{class:!0,style:!0}),C(l).forEach(_),g.forEach(_),r=I(h),a=f(h,"P",{class:!0});var u=C(a);i=P(u,s[5]),u.forEach(_),h.forEach(_),this.h()},h(){o(l,"class","progress-fill svelte-7pq65u"),Be(l,"width",s[4]+"%"),o(t,"class","progress-bar svelte-7pq65u"),o(a,"class","progress-status svelte-7pq65u"),o(e,"class","upload-progress svelte-7pq65u")},m(d,h){A(d,e,h),n(e,t),n(t,l),n(e,r),n(e,a),n(a,i)},p(d,h){h&16&&Be(l,"width",d[4]+"%"),h&32&&se(i,d[5])},d(d){d&&_(e)}}}function Ft(s){let e,t,l="‚ö†Ô∏è",r,a;return{c(){e=p("div"),t=p("span"),t.textContent=l,r=z(),a=L(s[6]),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=C(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-afr8fm"&&(t.textContent=l),r=I(d),a=P(d,s[6]),d.forEach(_),this.h()},h(){o(t,"class","error-icon"),o(e,"class","error-message svelte-7pq65u")},m(i,d){A(i,e,d),n(e,t),n(e,r),n(e,a)},p(i,d){d&64&&se(a,i[6])},d(i){i&&_(e)}}}function Ns(s){let e,t,l=`<h2 class="svelte-7pq65u">Import Your Context</h2> <p class="step-description svelte-7pq65u">Upload documents, journals, notes, or any text files that provide context about your life,
      work, or interests. Your MetaHuman will process these to better understand you.</p>`,r,a,i,d,h="üìÅ",g,u,m="Drag & Drop Files Here",c,v,b="or",y,k,E,T,D,q,S,V="Supported: Text (.txt), Markdown (.md), PDF (.pdf), JSON (.json), CSV (.csv)",w,N,O,B,x,ee=`<div class="info-icon svelte-7pq65u">üí°</div> <div class="info-text svelte-7pq65u"><strong class="svelte-7pq65u">What to upload:</strong> <ul class="svelte-7pq65u"><li>Personal journals or diary entries</li> <li>Work documents or project notes</li> <li>Creative writing or blog posts</li> <li>Meeting notes or conversation logs</li> <li>Any text that represents your thoughts, interests, or experiences</li></ul> <p class="svelte-7pq65u"><strong class="svelte-7pq65u">Privacy:</strong> All files are processed locally on your machine.
        Nothing is uploaded to external servers.</p></div>`,j,F,U=`<p class="svelte-7pq65u"><strong class="svelte-7pq65u">Don&#39;t have files to upload?</strong> No problem! You can skip this step
      and add context later through Memory Capture, Chat, or the File Ingestion utility.</p>`,Q,R,H,W,he,ve,ae,ce,te,le=s[3]?"Uploading...":s[2].length>0?"Upload & Continue ‚Üí":"Continue ‚Üí",ne,Z,J,Y=s[2].length>0&&Lt(s),ie=s[3]&&At(s),$=s[6]&&Ft(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=l,r=z(),a=p("div"),i=p("div"),d=p("div"),d.textContent=h,g=z(),u=p("h3"),u.textContent=m,c=z(),v=p("p"),v.textContent=b,y=z(),k=p("button"),E=L("Browse Files"),T=z(),D=p("input"),q=z(),S=p("p"),S.textContent=V,w=z(),Y&&Y.c(),N=z(),ie&&ie.c(),O=z(),$&&$.c(),B=z(),x=p("div"),x.innerHTML=ee,j=z(),F=p("div"),F.innerHTML=U,Q=z(),R=p("div"),H=p("button"),W=L("‚Üê Back"),he=z(),ve=p("button"),ae=L("Skip"),ce=z(),te=p("button"),ne=L(le),this.h()},l(de){e=f(de,"DIV",{class:!0});var K=C(e);t=f(K,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-aawena"&&(t.innerHTML=l),r=I(K),a=f(K,"DIV",{class:!0});var ue=C(a);i=f(ue,"DIV",{class:!0,role:!0,tabindex:!0});var fe=C(i);d=f(fe,"DIV",{class:!0,"data-svelte-h":!0}),M(d)!=="svelte-1iic5bq"&&(d.textContent=h),g=I(fe),u=f(fe,"H3",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-1rnuzeg"&&(u.textContent=m),c=I(fe),v=f(fe,"P",{class:!0,"data-svelte-h":!0}),M(v)!=="svelte-93sdsf"&&(v.textContent=b),y=I(fe),k=f(fe,"BUTTON",{class:!0});var qe=C(k);E=P(qe,"Browse Files"),qe.forEach(_),T=I(fe),D=f(fe,"INPUT",{type:!0,accept:!0,style:!0}),q=I(fe),S=f(fe,"P",{class:!0,"data-svelte-h":!0}),M(S)!=="svelte-xo0tg9"&&(S.textContent=V),fe.forEach(_),w=I(ue),Y&&Y.l(ue),N=I(ue),ie&&ie.l(ue),O=I(ue),$&&$.l(ue),ue.forEach(_),B=I(K),x=f(K,"DIV",{class:!0,"data-svelte-h":!0}),M(x)!=="svelte-m17zvx"&&(x.innerHTML=ee),j=I(K),F=f(K,"DIV",{class:!0,"data-svelte-h":!0}),M(F)!=="svelte-tygpnt"&&(F.innerHTML=U),Q=I(K),R=f(K,"DIV",{class:!0});var _e=C(R);H=f(_e,"BUTTON",{class:!0});var oe=C(H);W=P(oe,"‚Üê Back"),oe.forEach(_),he=I(_e),ve=f(_e,"BUTTON",{class:!0});var me=C(ve);ae=P(me,"Skip"),me.forEach(_),ce=I(_e),te=f(_e,"BUTTON",{class:!0});var Me=C(te);ne=P(Me,le),Me.forEach(_),_e.forEach(_),K.forEach(_),this.h()},h(){o(t,"class","step-header svelte-7pq65u"),o(d,"class","dropzone-icon svelte-7pq65u"),o(u,"class","svelte-7pq65u"),o(v,"class","svelte-7pq65u"),o(k,"class","btn btn-upload svelte-7pq65u"),k.disabled=s[3],o(D,"type","file"),D.multiple=!0,o(D,"accept",".txt,.md,.pdf,.json,.csv,text/plain,text/markdown,application/pdf,application/json,text/csv"),Be(D,"display","none"),o(S,"class","supported-types svelte-7pq65u"),o(i,"class","dropzone svelte-7pq65u"),o(i,"role","button"),o(i,"tabindex","0"),rt(i,"active",s[7]),o(a,"class","upload-section svelte-7pq65u"),o(x,"class","context-info svelte-7pq65u"),o(F,"class","skip-notice svelte-7pq65u"),o(H,"class","btn btn-secondary svelte-7pq65u"),H.disabled=s[3],o(ve,"class","btn btn-ghost svelte-7pq65u"),ve.disabled=s[3],o(te,"class","btn btn-primary svelte-7pq65u"),te.disabled=s[3],o(R,"class","step-actions svelte-7pq65u"),o(e,"class","step-context svelte-7pq65u")},m(de,K){A(de,e,K),n(e,t),n(e,r),n(e,a),n(a,i),n(i,d),n(i,g),n(i,u),n(i,c),n(i,v),n(i,y),n(i,k),n(k,E),n(i,T),n(i,D),s[17](D),n(i,q),n(i,S),n(a,w),Y&&Y.m(a,null),n(a,N),ie&&ie.m(a,null),n(a,O),$&&$.m(a,null),n(e,B),n(e,x),n(e,j),n(e,F),n(e,Q),n(e,R),n(R,H),n(H,W),n(R,he),n(R,ve),n(ve,ae),n(R,ce),n(R,te),n(te,ne),Z||(J=[G(k,"click",s[16]),G(D,"change",s[12]),G(i,"dragenter",s[9]),G(i,"dragleave",s[10]),G(i,"dragover",Bs),G(i,"drop",s[11]),G(H,"click",function(){Se(s[0])&&s[0].apply(this,arguments)}),G(ve,"click",function(){Se(s[1])&&s[1].apply(this,arguments)}),G(te,"click",s[14])],Z=!0)},p(de,[K]){s=de,K&8&&(k.disabled=s[3]),K&128&&rt(i,"active",s[7]),s[2].length>0?Y?Y.p(s,K):(Y=Lt(s),Y.c(),Y.m(a,N)):Y&&(Y.d(1),Y=null),s[3]?ie?ie.p(s,K):(ie=At(s),ie.c(),ie.m(a,O)):ie&&(ie.d(1),ie=null),s[6]?$?$.p(s,K):($=Ft(s),$.c(),$.m(a,null)):$&&($.d(1),$=null),K&8&&(H.disabled=s[3]),K&8&&(ve.disabled=s[3]),K&12&&le!==(le=s[3]?"Uploading...":s[2].length>0?"Upload & Continue ‚Üí":"Continue ‚Üí")&&se(ne,le),K&8&&(te.disabled=s[3])},i:pe,o:pe,d(de){de&&_(e),s[17](null),Y&&Y.d(),ie&&ie.d(),$&&$.d(),Z=!1,He(J)}}}function Bs(s){s.preventDefault()}function jt(s){return s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":(s/(1024*1024)).toFixed(1)+" MB"}function Hs(s,e,t){let{onNext:l}=e,{onBack:r}=e,{onSkip:a}=e,i=[],d=!1,h=0,g="",u="",m=!1,c;function v(w){w.preventDefault(),t(7,m=!0)}function b(w){w.preventDefault(),t(7,m=!1)}function y(w){w.preventDefault(),t(7,m=!1);const N=Array.from(w.dataTransfer?.files||[]);E(N)}function k(w){const N=w.target,O=Array.from(N.files||[]);E(O)}function E(w){const N=["text/plain","text/markdown","application/pdf","application/json","text/csv"],O=w.filter(B=>N.includes(B.type)||B.name.endsWith(".txt")||B.name.endsWith(".md")||B.name.endsWith(".pdf")||B.name.endsWith(".json")||B.name.endsWith(".csv"));O.length<w.length&&t(6,u="Some files were skipped (unsupported type). Supported: .txt, .md, .pdf, .json, .csv"),t(2,i=[...i,...O])}function T(w){t(2,i=i.filter((N,O)=>O!==w))}async function D(){if(i.length===0){l();return}t(3,d=!0),t(4,h=0),t(5,g=""),t(6,u="");try{const w=i.length;let N=0;for(const O of i){t(5,g=`Uploading ${O.name}...`);const B=new FormData;if(B.append("file",O),!(await ke("/api/ingest",{method:"POST",body:B})).ok)throw new Error(`Failed to upload ${O.name}`);N++,t(4,h=N/w*100)}await ke("/api/onboarding/state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{dataCollected:{filesIngested:i.length}}})}),t(5,g=`‚úì Successfully uploaded ${w} file${w>1?"s":""}`),setTimeout(()=>{l()},1500)}catch(w){t(6,u=w.message),t(3,d=!1)}}const q=()=>c.click();function S(w){ts[w?"unshift":"push"](()=>{c=w,t(8,c)})}const V=w=>T(w);return s.$$set=w=>{"onNext"in w&&t(15,l=w.onNext),"onBack"in w&&t(0,r=w.onBack),"onSkip"in w&&t(1,a=w.onSkip)},[r,a,i,d,h,g,u,m,c,v,b,y,k,T,D,l,q,S,V]}class Ms extends Le{constructor(e){super(),Oe(this,e,Hs,Ns,Ae,{onNext:15,onBack:0,onSkip:1})}}function Ut(s,e,t){const l=s.slice();return l[17]=e[t],l}function xt(s,e,t){const l=s.slice();return l[20]=e[t],l}function Wt(s){let e,t,l=s[20].icon+"",r,a,i,d=s[20].label+"",h,g,u,m;function c(){return s[14](s[20])}return{c(){e=p("button"),t=p("span"),r=L(l),a=z(),i=p("span"),h=L(d),g=z(),this.h()},l(v){e=f(v,"BUTTON",{type:!0,class:!0});var b=C(e);t=f(b,"SPAN",{class:!0});var y=C(t);r=P(y,l),y.forEach(_),a=I(b),i=f(b,"SPAN",{class:!0});var k=C(i);h=P(k,d),k.forEach(_),g=I(b),b.forEach(_),this.h()},h(){o(t,"class","category-icon svelte-1f9qe7d"),o(i,"class","category-label svelte-1f9qe7d"),o(e,"type","button"),o(e,"class","category-btn svelte-1f9qe7d"),rt(e,"active",s[3].category===s[20].value)},m(v,b){A(v,e,b),n(e,t),n(t,r),n(e,a),n(e,i),n(i,h),n(e,g),u||(m=G(e,"click",c),u=!0)},p(v,b){s=v,b&72&&rt(e,"active",s[3].category===s[20].value)},d(v){v&&_(e),u=!1,m()}}}function Yt(s){let e,t,l="‚ö†Ô∏è",r,a;return{c(){e=p("div"),t=p("span"),t.textContent=l,r=z(),a=L(s[5]),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=C(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-afr8fm"&&(t.textContent=l),r=I(d),a=P(d,s[5]),d.forEach(_),this.h()},h(){o(t,"class","error-icon"),o(e,"class","error-message svelte-1f9qe7d")},m(i,d){A(i,e,d),n(e,t),n(e,r),n(e,a)},p(i,d){d&32&&se(a,i[5])},d(i){i&&_(e)}}}function Ps(s){let e,t='<div class="empty-icon svelte-1f9qe7d">üéØ</div> <h3 class="svelte-1f9qe7d">No goals yet</h3> <p class="svelte-1f9qe7d">Add your first goal above to get started</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-aqnbuh"&&(e.innerHTML=t),this.h()},h(){o(e,"class","empty-state svelte-1f9qe7d")},m(l,r){A(l,e,r)},p:pe,d(l){l&&_(e)}}}function Ls(s){let e,t,l,r=s[2].length+"",a,i,d,h,g=Ee(s[2]),u=[];for(let m=0;m<g.length;m+=1)u[m]=Qt(Ut(s,g,m));return{c(){e=p("div"),t=p("h3"),l=L("Your Goals ("),a=L(r),i=L(")"),d=z(),h=p("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){e=f(m,"DIV",{class:!0});var c=C(e);t=f(c,"H3",{class:!0});var v=C(t);l=P(v,"Your Goals ("),a=P(v,r),i=P(v,")"),v.forEach(_),d=I(c),h=f(c,"DIV",{class:!0});var b=C(h);for(let y=0;y<u.length;y+=1)u[y].l(b);b.forEach(_),c.forEach(_),this.h()},h(){o(t,"class","svelte-1f9qe7d"),o(h,"class","goals svelte-1f9qe7d"),o(e,"class","goals-list svelte-1f9qe7d")},m(m,c){A(m,e,c),n(e,t),n(t,l),n(t,a),n(t,i),n(e,d),n(e,h);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(h,null)},p(m,c){if(c&4&&r!==(r=m[2].length+"")&&se(a,r),c&3332){g=Ee(m[2]);let v;for(v=0;v<g.length;v+=1){const b=Ut(m,g,v);u[v]?u[v].p(b,c):(u[v]=Qt(b),u[v].c(),u[v].m(h,null))}for(;v<u.length;v+=1)u[v].d(1);u.length=g.length}},d(m){m&&_(e),Ze(u,m)}}}function Gt(s){let e,t=s[17].description+"",l;return{c(){e=p("p"),l=L(t),this.h()},l(r){e=f(r,"P",{class:!0});var a=C(e);l=P(a,t),a.forEach(_),this.h()},h(){o(e,"class","goal-description svelte-1f9qe7d")},m(r,a){A(r,e,a),n(e,l)},p(r,a){a&4&&t!==(t=r[17].description+"")&&se(l,t)},d(r){r&&_(e)}}}function Qt(s){let e,t,l,r,a=s[10](s[17].category)+"",i,d,h,g=s[11](s[17].category)+"",u,m,c,v="‚úï",b,y,k,E=s[17].title+"",T,D,q,S,V;function w(){return s[16](s[17])}let N=s[17].description&&Gt(s);return{c(){e=p("div"),t=p("div"),l=p("div"),r=p("span"),i=L(a),d=z(),h=p("span"),u=L(g),m=z(),c=p("button"),c.textContent=v,b=z(),y=p("div"),k=p("h4"),T=L(E),D=z(),N&&N.c(),q=z(),this.h()},l(O){e=f(O,"DIV",{class:!0});var B=C(e);t=f(B,"DIV",{class:!0});var x=C(t);l=f(x,"DIV",{class:!0});var ee=C(l);r=f(ee,"SPAN",{class:!0});var j=C(r);i=P(j,a),j.forEach(_),d=I(ee),h=f(ee,"SPAN",{class:!0});var F=C(h);u=P(F,g),F.forEach(_),ee.forEach(_),m=I(x),c=f(x,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),M(c)!=="svelte-1q9l3r"&&(c.textContent=v),x.forEach(_),b=I(B),y=f(B,"DIV",{class:!0});var U=C(y);k=f(U,"H4",{class:!0});var Q=C(k);T=P(Q,E),Q.forEach(_),D=I(U),N&&N.l(U),U.forEach(_),q=I(B),B.forEach(_),this.h()},h(){o(r,"class","category-icon svelte-1f9qe7d"),o(h,"class","category-text svelte-1f9qe7d"),o(l,"class","goal-category svelte-1f9qe7d"),o(c,"class","btn-remove svelte-1f9qe7d"),o(c,"aria-label","Remove goal"),o(t,"class","goal-header svelte-1f9qe7d"),o(k,"class","goal-title svelte-1f9qe7d"),o(y,"class","goal-content svelte-1f9qe7d"),o(e,"class","goal-card svelte-1f9qe7d")},m(O,B){A(O,e,B),n(e,t),n(t,l),n(l,r),n(r,i),n(l,d),n(l,h),n(h,u),n(t,m),n(t,c),n(e,b),n(e,y),n(y,k),n(k,T),n(y,D),N&&N.m(y,null),n(e,q),S||(V=G(c,"click",w),S=!0)},p(O,B){s=O,B&4&&a!==(a=s[10](s[17].category)+"")&&se(i,a),B&4&&g!==(g=s[11](s[17].category)+"")&&se(u,g),B&4&&E!==(E=s[17].title+"")&&se(T,E),s[17].description?N?N.p(s,B):(N=Gt(s),N.c(),N.m(y,null)):N&&(N.d(1),N=null)},d(O){O&&_(e),N&&N.d(),S=!1,V()}}}function Os(s){let e,t,l=`<h2 class="svelte-1f9qe7d">What Are Your Goals?</h2> <p class="step-description svelte-1f9qe7d">Tell your MetaHuman what you want to achieve. These goals will guide its autonomous actions
      and help it prioritize tasks that align with your objectives.</p>`,r,a,i,d,h=`Goal Title
        <span class="required-indicator svelte-1f9qe7d">*</span>`,g,u,m,c,v,b="Timeframe",y,k,E,T,D,q="Description (optional)",S,V,w,N,O=s[3].description.length+"",B,x,ee,j,F,U,Q,R,H,W,he='<div class="info-icon svelte-1f9qe7d">üí°</div> <div class="info-text svelte-1f9qe7d"><strong class="svelte-1f9qe7d">Why set goals?</strong> <ul class="svelte-1f9qe7d"><li>Your MetaHuman will prioritize actions that align with your objectives</li> <li>Short-term goals will be automatically converted into actionable tasks</li> <li>The system will track progress and suggest next steps</li> <li>Autonomous agents will work towards these goals in the background</li></ul> <p class="svelte-1f9qe7d">You can always add, edit, or remove goals later through the Task Manager or Persona Editor.</p></div>',ve,ae,ce=`<p class="svelte-1f9qe7d"><strong class="svelte-1f9qe7d">Not sure what goals to add?</strong> No problem! You can skip this step
      and define goals later as you use the system.</p>`,te,le,ne,Z,J,Y,ie,$,de,K=s[4]?"Saving...":"Continue ‚Üí",ue,fe,qe,_e=Ee(s[6]),oe=[];for(let ge=0;ge<_e.length;ge+=1)oe[ge]=Wt(xt(s,_e,ge));let me=s[5]&&Yt(s);function Me(ge,re){return ge[2].length>0?Ls:Ps}let Pe=Me(s),ye=Pe(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=l,r=z(),a=p("div"),i=p("div"),d=p("label"),d.innerHTML=h,g=z(),u=p("input"),m=z(),c=p("div"),v=p("label"),v.textContent=b,y=z(),k=p("div");for(let ge=0;ge<oe.length;ge+=1)oe[ge].c();E=z(),T=p("div"),D=p("label"),D.textContent=q,S=z(),V=p("textarea"),w=z(),N=p("div"),B=L(O),x=L("/500"),ee=z(),j=p("button"),F=L("‚ûï Add Goal"),Q=z(),me&&me.c(),R=z(),ye.c(),H=z(),W=p("div"),W.innerHTML=he,ve=z(),ae=p("div"),ae.innerHTML=ce,te=z(),le=p("div"),ne=p("button"),Z=L("‚Üê Back"),J=z(),Y=p("button"),ie=L("Skip"),$=z(),de=p("button"),ue=L(K),this.h()},l(ge){e=f(ge,"DIV",{class:!0});var re=C(e);t=f(re,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-pmmr7b"&&(t.innerHTML=l),r=I(re),a=f(re,"DIV",{class:!0});var X=C(a);i=f(X,"DIV",{class:!0});var Ce=C(i);d=f(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(d)!=="svelte-qtf3j6"&&(d.innerHTML=h),g=I(Ce),u=f(Ce,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0,class:!0}),Ce.forEach(_),m=I(X),c=f(X,"DIV",{class:!0});var Fe=C(c);v=f(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(v)!=="svelte-1i8hpcs"&&(v.textContent=b),y=I(Fe),k=f(Fe,"DIV",{class:!0});var $e=C(k);for(let Ke=0;Ke<oe.length;Ke+=1)oe[Ke].l($e);$e.forEach(_),Fe.forEach(_),E=I(X),T=f(X,"DIV",{class:!0});var Te=C(T);D=f(Te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(D)!=="svelte-dxb3kv"&&(D.textContent=q),S=I(Te),V=f(Te,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,maxlength:!0,class:!0}),C(V).forEach(_),w=I(Te),N=f(Te,"DIV",{class:!0});var Qe=C(N);B=P(Qe,O),x=P(Qe,"/500"),Qe.forEach(_),Te.forEach(_),ee=I(X),j=f(X,"BUTTON",{class:!0});var et=C(j);F=P(et,"‚ûï Add Goal"),et.forEach(_),Q=I(X),me&&me.l(X),X.forEach(_),R=I(re),ye.l(re),H=I(re),W=f(re,"DIV",{class:!0,"data-svelte-h":!0}),M(W)!=="svelte-1uammr6"&&(W.innerHTML=he),ve=I(re),ae=f(re,"DIV",{class:!0,"data-svelte-h":!0}),M(ae)!=="svelte-484m8f"&&(ae.innerHTML=ce),te=I(re),le=f(re,"DIV",{class:!0});var Ie=C(le);ne=f(Ie,"BUTTON",{class:!0});var je=C(ne);Z=P(je,"‚Üê Back"),je.forEach(_),J=I(Ie),Y=f(Ie,"BUTTON",{class:!0});var Re=C(Y);ie=P(Re,"Skip"),Re.forEach(_),$=I(Ie),de=f(Ie,"BUTTON",{class:!0});var Je=C(de);ue=P(Je,K),Je.forEach(_),Ie.forEach(_),re.forEach(_),this.h()},h(){o(t,"class","step-header svelte-1f9qe7d"),o(d,"for","title"),o(d,"class","svelte-1f9qe7d"),o(u,"id","title"),o(u,"type","text"),o(u,"placeholder","What do you want to achieve?"),o(u,"maxlength","200"),o(u,"class","svelte-1f9qe7d"),o(i,"class","form-group svelte-1f9qe7d"),o(v,"for","category"),o(v,"class","svelte-1f9qe7d"),o(k,"class","category-buttons svelte-1f9qe7d"),o(c,"class","form-group svelte-1f9qe7d"),o(D,"for","description"),o(D,"class","svelte-1f9qe7d"),o(V,"id","description"),o(V,"placeholder","Add more details about this goal..."),o(V,"rows","3"),o(V,"maxlength","500"),o(V,"class","svelte-1f9qe7d"),o(N,"class","char-count svelte-1f9qe7d"),o(T,"class","form-group svelte-1f9qe7d"),o(j,"class","btn btn-add svelte-1f9qe7d"),j.disabled=U=!s[3].title.trim(),o(a,"class","goal-form svelte-1f9qe7d"),o(W,"class","goals-info svelte-1f9qe7d"),o(ae,"class","skip-notice svelte-1f9qe7d"),o(ne,"class","btn btn-secondary svelte-1f9qe7d"),ne.disabled=s[4],o(Y,"class","btn btn-ghost svelte-1f9qe7d"),Y.disabled=s[4],o(de,"class","btn btn-primary svelte-1f9qe7d"),de.disabled=s[4],o(le,"class","step-actions svelte-1f9qe7d"),o(e,"class","step-goals svelte-1f9qe7d")},m(ge,re){A(ge,e,re),n(e,t),n(e,r),n(e,a),n(a,i),n(i,d),n(i,g),n(i,u),we(u,s[3].title),n(a,m),n(a,c),n(c,v),n(c,y),n(c,k);for(let X=0;X<oe.length;X+=1)oe[X]&&oe[X].m(k,null);n(a,E),n(a,T),n(T,D),n(T,S),n(T,V),we(V,s[3].description),n(T,w),n(T,N),n(N,B),n(N,x),n(a,ee),n(a,j),n(j,F),n(a,Q),me&&me.m(a,null),n(e,R),ye.m(e,null),n(e,H),n(e,W),n(e,ve),n(e,ae),n(e,te),n(e,le),n(le,ne),n(ne,Z),n(le,J),n(le,Y),n(Y,ie),n(le,$),n(le,de),n(de,ue),fe||(qe=[G(u,"input",s[13]),G(V,"input",s[15]),G(j,"click",s[7]),G(ne,"click",function(){Se(s[0])&&s[0].apply(this,arguments)}),G(Y,"click",function(){Se(s[1])&&s[1].apply(this,arguments)}),G(de,"click",s[9])],fe=!0)},p(ge,[re]){if(s=ge,re&8&&u.value!==s[3].title&&we(u,s[3].title),re&72){_e=Ee(s[6]);let X;for(X=0;X<_e.length;X+=1){const Ce=xt(s,_e,X);oe[X]?oe[X].p(Ce,re):(oe[X]=Wt(Ce),oe[X].c(),oe[X].m(k,null))}for(;X<oe.length;X+=1)oe[X].d(1);oe.length=_e.length}re&8&&we(V,s[3].description),re&8&&O!==(O=s[3].description.length+"")&&se(B,O),re&8&&U!==(U=!s[3].title.trim())&&(j.disabled=U),s[5]?me?me.p(s,re):(me=Yt(s),me.c(),me.m(a,null)):me&&(me.d(1),me=null),Pe===(Pe=Me(s))&&ye?ye.p(s,re):(ye.d(1),ye=Pe(s),ye&&(ye.c(),ye.m(e,H))),re&16&&(ne.disabled=s[4]),re&16&&(Y.disabled=s[4]),re&16&&K!==(K=s[4]?"Saving...":"Continue ‚Üí")&&se(ue,K),re&16&&(de.disabled=s[4])},i:pe,o:pe,d(ge){ge&&_(e),Ze(oe,ge),me&&me.d(),ye.d(),fe=!1,He(qe)}}}function As(s,e,t){let{onNext:l}=e,{onBack:r}=e,{onSkip:a}=e,i=[],d={title:"",category:"short",description:""},h=!1,g="";const u=[{value:"short",label:"Short-term (1-3 months)",icon:"üéØ"},{value:"mid",label:"Mid-term (3-12 months)",icon:"üìà"},{value:"long",label:"Long-term (1+ years)",icon:"üåü"}];function m(){if(!d.title.trim()){t(5,g="Goal title is required");return}const q={id:crypto.randomUUID(),title:d.title.trim(),category:d.category,description:d.description.trim()||void 0};t(2,i=[...i,q]),t(3,d={title:"",category:"short",description:""}),t(5,g="")}function c(q){t(2,i=i.filter(S=>S.id!==q))}async function v(){if(i.length===0){l();return}t(4,h=!0),t(5,g="");try{const q={shortTerm:i.filter(w=>w.category==="short").map(w=>w.title),midTerm:i.filter(w=>w.category==="mid").map(w=>w.title),longTerm:i.filter(w=>w.category==="long").map(w=>w.title)};if(!(await ke("/api/persona",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{goals:q}})})).ok)throw new Error("Failed to save goals to persona");let V=0;for(const w of i.filter(N=>N.category==="short"))(await ke("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:w.title,description:w.description,priority:"medium",status:"active"})})).ok&&V++;await ke("/api/onboarding/state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:{dataCollected:{tasksCreated:V}}})}),l()}catch(q){t(5,g=q.message)}finally{t(4,h=!1)}}function b(q){return u.find(V=>V.value===q)?.icon||"üéØ"}function y(q){return u.find(V=>V.value===q)?.label||"Short-term"}function k(){d.title=this.value,t(3,d)}const E=q=>t(3,d.category=q.value,d);function T(){d.description=this.value,t(3,d)}const D=q=>c(q.id);return s.$$set=q=>{"onNext"in q&&t(12,l=q.onNext),"onBack"in q&&t(0,r=q.onBack),"onSkip"in q&&t(1,a=q.onSkip)},[r,a,i,d,h,g,u,m,c,v,b,y,l,k,E,T,D]}class Fs extends Le{constructor(e){super(),Oe(this,e,As,Os,Ae,{onNext:12,onBack:0,onSkip:1})}}function js(s){let e,t='<span class="error-icon svelte-1w75xsz">‚ö†Ô∏è</span> <p>Failed to load onboarding data</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-jvwg7u"&&(e.innerHTML=t),this.h()},h(){o(e,"class","error-state svelte-1w75xsz")},m(l,r){A(l,e,r)},p:pe,d(l){l&&_(e)}}}function Us(s){let e,t='<div class="celebration-icon svelte-1w75xsz">üéâ</div> <h1 class="svelte-1w75xsz">You&#39;re All Set!</h1> <p class="celebration-message svelte-1w75xsz">Your MetaHuman is ready to begin learning and operating as your digital consciousness.</p>',l,r,a,i="What We've Captured",d,h,g,u,m,c,v,b,y=s[6]()+"",k,E,T,D,q=`<h2 class="svelte-1w75xsz">What Happens Next?</h2> <div class="steps svelte-1w75xsz"><div class="next-step svelte-1w75xsz"><div class="step-number svelte-1w75xsz">1</div> <div class="step-content svelte-1w75xsz"><h3 class="svelte-1w75xsz">Background Processing</h3> <p class="svelte-1w75xsz">The Organizer agent will enrich your memories with tags, entities, and connections.
              This happens automatically in the background.</p></div></div> <div class="next-step svelte-1w75xsz"><div class="step-number svelte-1w75xsz">2</div> <div class="step-content svelte-1w75xsz"><h3 class="svelte-1w75xsz">Personality Modeling</h3> <p class="svelte-1w75xsz">Your MetaHuman will analyze your communication patterns and personality traits
              to build a model that thinks like you.</p></div></div> <div class="next-step svelte-1w75xsz"><div class="step-number svelte-1w75xsz">3</div> <div class="step-content svelte-1w75xsz"><h3 class="svelte-1w75xsz">Continuous Learning</h3> <p class="svelte-1w75xsz">As you use the system, your MetaHuman will learn from your decisions,
              preferences, and interactions to become more aligned with you over time.</p></div></div> <div class="next-step svelte-1w75xsz"><div class="step-number svelte-1w75xsz">4</div> <div class="step-content svelte-1w75xsz"><h3 class="svelte-1w75xsz">Autonomous Operation</h3> <p class="svelte-1w75xsz">Background agents will work on your goals, generate reflections,
              and perform tasks autonomously while respecting your trust boundaries.</p></div></div></div>`,S,V,w='<h2 class="svelte-1w75xsz">Explore Key Features</h2> <div class="features-grid svelte-1w75xsz"><div class="feature-card svelte-1w75xsz"><div class="feature-icon svelte-1w75xsz">üí¨</div> <h3 class="svelte-1w75xsz">Chat Interface</h3> <p class="svelte-1w75xsz">Have conversations with your digital consciousness</p></div> <div class="feature-card svelte-1w75xsz"><div class="feature-icon svelte-1w75xsz">üìù</div> <h3 class="svelte-1w75xsz">Memory Capture</h3> <p class="svelte-1w75xsz">Record observations, events, and thoughts</p></div> <div class="feature-card svelte-1w75xsz"><div class="feature-icon svelte-1w75xsz">üìä</div> <h3 class="svelte-1w75xsz">Dashboard</h3> <p class="svelte-1w75xsz">Monitor system status and agent activity</p></div> <div class="feature-card svelte-1w75xsz"><div class="feature-icon svelte-1w75xsz">‚úÖ</div> <h3 class="svelte-1w75xsz">Task Manager</h3> <p class="svelte-1w75xsz">Track goals and manage your to-do list</p></div> <div class="feature-card svelte-1w75xsz"><div class="feature-icon svelte-1w75xsz">üîç</div> <h3 class="svelte-1w75xsz">Memory Browser</h3> <p class="svelte-1w75xsz">Search and explore your episodic memories</p></div> <div class="feature-card svelte-1w75xsz"><div class="feature-icon svelte-1w75xsz">‚öôÔ∏è</div> <h3 class="svelte-1w75xsz">Settings</h3> <p class="svelte-1w75xsz">Configure persona, models, and preferences</p></div></div>',N,O,B=`<div class="privacy-icon svelte-1w75xsz">üîí</div> <div class="privacy-text svelte-1w75xsz"><strong class="svelte-1w75xsz">Your Privacy is Protected</strong> <p class="svelte-1w75xsz">All your data remains on your local machine. MetaHuman OS operates 100% locally
          with no cloud dependencies, no external API calls, and no data sharing.</p></div>`,x,ee,j=s[1].dataCollected.identityQuestions>0&&Rt(s),F=s[1].dataCollected.personalityQuestions>0&&Jt(s),U=s[1].dataCollected.filesIngested>0&&Kt(s),Q=s[1].dataCollected.tasksCreated>0&&Xt(s),R=s[4]&&Zt(s);return{c(){e=p("div"),e.innerHTML=t,l=z(),r=p("div"),a=p("h2"),a.textContent=i,d=z(),h=p("div"),j&&j.c(),g=z(),F&&F.c(),u=z(),U&&U.c(),m=z(),Q&&Q.c(),c=z(),v=p("div"),b=p("strong"),k=L(y),E=L(" total data points captured"),T=z(),D=p("div"),D.innerHTML=q,S=z(),V=p("div"),V.innerHTML=w,N=z(),O=p("div"),O.innerHTML=B,x=z(),R&&R.c(),ee=ot(),this.h()},l(H){e=f(H,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-mv9p3g"&&(e.innerHTML=t),l=I(H),r=f(H,"DIV",{class:!0});var W=C(r);a=f(W,"H2",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-uuqfhy"&&(a.textContent=i),d=I(W),h=f(W,"DIV",{class:!0});var he=C(h);j&&j.l(he),g=I(he),F&&F.l(he),u=I(he),U&&U.l(he),m=I(he),Q&&Q.l(he),he.forEach(_),c=I(W),v=f(W,"DIV",{class:!0});var ve=C(v);b=f(ve,"STRONG",{class:!0});var ae=C(b);k=P(ae,y),ae.forEach(_),E=P(ve," total data points captured"),ve.forEach(_),W.forEach(_),T=I(H),D=f(H,"DIV",{class:!0,"data-svelte-h":!0}),M(D)!=="svelte-etg9em"&&(D.innerHTML=q),S=I(H),V=f(H,"DIV",{class:!0,"data-svelte-h":!0}),M(V)!=="svelte-17349gx"&&(V.innerHTML=w),N=I(H),O=f(H,"DIV",{class:!0,"data-svelte-h":!0}),M(O)!=="svelte-ucjchm"&&(O.innerHTML=B),x=I(H),R&&R.l(H),ee=ot(),this.h()},h(){o(e,"class","completion-header svelte-1w75xsz"),o(a,"class","svelte-1w75xsz"),o(h,"class","summary-grid svelte-1w75xsz"),o(b,"class","svelte-1w75xsz"),o(v,"class","total-data svelte-1w75xsz"),o(r,"class","summary-section svelte-1w75xsz"),o(D,"class","next-steps svelte-1w75xsz"),o(V,"class","explore-features svelte-1w75xsz"),o(O,"class","privacy-reminder svelte-1w75xsz")},m(H,W){A(H,e,W),A(H,l,W),A(H,r,W),n(r,a),n(r,d),n(r,h),j&&j.m(h,null),n(h,g),F&&F.m(h,null),n(h,u),U&&U.m(h,null),n(h,m),Q&&Q.m(h,null),n(r,c),n(r,v),n(v,b),n(b,k),n(v,E),A(H,T,W),A(H,D,W),A(H,S,W),A(H,V,W),A(H,N,W),A(H,O,W),A(H,x,W),R&&R.m(H,W),A(H,ee,W)},p(H,W){H[1].dataCollected.identityQuestions>0?j?j.p(H,W):(j=Rt(H),j.c(),j.m(h,g)):j&&(j.d(1),j=null),H[1].dataCollected.personalityQuestions>0?F?F.p(H,W):(F=Jt(H),F.c(),F.m(h,u)):F&&(F.d(1),F=null),H[1].dataCollected.filesIngested>0?U?U.p(H,W):(U=Kt(H),U.c(),U.m(h,m)):U&&(U.d(1),U=null),H[1].dataCollected.tasksCreated>0?Q?Q.p(H,W):(Q=Xt(H),Q.c(),Q.m(h,null)):Q&&(Q.d(1),Q=null),H[4]?R?R.p(H,W):(R=Zt(H),R.c(),R.m(ee.parentNode,ee)):R&&(R.d(1),R=null)},d(H){H&&(_(e),_(l),_(r),_(T),_(D),_(S),_(V),_(N),_(O),_(x),_(ee)),j&&j.d(),F&&F.d(),U&&U.d(),Q&&Q.d(),R&&R.d(H)}}}function xs(s){let e,t='<div class="spinner svelte-1w75xsz"></div> <p class="svelte-1w75xsz">Loading your progress...</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ak4mw7"&&(e.innerHTML=t),this.h()},h(){o(e,"class","loading svelte-1w75xsz")},m(l,r){A(l,e,r)},p:pe,d(l){l&&_(e)}}}function Rt(s){let e,t,l="üë§",r,a,i,d=s[1].dataCollected.identityQuestions+"",h,g,u,m="Identity Details";return{c(){e=p("div"),t=p("div"),t.textContent=l,r=z(),a=p("div"),i=p("div"),h=L(d),g=z(),u=p("div"),u.textContent=m,this.h()},l(c){e=f(c,"DIV",{class:!0});var v=C(e);t=f(v,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1gtslt0"&&(t.textContent=l),r=I(v),a=f(v,"DIV",{class:!0});var b=C(a);i=f(b,"DIV",{class:!0});var y=C(i);h=P(y,d),y.forEach(_),g=I(b),u=f(b,"DIV",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-962yic"&&(u.textContent=m),b.forEach(_),v.forEach(_),this.h()},h(){o(t,"class","summary-icon svelte-1w75xsz"),o(i,"class","summary-number svelte-1w75xsz"),o(u,"class","summary-label svelte-1w75xsz"),o(a,"class","summary-content svelte-1w75xsz"),o(e,"class","summary-item svelte-1w75xsz")},m(c,v){A(c,e,v),n(e,t),n(e,r),n(e,a),n(a,i),n(i,h),n(a,g),n(a,u)},p(c,v){v&2&&d!==(d=c[1].dataCollected.identityQuestions+"")&&se(h,d)},d(c){c&&_(e)}}}function Jt(s){let e,t,l="üß†",r,a,i,d=s[1].dataCollected.personalityQuestions+"",h,g,u,m="Personality Questions";return{c(){e=p("div"),t=p("div"),t.textContent=l,r=z(),a=p("div"),i=p("div"),h=L(d),g=z(),u=p("div"),u.textContent=m,this.h()},l(c){e=f(c,"DIV",{class:!0});var v=C(e);t=f(v,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-ycakjn"&&(t.textContent=l),r=I(v),a=f(v,"DIV",{class:!0});var b=C(a);i=f(b,"DIV",{class:!0});var y=C(i);h=P(y,d),y.forEach(_),g=I(b),u=f(b,"DIV",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-1jx2a5r"&&(u.textContent=m),b.forEach(_),v.forEach(_),this.h()},h(){o(t,"class","summary-icon svelte-1w75xsz"),o(i,"class","summary-number svelte-1w75xsz"),o(u,"class","summary-label svelte-1w75xsz"),o(a,"class","summary-content svelte-1w75xsz"),o(e,"class","summary-item svelte-1w75xsz")},m(c,v){A(c,e,v),n(e,t),n(e,r),n(e,a),n(a,i),n(i,h),n(a,g),n(a,u)},p(c,v){v&2&&d!==(d=c[1].dataCollected.personalityQuestions+"")&&se(h,d)},d(c){c&&_(e)}}}function Kt(s){let e,t,l="üìÅ",r,a,i,d=s[1].dataCollected.filesIngested+"",h,g,u,m="Files Imported";return{c(){e=p("div"),t=p("div"),t.textContent=l,r=z(),a=p("div"),i=p("div"),h=L(d),g=z(),u=p("div"),u.textContent=m,this.h()},l(c){e=f(c,"DIV",{class:!0});var v=C(e);t=f(v,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1nj2433"&&(t.textContent=l),r=I(v),a=f(v,"DIV",{class:!0});var b=C(a);i=f(b,"DIV",{class:!0});var y=C(i);h=P(y,d),y.forEach(_),g=I(b),u=f(b,"DIV",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-1xr5znz"&&(u.textContent=m),b.forEach(_),v.forEach(_),this.h()},h(){o(t,"class","summary-icon svelte-1w75xsz"),o(i,"class","summary-number svelte-1w75xsz"),o(u,"class","summary-label svelte-1w75xsz"),o(a,"class","summary-content svelte-1w75xsz"),o(e,"class","summary-item svelte-1w75xsz")},m(c,v){A(c,e,v),n(e,t),n(e,r),n(e,a),n(a,i),n(i,h),n(a,g),n(a,u)},p(c,v){v&2&&d!==(d=c[1].dataCollected.filesIngested+"")&&se(h,d)},d(c){c&&_(e)}}}function Xt(s){let e,t,l="‚úì",r,a,i,d=s[1].dataCollected.tasksCreated+"",h,g,u,m="Tasks Created";return{c(){e=p("div"),t=p("div"),t.textContent=l,r=z(),a=p("div"),i=p("div"),h=L(d),g=z(),u=p("div"),u.textContent=m,this.h()},l(c){e=f(c,"DIV",{class:!0});var v=C(e);t=f(v,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-swcgjs"&&(t.textContent=l),r=I(v),a=f(v,"DIV",{class:!0});var b=C(a);i=f(b,"DIV",{class:!0});var y=C(i);h=P(y,d),y.forEach(_),g=I(b),u=f(b,"DIV",{class:!0,"data-svelte-h":!0}),M(u)!=="svelte-1i0zc0g"&&(u.textContent=m),b.forEach(_),v.forEach(_),this.h()},h(){o(t,"class","summary-icon svelte-1w75xsz"),o(i,"class","summary-number svelte-1w75xsz"),o(u,"class","summary-label svelte-1w75xsz"),o(a,"class","summary-content svelte-1w75xsz"),o(e,"class","summary-item svelte-1w75xsz")},m(c,v){A(c,e,v),n(e,t),n(e,r),n(e,a),n(a,i),n(i,h),n(a,g),n(a,u)},p(c,v){v&2&&d!==(d=c[1].dataCollected.tasksCreated+"")&&se(h,d)},d(c){c&&_(e)}}}function Zt(s){let e,t,l="‚ö†Ô∏è",r,a;return{c(){e=p("div"),t=p("span"),t.textContent=l,r=z(),a=L(s[4]),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=C(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-afr8fm"&&(t.textContent=l),r=I(d),a=P(d,s[4]),d.forEach(_),this.h()},h(){o(t,"class","error-icon svelte-1w75xsz"),o(e,"class","error-message svelte-1w75xsz")},m(i,d){A(i,e,d),n(e,t),n(e,r),n(e,a)},p(i,d){d&16&&se(a,i[4])},d(i){i&&_(e)}}}function Ws(s){let e,t,l,r,a,i,d,h=s[3]?"Finalizing...":"Complete Onboarding üöÄ",g,u,m;function c(y,k){return y[2]?xs:y[1]?Us:js}let v=c(s),b=v(s);return{c(){e=p("div"),b.c(),t=z(),l=p("div"),r=p("button"),a=L("‚Üê Back"),i=z(),d=p("button"),g=L(h),this.h()},l(y){e=f(y,"DIV",{class:!0});var k=C(e);b.l(k),t=I(k),l=f(k,"DIV",{class:!0});var E=C(l);r=f(E,"BUTTON",{class:!0});var T=C(r);a=P(T,"‚Üê Back"),T.forEach(_),i=I(E),d=f(E,"BUTTON",{class:!0});var D=C(d);g=P(D,h),D.forEach(_),E.forEach(_),k.forEach(_),this.h()},h(){o(r,"class","btn btn-secondary svelte-1w75xsz"),r.disabled=s[3],o(d,"class","btn btn-primary btn-large svelte-1w75xsz"),d.disabled=s[3],o(l,"class","step-actions svelte-1w75xsz"),o(e,"class","step-complete svelte-1w75xsz")},m(y,k){A(y,e,k),b.m(e,null),n(e,t),n(e,l),n(l,r),n(r,a),n(l,i),n(l,d),n(d,g),u||(m=[G(r,"click",function(){Se(s[0])&&s[0].apply(this,arguments)}),G(d,"click",s[5])],u=!0)},p(y,[k]){s=y,v===(v=c(s))&&b?b.p(s,k):(b.d(1),b=v(s),b&&(b.c(),b.m(e,t))),k&8&&(r.disabled=s[3]),k&8&&h!==(h=s[3]?"Finalizing...":"Complete Onboarding üöÄ")&&se(g,h),k&8&&(d.disabled=s[3])},i:pe,o:pe,d(y){y&&_(e),b.d(),u=!1,He(m)}}}function Ys(s,e,t){let{onComplete:l}=e,{onBack:r}=e,a=null,i=!0,d=!1,h="";ct(async()=>{await g()});async function g(){t(2,i=!0);try{const c=await ke("/api/onboarding/state");if(!c.ok)throw new Error("Failed to load onboarding state");const v=await c.json();t(1,a=v.state)}catch(c){t(4,h=c.message)}finally{t(2,i=!1)}}async function u(){t(3,d=!0),t(4,h="");try{if(!(await ke("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to complete onboarding");l()}catch(c){t(4,h=c.message),t(3,d=!1)}}function m(){if(!a)return 0;const{dataCollected:c}=a;return c.identityQuestions+c.personalityQuestions+c.filesIngested+c.tasksCreated+c.memoriesCreated}return s.$$set=c=>{"onComplete"in c&&t(7,l=c.onComplete),"onBack"in c&&t(0,r=c.onBack)},[r,a,i,d,h,u,m,l]}class Gs extends Le{constructor(e){super(),Oe(this,e,Ys,Ws,Ae,{onComplete:7,onBack:0})}}function Qs(s){let e,t;return e=new Gs({props:{state:s[3],onComplete:s[7],onBack:s[5]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p(l,r){const a={};r&8&&(a.state=l[3]),e.$set(a)},i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Rs(s){let e,t;return e=new Fs({props:{onNext:s[18],onBack:s[5],onSkip:s[19]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p(l,r){const a={};r&4&&(a.onSkip=l[19]),e.$set(a)},i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Js(s){let e,t;return e=new Ms({props:{onNext:s[16],onBack:s[5],onSkip:s[17]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p(l,r){const a={};r&4&&(a.onSkip=l[17]),e.$set(a)},i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Ks(s){let e,t;return e=new zs({props:{onNext:s[15],onBack:s[5]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p:pe,i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Xs(s){let e,t;return e=new vs({props:{onNext:s[13],onBack:s[5],onSkip:s[14]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p(l,r){const a={};r&4&&(a.onSkip=l[14]),e.$set(a)},i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function Zs(s){let e,t;return e=new cs({props:{onNext:s[11],onSkip:s[12]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,r){We(e,l,r),t=!0},p(l,r){const a={};r&4&&(a.onSkip=l[12]),e.$set(a)},i(l){t||(Ne(e.$$.fragment,l),t=!0)},o(l){Ve(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function $t(s){let e,t;return{c(){e=p("div"),t=L(s[1]),this.h()},l(l){e=f(l,"DIV",{class:!0});var r=C(e);t=P(r,s[1]),r.forEach(_),this.h()},h(){o(e,"class","error-message svelte-az99be")},m(l,r){A(l,e,r),n(e,t)},p(l,r){r&2&&se(t,l[1])},d(l){l&&_(e)}}}function es(s){let e,t,l,r="Skip Onboarding?",a,i,d="MetaHuman OS works best with your personal data to create an accurate dual consciousness emulation.",h,g,u='<h3 class="svelte-az99be">You can input data later through:</h3> <div class="utility-list svelte-az99be"><div class="utility-item svelte-az99be"><div class="utility-icon svelte-az99be">üìù</div> <div class="utility-info svelte-az99be"><strong class="svelte-az99be">Memory Capture</strong> <ul class="svelte-az99be"><li class="svelte-az99be">Chat interface (main view)</li> <li class="svelte-az99be">CLI: <code class="svelte-az99be">./bin/mh capture &quot;text&quot;</code></li> <li class="svelte-az99be">API: <code class="svelte-az99be">POST /api/capture</code></li></ul></div></div> <div class="utility-item svelte-az99be"><div class="utility-icon svelte-az99be">üìÅ</div> <div class="utility-info svelte-az99be"><strong class="svelte-az99be">File Ingestion</strong> <ul class="svelte-az99be"><li class="svelte-az99be">Memory view ‚Üí Upload tab</li> <li class="svelte-az99be">CLI: <code class="svelte-az99be">./bin/mh ingest &lt;file&gt;</code></li> <li class="svelte-az99be">Drop files in: <code class="svelte-az99be">memory/inbox/</code></li></ul></div></div> <div class="utility-item svelte-az99be"><div class="utility-icon svelte-az99be">üé§</div> <div class="utility-info svelte-az99be"><strong class="svelte-az99be">Audio Upload</strong> <ul class="svelte-az99be"><li class="svelte-az99be">Audio view ‚Üí Upload tab</li> <li class="svelte-az99be">CLI: <code class="svelte-az99be">./bin/mh audio ingest &lt;file&gt;</code></li></ul></div></div> <div class="utility-item svelte-az99be"><div class="utility-icon svelte-az99be">‚úèÔ∏è</div> <div class="utility-info svelte-az99be"><strong class="svelte-az99be">Manual Persona Editing</strong> <ul class="svelte-az99be"><li class="svelte-az99be">System settings ‚Üí Persona Editor</li> <li class="svelte-az99be">Direct JSON: <code class="svelte-az99be">profiles/{username}/persona/core.json</code></li></ul></div></div></div> <p class="user-guide-link svelte-az99be">üìñ For detailed guidance, see the <a href="/user-guide" target="_blank" class="svelte-az99be">User Guide</a></p>',m,c,v,b="Continue Onboarding",y,k,E="Skip to App",T,D;return{c(){e=p("div"),t=p("div"),l=p("h2"),l.textContent=r,a=z(),i=p("p"),i.textContent=d,h=z(),g=p("div"),g.innerHTML=u,m=z(),c=p("div"),v=p("button"),v.textContent=b,y=z(),k=p("button"),k.textContent=E,this.h()},l(q){e=f(q,"DIV",{class:!0});var S=C(e);t=f(S,"DIV",{class:!0});var V=C(t);l=f(V,"H2",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1ch9a0f"&&(l.textContent=r),a=I(V),i=f(V,"P",{class:!0,"data-svelte-h":!0}),M(i)!=="svelte-212e6n"&&(i.textContent=d),h=I(V),g=f(V,"DIV",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-zp1rnf"&&(g.innerHTML=u),m=I(V),c=f(V,"DIV",{class:!0});var w=C(c);v=f(w,"BUTTON",{class:!0,"data-svelte-h":!0}),M(v)!=="svelte-p0jkin"&&(v.textContent=b),y=I(w),k=f(w,"BUTTON",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-961iqh"&&(k.textContent=E),w.forEach(_),V.forEach(_),S.forEach(_),this.h()},h(){o(l,"class","svelte-az99be"),o(i,"class","modal-description svelte-az99be"),o(g,"class","modal-section svelte-az99be"),o(v,"class","btn btn-secondary svelte-az99be"),o(k,"class","btn btn-ghost svelte-az99be"),o(c,"class","modal-actions svelte-az99be"),o(t,"class","modal-content svelte-az99be"),o(e,"class","modal-backdrop svelte-az99be")},m(q,S){A(q,e,S),n(e,t),n(t,l),n(t,a),n(t,i),n(t,h),n(t,g),n(t,m),n(t,c),n(c,v),n(c,y),n(c,k),T||(D=[G(v,"click",s[20]),G(k,"click",s[21]),G(t,"click",as(s[10])),G(e,"click",s[22])],T=!0)},p:pe,d(q){q&&_(e),T=!1,He(D)}}}function $s(s){let e,t,l,r,a,i,d,h,g,u,m,c,v,b,y,k;const E=[Zs,Xs,Ks,Js,Rs,Qs],T=[];function D(V,w){return V[0]===1?0:V[0]===2?1:V[0]===3?2:V[0]===4?3:V[0]===5?4:V[0]===6?5:-1}~(c=D(s))&&(v=T[c]=E[c](s));let q=s[1]&&$t(s),S=s[2]&&es(s);return{c(){e=p("div"),t=p("div"),l=p("div"),r=p("div"),a=z(),i=p("div"),d=L("Step "),h=L(s[0]),g=L(" of 6"),u=z(),m=p("div"),v&&v.c(),b=z(),q&&q.c(),y=z(),S&&S.c(),this.h()},l(V){e=f(V,"DIV",{class:!0});var w=C(e);t=f(w,"DIV",{class:!0});var N=C(t);l=f(N,"DIV",{class:!0});var O=C(l);r=f(O,"DIV",{class:!0,style:!0}),C(r).forEach(_),O.forEach(_),a=I(N),i=f(N,"DIV",{class:!0});var B=C(i);d=P(B,"Step "),h=P(B,s[0]),g=P(B," of 6"),B.forEach(_),u=I(N),m=f(N,"DIV",{class:!0});var x=C(m);v&&v.l(x),x.forEach(_),b=I(N),q&&q.l(N),N.forEach(_),y=I(w),S&&S.l(w),w.forEach(_),this.h()},h(){o(r,"class","progress-fill svelte-az99be"),Be(r,"width",s[4]+"%"),o(l,"class","progress-bar svelte-az99be"),o(i,"class","progress-text svelte-az99be"),o(m,"class","step-content svelte-az99be"),o(t,"class","onboarding-container svelte-az99be"),o(e,"class","onboarding-backdrop svelte-az99be")},m(V,w){A(V,e,w),n(e,t),n(t,l),n(l,r),n(t,a),n(t,i),n(i,d),n(i,h),n(i,g),n(t,u),n(t,m),~c&&T[c].m(m,null),n(t,b),q&&q.m(t,null),n(e,y),S&&S.m(e,null),k=!0},p(V,[w]){(!k||w&16)&&Be(r,"width",V[4]+"%"),(!k||w&1)&&se(h,V[0]);let N=c;c=D(V),c===N?~c&&T[c].p(V,w):(v&&(ss(),Ve(T[N],1,1,()=>{T[N]=null}),ls()),~c?(v=T[c],v?v.p(V,w):(v=T[c]=E[c](V),v.c()),Ne(v,1),v.m(m,null)):v=null),V[1]?q?q.p(V,w):(q=$t(V),q.c(),q.m(t,null)):q&&(q.d(1),q=null),V[2]?S?S.p(V,w):(S=es(V),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},i(V){k||(Ne(v),k=!0)},o(V){Ve(v),k=!1},d(V){V&&_(e),~c&&T[c].d(),q&&q.d(),S&&S.d()}}}function el(s,e,t){let l,{onComplete:r}=e,a=1,i=!1,d="",h=!1,g=null;async function u(){try{i=!0;const F=await ke("/api/onboarding/state");if(F.ok){const U=await F.json();t(3,g=U.state),g&&t(0,a=g.currentStep||1)}}catch(F){console.error("Failed to load onboarding state:",F),t(1,d="Failed to load progress")}finally{i=!1}}async function m(F){try{const U=await ke("/api/onboarding/state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:F})});if(U.ok){const Q=await U.json();t(3,g=Q.state)}}catch(U){console.error("Failed to update state:",U)}}async function c(){a<6&&(t(0,a++,a),await m({currentStep:a}))}function v(){a>1&&t(0,a--,a)}async function b(F){if(!g)return;const U={stepsCompleted:{...g.stepsCompleted,[F]:!0}};await m(U),await c()}async function y(){try{i=!0,(await ke("/api/onboarding/complete",{method:"POST"})).ok?r():t(1,d="Failed to complete onboarding")}catch(F){console.error("Failed to complete onboarding:",F),t(1,d="Failed to complete onboarding")}finally{i=!1}}async function k(F){try{i=!0,(await ke("/api/onboarding/skip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:F})})).ok?r():t(1,d="Failed to skip onboarding")}catch(U){console.error("Failed to skip onboarding:",U),t(1,d="Failed to skip onboarding")}finally{i=!1,t(2,h=!1)}}ct(()=>{u()});function E(F){is.call(this,s,F)}const T=()=>b("welcome"),D=()=>t(2,h=!0),q=()=>b("identity"),S=()=>t(2,h=!0),V=()=>b("personality"),w=()=>b("context"),N=()=>t(2,h=!0),O=()=>b("goals"),B=()=>t(2,h=!0),x=()=>t(2,h=!1),ee=()=>k("user_declined"),j=()=>t(2,h=!1);return s.$$set=F=>{"onComplete"in F&&t(9,r=F.onComplete)},s.$$.update=()=>{s.$$.dirty&1&&t(4,l=(a-1)/5*100)},[a,d,h,g,l,v,b,y,k,r,E,T,D,q,S,V,w,N,O,B,x,ee,j]}class sl extends Le{constructor(e){super(),Oe(this,e,el,$s,Ae,{onComplete:9})}}export{sl as default};
