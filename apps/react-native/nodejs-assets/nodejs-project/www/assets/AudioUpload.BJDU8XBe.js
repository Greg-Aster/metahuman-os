import{S as re,i as oe,s as ae,n as K,d as u,a as A,b as a,x as j,c as t,e as y,f as m,g as J,h as D,j as E,k as V,O as $,p as z,U as T,q as S,V as U,t as F,l as ne,R as ce,v as ue}from"./api-config.B-uR5Kyo.js";function fe(n){let e,l,s,o,i,d,_,c,r,v=n[3].name+"",g,I,w,k=ie(n[3].size)+"",h,q,f,p,b,R,C,P=n[0]?"Uploading...":"Upload & Transcribe",O,W,Q;return{c(){e=E("div"),l=E("div"),s=U("svg"),o=U("path"),i=U("circle"),d=U("circle"),_=V(),c=E("div"),r=E("div"),g=F(v),I=V(),w=E("div"),h=F(k),q=V(),f=E("div"),p=E("button"),b=F("Clear"),R=V(),C=E("button"),O=F(P),this.h()},l(M){e=y(M,"DIV",{class:!0});var B=m(e);l=y(B,"DIV",{class:!0});var H=m(l);s=T(H,"svg",{class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var L=m(s);o=T(L,"path",{d:!0}),m(o).forEach(u),i=T(L,"circle",{cx:!0,cy:!0,r:!0}),m(i).forEach(u),d=T(L,"circle",{cx:!0,cy:!0,r:!0}),m(d).forEach(u),L.forEach(u),_=D(H),c=y(H,"DIV",{class:!0});var N=m(c);r=y(N,"DIV",{class:!0});var X=m(r);g=S(X,v),X.forEach(u),I=D(N),w=y(N,"DIV",{class:!0});var Y=m(w);h=S(Y,k),Y.forEach(u),N.forEach(u),H.forEach(u),q=D(B),f=y(B,"DIV",{class:!0});var G=m(f);p=y(G,"BUTTON",{class:!0});var Z=m(p);b=S(Z,"Clear"),Z.forEach(u),R=D(G),C=y(G,"BUTTON",{class:!0});var x=m(C);O=S(x,P),x.forEach(u),G.forEach(u),B.forEach(u),this.h()},h(){t(o,"d","M9 18V5l12-2v13"),t(i,"cx","6"),t(i,"cy","18"),t(i,"r","3"),t(d,"cx","18"),t(d,"cy","16"),t(d,"r","3"),t(s,"class","file-icon svelte-v1nl1q"),t(s,"viewBox","0 0 24 24"),t(s,"fill","none"),t(s,"stroke","currentColor"),t(s,"stroke-width","2"),t(r,"class","file-name svelte-v1nl1q"),t(w,"class","file-size svelte-v1nl1q"),t(c,"class","file-details svelte-v1nl1q"),t(l,"class","file-info svelte-v1nl1q"),t(p,"class","clear-btn svelte-v1nl1q"),p.disabled=n[0],t(C,"class","upload-btn svelte-v1nl1q"),C.disabled=n[0],t(f,"class","action-buttons svelte-v1nl1q"),t(e,"class","file-preview svelte-v1nl1q")},m(M,B){A(M,e,B),a(e,l),a(l,s),a(s,o),a(s,i),a(s,d),a(l,_),a(l,c),a(c,r),a(r,g),a(c,I),a(c,w),a(w,h),a(e,q),a(e,f),a(f,p),a(p,b),a(f,R),a(f,C),a(C,O),W||(Q=[j(p,"click",n[10]),j(C,"click",n[8])],W=!0)},p(M,B){B&8&&v!==(v=M[3].name+"")&&z(g,v),B&8&&k!==(k=ie(M[3].size)+"")&&z(h,k),B&1&&(p.disabled=M[0]),B&1&&P!==(P=M[0]?"Uploading...":"Upload & Transcribe")&&z(O,P),B&1&&(C.disabled=M[0])},d(M){M&&u(e),W=!1,ue(Q)}}}function de(n){let e,l=`<svg class="icon svelte-v1nl1q" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
      Select Audio File`,s,o,i="Supported: MP3, WAV, M4A, OGG, WebM, FLAC (max 100MB)",d,_;return{c(){e=E("button"),e.innerHTML=l,s=V(),o=E("p"),o.textContent=i,this.h()},l(c){e=y(c,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-18cgz1n"&&(e.innerHTML=l),s=D(c),o=y(c,"P",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-au6vq8"&&(o.textContent=i),this.h()},h(){t(e,"class","select-btn svelte-v1nl1q"),t(o,"class","formats svelte-v1nl1q")},m(c,r){A(c,e,r),A(c,s,r),A(c,o,r),d||(_=j(e,"click",n[9]),d=!0)},p:K,d(c){c&&(u(e),u(s),u(o)),d=!1,_()}}}function ee(n){let e,l;return{c(){e=E("div"),l=E("div"),this.h()},l(s){e=y(s,"DIV",{class:!0});var o=m(e);l=y(o,"DIV",{class:!0,style:!0}),m(l).forEach(u),o.forEach(u),this.h()},h(){t(l,"class","progress-fill svelte-v1nl1q"),$(l,"width",n[1]+"%"),t(e,"class","progress-bar svelte-v1nl1q")},m(s,o){A(s,e,o),a(e,l)},p(s,o){o&2&&$(l,"width",s[1]+"%")},d(s){s&&u(e)}}}function le(n){let e,l,s,o,i,d,_,c,r=n[4]&&te(n);return{c(){e=E("div"),l=U("svg"),s=U("polyline"),o=V(),i=E("div"),d=E("div"),_=F(n[2]),c=V(),r&&r.c(),this.h()},l(v){e=y(v,"DIV",{class:!0});var g=m(e);l=T(g,"svg",{class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var I=m(l);s=T(I,"polyline",{points:!0}),m(s).forEach(u),I.forEach(u),o=D(g),i=y(g,"DIV",{class:!0});var w=m(i);d=y(w,"DIV",{});var k=m(d);_=S(k,n[2]),k.forEach(u),c=D(w),r&&r.l(w),w.forEach(u),g.forEach(u),this.h()},h(){t(s,"points","20 6 9 17 4 12"),t(l,"class","status-icon svelte-v1nl1q"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(i,"class","status-text svelte-v1nl1q"),t(e,"class","status success svelte-v1nl1q")},m(v,g){A(v,e,g),a(e,l),a(l,s),a(e,o),a(e,i),a(i,d),a(d,_),a(i,c),r&&r.m(i,null)},p(v,g){g&4&&z(_,v[2]),v[4]?r?r.p(v,g):(r=te(v),r.c(),r.m(i,null)):r&&(r.d(1),r=null)},d(v){v&&u(e),r&&r.d()}}}function te(n){let e,l,s;return{c(){e=E("div"),l=F("Audio ID: "),s=F(n[4]),this.h()},l(o){e=y(o,"DIV",{class:!0});var i=m(e);l=S(i,"Audio ID: "),s=S(i,n[4]),i.forEach(u),this.h()},h(){t(e,"class","audio-id svelte-v1nl1q")},m(o,i){A(o,e,i),a(e,l),a(e,s)},p(o,i){i&16&&z(s,o[4])},d(o){o&&u(e)}}}function se(n){let e,l,s,o,i,d,_,c;return{c(){e=E("div"),l=U("svg"),s=U("circle"),o=U("line"),i=U("line"),d=V(),_=E("span"),c=F(n[5]),this.h()},l(r){e=y(r,"DIV",{class:!0});var v=m(e);l=T(v,"svg",{class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var g=m(l);s=T(g,"circle",{cx:!0,cy:!0,r:!0}),m(s).forEach(u),o=T(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),m(o).forEach(u),i=T(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),m(i).forEach(u),g.forEach(u),d=D(v),_=y(v,"SPAN",{});var I=m(_);c=S(I,n[5]),I.forEach(u),v.forEach(u),this.h()},h(){t(s,"cx","12"),t(s,"cy","12"),t(s,"r","10"),t(o,"x1","15"),t(o,"y1","9"),t(o,"x2","9"),t(o,"y2","15"),t(i,"x1","9"),t(i,"y1","9"),t(i,"x2","15"),t(i,"y2","15"),t(l,"class","status-icon svelte-v1nl1q"),t(l,"viewBox","0 0 24 24"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"stroke-width","2"),t(e,"class","status error svelte-v1nl1q")},m(r,v){A(r,e,v),a(e,l),a(l,s),a(l,o),a(l,i),a(e,d),a(e,_),a(_,c)},p(r,v){v&32&&z(c,r[5])},d(r){r&&u(e)}}}function ve(n){let e,l,s='<h3 class="svelte-v1nl1q">Upload Audio Recording</h3> <p class="subtitle svelte-v1nl1q">Voice notes, meetings, lectures - automatically transcribed and organized</p>',o,i,d,_,c,r,v,g;function I(p,b){return p[3]?fe:de}let w=I(n),k=w(n),h=n[0]&&ee(n),q=n[2]&&le(n),f=n[5]&&se(n);return{c(){e=E("div"),l=E("div"),l.innerHTML=s,o=V(),i=E("input"),d=V(),k.c(),_=V(),h&&h.c(),c=V(),q&&q.c(),r=V(),f&&f.c(),this.h()},l(p){e=y(p,"DIV",{class:!0});var b=m(e);l=y(b,"DIV",{class:!0,"data-svelte-h":!0}),J(l)!=="svelte-2rqw06"&&(l.innerHTML=s),o=D(b),i=y(b,"INPUT",{type:!0,accept:!0,class:!0}),d=D(b),k.l(b),_=D(b),h&&h.l(b),c=D(b),q&&q.l(b),r=D(b),f&&f.l(b),b.forEach(u),this.h()},h(){t(l,"class","upload-header svelte-v1nl1q"),t(i,"type","file"),t(i,"accept","audio/mp3,audio/wav,audio/m4a,audio/ogg,audio/webm,audio/flac"),t(i,"class","file-input svelte-v1nl1q"),t(e,"class","audio-upload svelte-v1nl1q")},m(p,b){A(p,e,b),a(e,l),a(e,o),a(e,i),n[11](i),a(e,d),k.m(e,null),a(e,_),h&&h.m(e,null),a(e,c),q&&q.m(e,null),a(e,r),f&&f.m(e,null),v||(g=j(i,"change",n[7]),v=!0)},p(p,[b]){w===(w=I(p))&&k?k.p(p,b):(k.d(1),k=w(p),k&&(k.c(),k.m(e,_))),p[0]?h?h.p(p,b):(h=ee(p),h.c(),h.m(e,c)):h&&(h.d(1),h=null),p[2]?q?q.p(p,b):(q=le(p),q.c(),q.m(e,r)):q&&(q.d(1),q=null),p[5]?f?f.p(p,b):(f=se(p),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:K,o:K,d(p){p&&u(e),n[11](null),k.d(),h&&h.d(),q&&q.d(),f&&f.d(),v=!1,g()}}}function ie(n){if(n===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(n)/Math.log(e));return Math.round(n/Math.pow(e,s)*100)/100+" "+l[s]}function he(n,e,l){let s=!1,o=0,i="",d=null,_="",c="",r;function v(h){const f=h.target.files;f&&f.length>0&&(l(3,d=f[0]),l(5,c=""),l(2,i=""),l(4,_=""))}async function g(){if(!d){l(5,c="Please select an audio file");return}l(0,s=!0),l(1,o=0),l(2,i="Uploading..."),l(5,c="");try{const h=new FormData;h.append("audio",d);const f=await(await ne("/api/audio/upload",{method:"POST",body:h})).json();f.success?(l(4,_=f.audioId),l(2,i="Upload successful! Transcription will begin automatically."),l(1,o=100),l(3,d=null),r&&l(6,r.value="",r)):(l(5,c=f.error||"Upload failed"),l(2,i=""))}catch(h){l(5,c=`Upload failed: ${h.message}`),l(2,i="")}finally{l(0,s=!1)}}function I(){r?.click()}function w(){l(3,d=null),l(2,i=""),l(4,_=""),l(5,c=""),r&&l(6,r.value="",r)}function k(h){ce[h?"unshift":"push"](()=>{r=h,l(6,r)})}return[s,o,i,d,_,c,r,v,g,I,w,k]}class _e extends re{constructor(e){super(),oe(this,e,he,ve,ae,{})}}export{_e as default};
