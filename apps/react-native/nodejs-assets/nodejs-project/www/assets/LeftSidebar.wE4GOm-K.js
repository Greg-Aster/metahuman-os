import{S as Et,i as Tt,s as Lt,r as te,d as b,u as ve,E as Ot,F as Mt,G as Bt,a as O,b as f,H as It,c as v,e as C,f as T,h as N,g as H,I as Vt,j as S,k as E,J as Dt,K as Ae,o as Ft,L as I,x as oe,q as F,t as R,l as ue,D as Oe,p as Z,n as Te,v as Rt,M as Pe,N as me}from"./api-config.B-uR5Kyo.js";import{y as we,a as Me,s as Be,b as Ie}from"./navigation.DpIJm6IG.js";import{c as Ne,i as Ut}from"./security-policy.Bh98pxWs.js";import{l as Ee,p as Ht}from"./approvals.D-B7mdIx.js";import{S as qt}from"./SyncStatus.DemBWcbd.js";import"./index.PToQ82vo.js";import"./server-health.RMTlZIDp.js";import"./local-memory.DgMLNaVQ.js";function Ve(s,e,l){const t=s.slice();return t[64]=e[l][0],t[65]=e[l][1],t}function De(s,e,l){const t=s.slice();t[68]=e[l];const n=!t[68].roles||t[68].roles.includes(t[64]);t[69]=n;const r=t[5][t[64]]?.model===t[68].model;return t[70]=r,t}function Fe(s,e,l){const t=s.slice();t[68]=e[l];const n=t[5][t[64]]?.model===t[68].model;return t[70]=n,t}function Re(s,e,l){const t=s.slice();t[68]=e[l];const n=t[5][t[64]]?.model===t[68].model;return t[70]=n,t}function Ue(s,e,l){const t=s.slice();return t[77]=e[l],t}function He(s,e,l){const t=s.slice();t[68]=e[l];const n=t[5][t[64]]?.model===t[68].model;return t[70]=n,t}function qe(s,e,l){const t=s.slice();return t[82]=e[l],t}function Ye(s){let e,l;return{c(){e=S("span"),l=R(s[15]),this.h()},l(t){e=C(t,"SPAN",{class:!0});var n=T(e);l=F(n,s[15]),n.forEach(b),this.h()},h(){v(e,"class","approval-badge svelte-1jxibph")},m(t,n){O(t,e,n),f(e,l)},p(t,n){n[0]&32768&&Z(l,t[15])},d(t){t&&b(e)}}}function Yt(s){let e,l=s[82].description+"",t;return{c(){e=S("div"),t=R(l),this.h()},l(n){e=C(n,"DIV",{class:!0});var r=T(e);t=F(r,l),r.forEach(b),this.h()},h(){v(e,"class","menu-description")},m(n,r){O(n,e,r),f(e,t)},p:Te,d(n){n&&b(e)}}}function Je(s){let e,l,t=s[82].icon+"",n,r,a,o,d=s[82].label+"",i,p,h,j,_,g,k=s[82].id==="dashboard"&&s[15]>0&&Ye(s),u=s[82].description&&Yt(s);function m(){return s[28](s[82])}return{c(){e=S("button"),l=S("span"),n=R(t),r=E(),a=S("div"),o=S("div"),i=R(d),p=E(),k&&k.c(),h=E(),u&&u.c(),j=E(),this.h()},l(w){e=C(w,"BUTTON",{class:!0,title:!0});var y=T(e);l=C(y,"SPAN",{class:!0});var P=T(l);n=F(P,t),P.forEach(b),r=N(y),a=C(y,"DIV",{class:!0});var V=T(a);o=C(V,"DIV",{class:!0});var B=T(o);i=F(B,d),p=N(B),k&&k.l(B),B.forEach(b),h=N(V),u&&u.l(V),V.forEach(b),j=N(y),y.forEach(b),this.h()},h(){v(l,"class","menu-icon"),v(o,"class","menu-label"),v(a,"class","menu-text"),v(e,"class","menu-item"),v(e,"title",s[82].description),I(e,"active",s[14]===s[82].id)},m(w,y){O(w,e,y),f(e,l),f(l,n),f(e,r),f(e,a),f(a,o),f(o,i),f(o,p),k&&k.m(o,null),f(a,h),u&&u.m(a,null),f(e,j),_||(g=oe(e,"click",m),_=!0)},p(w,y){s=w,s[82].id==="dashboard"&&s[15]>0?k?k.p(s,y):(k=Ye(s),k.c(),k.m(o,null)):k&&(k.d(1),k=null),s[82].description&&u.p(s,y),y[0]&81920&&I(e,"active",s[14]===s[82].id)},d(w){w&&b(e),k&&k.d(),u&&u.d(),_=!1,g()}}}function Jt(s){let e,l,t,n,r,a,o,d,i,p,h,j,_,g,k="Trust:",u,m,w,y,P,V,B,K,re="Persona:",ne,de,se,ce=(s[0]==="inactive"?"inactive":s[1][s[0]]?.name||s[0])+"",he,pe,$,be,J=s[13].ollama.available&&ze(s),z=s[13].vllm.available&&We(s),W=s[13].runpod.available&&Ge(s),G=s[13].bigBrother.available&&Ke(s),Y=s[13].remoteServer.available&&Qe(s),q=!s[13].ollama.available&&!s[13].vllm.available&&!s[13].runpod.available&&Xe(),Q=s[11]&&s[13].vllm.active&&Ze(s),X=s[6]&&xe(s);function Se(L,D){return L[4]?Xt:Qt}let _e=Se(s),le=_e(s);return{c(){e=S("div"),l=S("div"),J&&J.c(),t=E(),z&&z.c(),n=E(),W&&W.c(),r=E(),G&&G.c(),a=E(),Y&&Y.c(),o=E(),q&&q.c(),d=E(),Q&&Q.c(),i=E(),X&&X.c(),p=E(),h=S("div"),j=E(),_=S("div"),g=S("span"),g.textContent=k,u=E(),m=S("span"),w=S("button"),le.c(),V=E(),B=S("div"),K=S("span"),K.textContent=re,ne=E(),de=S("span"),se=S("button"),he=R(ce),this.h()},l(L){e=C(L,"DIV",{class:!0});var D=T(e);l=C(D,"DIV",{class:!0});var ee=T(l);J&&J.l(ee),t=N(ee),z&&z.l(ee),n=N(ee),W&&W.l(ee),r=N(ee),G&&G.l(ee),a=N(ee),Y&&Y.l(ee),o=N(ee),q&&q.l(ee),ee.forEach(b),d=N(D),Q&&Q.l(D),i=N(D),X&&X.l(D),p=N(D),h=C(D,"DIV",{class:!0}),T(h).forEach(b),j=N(D),_=C(D,"DIV",{class:!0});var ae=T(_);g=C(ae,"SPAN",{class:!0,"data-svelte-h":!0}),H(g)!=="svelte-8qhk02"&&(g.textContent=k),u=N(ae),m=C(ae,"SPAN",{class:!0});var ye=T(m);w=C(ye,"BUTTON",{class:!0,title:!0});var ge=T(w);le.l(ge),ge.forEach(b),ye.forEach(b),ae.forEach(b),V=N(D),B=C(D,"DIV",{class:!0});var ke=T(B);K=C(ke,"SPAN",{class:!0,"data-svelte-h":!0}),H(K)!=="svelte-rq6fkw"&&(K.textContent=re),ne=N(ke),de=C(ke,"SPAN",{class:!0});var Ce=T(de);se=C(Ce,"BUTTON",{class:!0,title:!0});var je=T(se);he=F(je,ce),je.forEach(b),Ce.forEach(b),ke.forEach(b),D.forEach(b),this.h()},h(){v(l,"class","backend-icons svelte-1jxibph"),v(h,"class","status-sep svelte-1jxibph"),v(g,"class","status-label"),v(w,"class",y="trust-badge clickable trust-level-"+(s[4]?"yolo":s[2].trustLevel||"observe")+" svelte-1jxibph"),v(w,"title",P="Click to cycle trust level: "+(s[2].trustLevel||"observe")+(s[4]?" + YOLO":"")+"\\nProgression: observe ‚Üí suggest ‚Üí supervised_auto ‚Üí bounded_auto ‚Üí adaptive_auto ‚Üí YOLO"),v(m,"class","status-value"),v(_,"class","status-row"),v(K,"class","status-label"),v(se,"class",pe="persona-badge persona-facet-"+s[0]+" clickable svelte-1jxibph"),v(se,"title",s[7]),v(de,"class","status-value"),v(B,"class","status-row"),v(e,"class","status-info svelte-1jxibph")},m(L,D){O(L,e,D),f(e,l),J&&J.m(l,null),f(l,t),z&&z.m(l,null),f(l,n),W&&W.m(l,null),f(l,r),G&&G.m(l,null),f(l,a),Y&&Y.m(l,null),f(l,o),q&&q.m(l,null),f(e,d),Q&&Q.m(e,null),f(e,i),X&&X.m(e,null),f(e,p),f(e,h),f(e,j),f(e,_),f(_,g),f(_,u),f(_,m),f(m,w),le.m(w,null),f(e,V),f(e,B),f(B,K),f(B,ne),f(B,de),f(de,se),f(se,he),$||(be=[oe(w,"click",s[18]),oe(se,"click",s[19])],$=!0)},p(L,D){L[13].ollama.available?J?J.p(L,D):(J=ze(L),J.c(),J.m(l,t)):J&&(J.d(1),J=null),L[13].vllm.available?z?z.p(L,D):(z=We(L),z.c(),z.m(l,n)):z&&(z.d(1),z=null),L[13].runpod.available?W?W.p(L,D):(W=Ge(L),W.c(),W.m(l,r)):W&&(W.d(1),W=null),L[13].bigBrother.available?G?G.p(L,D):(G=Ke(L),G.c(),G.m(l,a)):G&&(G.d(1),G=null),L[13].remoteServer.available?Y?Y.p(L,D):(Y=Qe(L),Y.c(),Y.m(l,o)):Y&&(Y.d(1),Y=null),!L[13].ollama.available&&!L[13].vllm.available&&!L[13].runpod.available?q||(q=Xe(),q.c(),q.m(l,null)):q&&(q.d(1),q=null),L[11]&&L[13].vllm.active?Q?Q.p(L,D):(Q=Ze(L),Q.c(),Q.m(e,i)):Q&&(Q.d(1),Q=null),L[6]?X?X.p(L,D):(X=xe(L),X.c(),X.m(e,p)):X&&(X.d(1),X=null),_e===(_e=Se(L))&&le?le.p(L,D):(le.d(1),le=_e(L),le&&(le.c(),le.m(w,null))),D[0]&20&&y!==(y="trust-badge clickable trust-level-"+(L[4]?"yolo":L[2].trustLevel||"observe")+" svelte-1jxibph")&&v(w,"class",y),D[0]&20&&P!==(P="Click to cycle trust level: "+(L[2].trustLevel||"observe")+(L[4]?" + YOLO":"")+"\\nProgression: observe ‚Üí suggest ‚Üí supervised_auto ‚Üí bounded_auto ‚Üí adaptive_auto ‚Üí YOLO")&&v(w,"title",P),D[0]&3&&ce!==(ce=(L[0]==="inactive"?"inactive":L[1][L[0]]?.name||L[0])+"")&&Z(he,ce),D[0]&1&&pe!==(pe="persona-badge persona-facet-"+L[0]+" clickable svelte-1jxibph")&&v(se,"class",pe),D[0]&128&&v(se,"title",L[7])},d(L){L&&b(e),J&&J.d(),z&&z.d(),W&&W.d(),G&&G.d(),Y&&Y.d(),q&&q.d(),Q&&Q.d(),X&&X.d(),le.d(),$=!1,Rt(be)}}}function zt(s){let e,l="Loading...";return{c(){e=S("div"),e.textContent=l,this.h()},l(t){e=C(t,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-oya2k4"&&(e.textContent=l),this.h()},h(){v(e,"class","widget-loading svelte-1jxibph")},m(t,n){O(t,e,n)},p:Te,d(t){t&&b(e)}}}function ze(s){let e,l;return{c(){e=S("span"),l=R("ü¶ô"),this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0});var n=T(e);l=F(n,"ü¶ô"),n.forEach(b),this.h()},h(){v(e,"class","backend-icon svelte-1jxibph"),v(e,"title",s[20]()),I(e,"running",s[13].ollama.running),I(e,"active",s[13].ollama.active),I(e,"available",s[13].ollama.available&&!s[13].ollama.running)},m(t,n){O(t,e,n),f(e,l)},p(t,n){n[0]&8192&&I(e,"running",t[13].ollama.running),n[0]&8192&&I(e,"active",t[13].ollama.active),n[0]&8192&&I(e,"available",t[13].ollama.available&&!t[13].ollama.running)},d(t){t&&b(e)}}}function We(s){let e,l;return{c(){e=S("span"),l=R("‚ö°"),this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0});var n=T(e);l=F(n,"‚ö°"),n.forEach(b),this.h()},h(){v(e,"class","backend-icon svelte-1jxibph"),v(e,"title",s[21]()),I(e,"running",s[13].vllm.running),I(e,"active",s[13].vllm.active),I(e,"available",s[13].vllm.available&&!s[13].vllm.running)},m(t,n){O(t,e,n),f(e,l)},p(t,n){n[0]&8192&&I(e,"running",t[13].vllm.running),n[0]&8192&&I(e,"active",t[13].vllm.active),n[0]&8192&&I(e,"available",t[13].vllm.available&&!t[13].vllm.running)},d(t){t&&b(e)}}}function Ge(s){let e,l;return{c(){e=S("span"),l=R("‚òÅÔ∏è"),this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0});var n=T(e);l=F(n,"‚òÅÔ∏è"),n.forEach(b),this.h()},h(){v(e,"class","backend-icon cloud svelte-1jxibph"),v(e,"title",s[22]()),I(e,"configured",s[13].runpod.configured),I(e,"active",s[13].runpod.active)},m(t,n){O(t,e,n),f(e,l)},p(t,n){n[0]&8192&&I(e,"configured",t[13].runpod.configured),n[0]&8192&&I(e,"active",t[13].runpod.active)},d(t){t&&b(e)}}}function Ke(s){let e,l;return{c(){e=S("span"),l=R("ü§ñ"),this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0});var n=T(e);l=F(n,"ü§ñ"),n.forEach(b),this.h()},h(){v(e,"class","backend-icon bigbrother svelte-1jxibph"),v(e,"title",s[23]()),I(e,"enabled",s[13].bigBrother.enabled),I(e,"disabled",!s[13].bigBrother.enabled)},m(t,n){O(t,e,n),f(e,l)},p(t,n){n[0]&8192&&I(e,"enabled",t[13].bigBrother.enabled),n[0]&8192&&I(e,"disabled",!t[13].bigBrother.enabled)},d(t){t&&b(e)}}}function Qe(s){let e,l;return{c(){e=S("span"),l=R("üåê"),this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0});var n=T(e);l=F(n,"üåê"),n.forEach(b),this.h()},h(){v(e,"class","backend-icon remote-server svelte-1jxibph"),v(e,"title",s[24]()),I(e,"configured",s[13].remoteServer.configured)},m(t,n){O(t,e,n),f(e,l)},p(t,n){n[0]&8192&&I(e,"configured",t[13].remoteServer.configured)},d(t){t&&b(e)}}}function Xe(s){let e,l="‚ùå";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),H(e)!=="svelte-jrww6h"&&(e.textContent=l),this.h()},h(){v(e,"class","backend-icon offline svelte-1jxibph"),v(e,"title","No backends configured")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function Ze(s){let e,l,t=s[11].name+"",n,r,a=s[11].locked&&$e();return{c(){e=S("div"),l=S("span"),n=R(t),r=E(),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var d=T(e);l=C(d,"SPAN",{class:!0});var i=T(l);n=F(i,t),r=N(i),a&&a.l(i),i.forEach(b),d.forEach(b),this.h()},h(){v(l,"class","local-model-name svelte-1jxibph"),v(e,"class","vllm-model-info svelte-1jxibph")},m(o,d){O(o,e,d),f(e,l),f(l,n),f(l,r),a&&a.m(l,null)},p(o,d){d[0]&2048&&t!==(t=o[11].name+"")&&Z(n,t),o[11].locked?a||(a=$e(),a.c(),a.m(l,null)):a&&(a.d(1),a=null)},d(o){o&&b(e),a&&a.d()}}}function $e(s){let e,l="‚úì";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),H(e)!=="svelte-1aiqail"&&(e.textContent=l),this.h()},h(){v(e,"class","loaded-indicator svelte-1jxibph"),v(e,"title","Currently loaded")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function xe(s){let e,l=te(Object.entries(s[5])),t=[];for(let n=0;n<l.length;n+=1)t[n]=kt(Ve(s,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=Pe()},l(n){for(let r=0;r<t.length;r+=1)t[r].l(n);e=Pe()},m(n,r){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(n,r);O(n,e,r)},p(n,r){if(r[0]&100669216){l=te(Object.entries(n[5]));let a;for(a=0;a<l.length;a+=1){const o=Ve(n,l,a);t[a]?t[a].p(o,r):(t[a]=kt(o),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(n){n&&b(e),ve(t,n)}}}function Wt(s){let e,l=(s[65].model||"‚Äî")+"",t,n,r,a,o="‚ñº",d,i,p,h=s[65].adapters&&s[65].adapters.length>0&&et();function j(){return s[30](s[64])}return{c(){e=S("button"),t=R(l),n=E(),h&&h.c(),r=E(),a=S("span"),a.textContent=o,this.h()},l(_){e=C(_,"BUTTON",{class:!0,title:!0});var g=T(e);t=F(g,l),n=N(g),h&&h.l(g),r=N(g),a=C(g,"SPAN",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1sjytzu"&&(a.textContent=o),g.forEach(b),this.h()},h(){v(a,"class","dropdown-arrow svelte-1jxibph"),v(e,"class","role-model clickable svelte-1jxibph"),v(e,"title",d="Click to change model for "+s[64]+"\\nCurrent: "+s[65].model+(s[65].adapters&&s[65].adapters.length>0?" + adapter":""))},m(_,g){O(_,e,g),f(e,t),f(e,n),h&&h.m(e,null),f(e,r),f(e,a),i||(p=oe(e,"click",me(j)),i=!0)},p(_,g){s=_,g[0]&32&&l!==(l=(s[65].model||"‚Äî")+"")&&Z(t,l),s[65].adapters&&s[65].adapters.length>0?h||(h=et(),h.c(),h.m(e,r)):h&&(h.d(1),h=null),g[0]&32&&d!==(d="Click to change model for "+s[64]+"\\nCurrent: "+s[65].model+(s[65].adapters&&s[65].adapters.length>0?" + adapter":""))&&v(e,"title",d)},d(_){_&&b(e),h&&h.d(),i=!1,p()}}}function Gt(s){let e,l,t;return{c(){e=S("span"),l=R("error"),this.h()},l(n){e=C(n,"SPAN",{class:!0,title:!0});var r=T(e);l=F(r,"error"),r.forEach(b),this.h()},h(){v(e,"class","role-model error svelte-1jxibph"),v(e,"title",t=s[65].error)},m(n,r){O(n,e,r),f(e,l)},p(n,r){r[0]&32&&t!==(t=n[65].error)&&v(e,"title",t)},d(n){n&&b(e)}}}function Kt(s){let e,l,t,n="‚ñº",r,a,o;function d(){return s[29](s[64])}return{c(){e=S("button"),l=R(`select
                  `),t=S("span"),t.textContent=n,this.h()},l(i){e=C(i,"BUTTON",{class:!0,title:!0});var p=T(e);l=F(p,`select
                  `),t=C(p,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1sjytzu"&&(t.textContent=n),p.forEach(b),this.h()},h(){v(t,"class","dropdown-arrow svelte-1jxibph"),v(e,"class","role-model needs-config svelte-1jxibph"),v(e,"title",r=(s[65].unavailableReason||"Model unavailable")+" - Click to select an available model")},m(i,p){O(i,e,p),f(e,l),f(e,t),a||(o=oe(e,"click",me(d)),a=!0)},p(i,p){s=i,p[0]&32&&r!==(r=(s[65].unavailableReason||"Model unavailable")+" - Click to select an available model")&&v(e,"title",r)},d(i){i&&b(e),a=!1,o()}}}function et(s){let e,l="+LoRA";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-nbd0mh"&&(e.textContent=l),this.h()},h(){v(e,"class","adapter-indicator svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function tt(s){let e,l,t,n=s[64]+"",r,a,o,d,i,p,h=s[12].local.length>0&&lt(s),j=s[12].lora.length>0&&at(s),_=s[12].remote.length>0&&ct(s),g=s[12].bigBrother.length>0&&ut(s),k=s[10]==="ollama"&&s[12].local.length===0&&ht(s);return{c(){e=S("div"),l=S("div"),t=R("Select model for "),r=R(n),a=E(),h&&h.c(),o=E(),j&&j.c(),d=E(),_&&_.c(),i=E(),g&&g.c(),p=E(),k&&k.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var m=T(e);l=C(m,"DIV",{class:!0});var w=T(l);t=F(w,"Select model for "),r=F(w,n),w.forEach(b),a=N(m),h&&h.l(m),o=N(m),j&&j.l(m),d=N(m),_&&_.l(m),i=N(m),g&&g.l(m),p=N(m),k&&k.l(m),m.forEach(b),this.h()},h(){v(l,"class","dropdown-header svelte-1jxibph"),v(e,"class","model-dropdown categorized svelte-1jxibph")},m(u,m){O(u,e,m),f(e,l),f(l,t),f(l,r),f(e,a),h&&h.m(e,null),f(e,o),j&&j.m(e,null),f(e,d),_&&_.m(e,null),f(e,i),g&&g.m(e,null),f(e,p),k&&k.m(e,null)},p(u,m){m[0]&32&&n!==(n=u[64]+"")&&Z(r,n),u[12].local.length>0?h?h.p(u,m):(h=lt(u),h.c(),h.m(e,o)):h&&(h.d(1),h=null),u[12].lora.length>0?j?j.p(u,m):(j=at(u),j.c(),j.m(e,d)):j&&(j.d(1),j=null),u[12].remote.length>0?_?_.p(u,m):(_=ct(u),_.c(),_.m(e,i)):_&&(_.d(1),_=null),u[12].bigBrother.length>0?g?g.p(u,m):(g=ut(u),g.c(),g.m(e,p)):g&&(g.d(1),g=null),u[10]==="ollama"&&u[12].local.length===0?k?k.p(u,m):(k=ht(u),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(u){u&&b(e),h&&h.d(),j&&j.d(),_&&_.d(),g&&g.d(),k&&k.d()}}}function lt(s){let e,l,t=s[10]==="vllm"?"‚ö° vLLM":"ü¶ô Local",n,r,a=te(s[12].local),o=[];for(let d=0;d<a.length;d+=1)o[d]=nt(He(s,a,d));return{c(){e=S("div"),l=S("span"),n=R(t),r=E();for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l(d){e=C(d,"DIV",{class:!0});var i=T(e);l=C(i,"SPAN",{class:!0});var p=T(l);n=F(p,t),p.forEach(b),r=N(i);for(let h=0;h<o.length;h+=1)o[h].l(i);i.forEach(b),this.h()},h(){v(l,"class","category-label svelte-1jxibph"),v(e,"class","dropdown-category svelte-1jxibph")},m(d,i){O(d,e,i),f(e,l),f(l,n),f(e,r);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null)},p(d,i){if(i[0]&1024&&t!==(t=d[10]==="vllm"?"‚ö° vLLM":"ü¶ô Local")&&Z(n,t),i[0]&33558560){a=te(d[12].local);let p;for(p=0;p<a.length;p+=1){const h=He(d,a,p);o[p]?o[p].p(h,i):(o[p]=nt(h),o[p].c(),o[p].m(e,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=a.length}},d(d){d&&b(e),ve(o,d)}}}function st(s){let e,l="loaded";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1gx497r"&&(e.textContent=l),this.h()},h(){v(e,"class","vllm-badge svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function nt(s){let e,l,t=s[68].model+"",n,r,a,o,d,i=s[68].locked&&st();function p(){return s[31](s[64],s[68])}return{c(){e=S("button"),l=S("span"),n=R(t),r=E(),i&&i.c(),a=E(),this.h()},l(h){e=C(h,"BUTTON",{class:!0});var j=T(e);l=C(j,"SPAN",{class:!0});var _=T(l);n=F(_,t),r=N(_),i&&i.l(_),_.forEach(b),a=N(j),j.forEach(b),this.h()},h(){v(l,"class","model-name svelte-1jxibph"),v(e,"class","dropdown-item svelte-1jxibph"),I(e,"selected",s[70]),I(e,"vllm-active",s[68].locked)},m(h,j){O(h,e,j),f(e,l),f(l,n),f(l,r),i&&i.m(l,null),f(e,a),o||(d=oe(e,"click",me(p)),o=!0)},p(h,j){s=h,j[0]&4096&&t!==(t=s[68].model+"")&&Z(n,t),s[68].locked?i||(i=st(),i.c(),i.m(l,null)):i&&(i.d(1),i=null),j[0]&4128&&I(e,"selected",s[70]),j[0]&4096&&I(e,"vllm-active",s[68].locked)},d(h){h&&b(e),i&&i.d(),o=!1,d()}}}function at(s){let e,l,t="üéØ LoRA Adapters",n,r=te(s[12].lora),a=[];for(let o=0;o<r.length;o+=1)a[o]=rt(Ue(s,r,o));return{c(){e=S("div"),l=S("span"),l.textContent=t,n=E();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var d=T(e);l=C(d,"SPAN",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1f3ulub"&&(l.textContent=t),n=N(d);for(let i=0;i<a.length;i+=1)a[i].l(d);d.forEach(b),this.h()},h(){v(l,"class","category-label svelte-1jxibph"),v(e,"class","dropdown-category svelte-1jxibph")},m(o,d){O(o,e,d),f(e,l),f(e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(o,d){if(d[0]&33558560){r=te(o[12].lora);let i;for(i=0;i<r.length;i+=1){const p=Ue(o,r,i);a[i]?a[i].p(p,d):(a[i]=rt(p),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(o){o&&b(e),ve(a,o)}}}function it(s){let e,l="dual";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-155p27v"&&(e.textContent=l),this.h()},h(){v(e,"class","dual-badge svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function ot(s){let e,l=s[77].date+"",t;return{c(){e=S("span"),t=R(l),this.h()},l(n){e=C(n,"SPAN",{class:!0});var r=T(e);t=F(r,l),r.forEach(b),this.h()},h(){v(e,"class","model-desc svelte-1jxibph")},m(n,r){O(n,e,r),f(e,t)},p(n,r){r[0]&4096&&l!==(l=n[77].date+"")&&Z(t,l)},d(n){n&&b(e)}}}function rt(s){let e,l,t=s[77].name+"",n,r,a,o,d,i,p=s[77].isDualAdapter&&it(),h=s[77].date&&ot(s);function j(){return s[32](s[64],s[77])}return{c(){e=S("button"),l=S("span"),n=R(t),r=E(),p&&p.c(),a=E(),h&&h.c(),o=E(),this.h()},l(_){e=C(_,"BUTTON",{class:!0});var g=T(e);l=C(g,"SPAN",{class:!0});var k=T(l);n=F(k,t),r=N(k),p&&p.l(k),k.forEach(b),a=N(g),h&&h.l(g),o=N(g),g.forEach(b),this.h()},h(){v(l,"class","model-name svelte-1jxibph"),v(e,"class","dropdown-item svelte-1jxibph")},m(_,g){O(_,e,g),f(e,l),f(l,n),f(l,r),p&&p.m(l,null),f(e,a),h&&h.m(e,null),f(e,o),d||(i=oe(e,"click",me(j)),d=!0)},p(_,g){s=_,g[0]&4096&&t!==(t=s[77].name+"")&&Z(n,t),s[77].isDualAdapter?p||(p=it(),p.c(),p.m(l,null)):p&&(p.d(1),p=null),s[77].date?h?h.p(s,g):(h=ot(s),h.c(),h.m(e,o)):h&&(h.d(1),h=null)},d(_){_&&b(e),p&&p.d(),h&&h.d(),d=!1,i()}}}function ct(s){let e,l,t="‚òÅÔ∏è Cloud",n,r=te(s[12].remote),a=[];for(let o=0;o<r.length;o+=1)a[o]=ft(Re(s,r,o));return{c(){e=S("div"),l=S("span"),l.textContent=t,n=E();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var d=T(e);l=C(d,"SPAN",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-18cmiwz"&&(l.textContent=t),n=N(d);for(let i=0;i<a.length;i+=1)a[i].l(d);d.forEach(b),this.h()},h(){v(l,"class","category-label svelte-1jxibph"),v(e,"class","dropdown-category svelte-1jxibph")},m(o,d){O(o,e,d),f(e,l),f(e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(o,d){if(d[0]&33558560){r=te(o[12].remote);let i;for(i=0;i<r.length;i+=1){const p=Re(o,r,i);a[i]?a[i].p(p,d):(a[i]=ft(p),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(o){o&&b(e),ve(a,o)}}}function ft(s){let e,l,t=s[68].model+"",n,r,a,o="‚òÅÔ∏è",d,i,p=(s[68].provider==="runpod_serverless"?"RunPod":s[68].provider)+"",h,j,_,g;function k(){return s[33](s[64],s[68])}return{c(){e=S("button"),l=S("span"),n=R(t),r=E(),a=S("span"),a.textContent=o,d=E(),i=S("span"),h=R(p),j=E(),this.h()},l(u){e=C(u,"BUTTON",{class:!0});var m=T(e);l=C(m,"SPAN",{class:!0});var w=T(l);n=F(w,t),r=N(w),a=C(w,"SPAN",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-suq1tc"&&(a.textContent=o),w.forEach(b),d=N(m),i=C(m,"SPAN",{class:!0});var y=T(i);h=F(y,p),y.forEach(b),j=N(m),m.forEach(b),this.h()},h(){v(a,"class","cloud-indicator svelte-1jxibph"),v(l,"class","model-name svelte-1jxibph"),v(i,"class","provider-badge cloud svelte-1jxibph"),v(e,"class","dropdown-item svelte-1jxibph"),I(e,"selected",s[70])},m(u,m){O(u,e,m),f(e,l),f(l,n),f(l,r),f(l,a),f(e,d),f(e,i),f(i,h),f(e,j),_||(g=oe(e,"click",me(k)),_=!0)},p(u,m){s=u,m[0]&4096&&t!==(t=s[68].model+"")&&Z(n,t),m[0]&4096&&p!==(p=(s[68].provider==="runpod_serverless"?"RunPod":s[68].provider)+"")&&Z(h,p),m[0]&4128&&I(e,"selected",s[70])},d(u){u&&b(e),_=!1,g()}}}function ut(s){let e,l,t="üõ°Ô∏è Escalation",n,r=te(s[12].bigBrother),a=[];for(let o=0;o<r.length;o+=1)a[o]=dt(Fe(s,r,o));return{c(){e=S("div"),l=S("span"),l.textContent=t,n=E();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var d=T(e);l=C(d,"SPAN",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1buo2fk"&&(l.textContent=t),n=N(d);for(let i=0;i<a.length;i+=1)a[i].l(d);d.forEach(b),this.h()},h(){v(l,"class","category-label svelte-1jxibph"),v(e,"class","dropdown-category svelte-1jxibph")},m(o,d){O(o,e,d),f(e,l),f(e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(o,d){if(d[0]&33558560){r=te(o[12].bigBrother);let i;for(i=0;i<r.length;i+=1){const p=Fe(o,r,i);a[i]?a[i].p(p,d):(a[i]=dt(p),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(o){o&&b(e),ve(a,o)}}}function dt(s){let e,l,t=s[68].model+"",n,r,a,o="üõ°Ô∏è",d,i,p="Claude Code",h,j,_;function g(){return s[34](s[64],s[68])}return{c(){e=S("button"),l=S("span"),n=R(t),r=E(),a=S("span"),a.textContent=o,d=E(),i=S("span"),i.textContent=p,h=E(),this.h()},l(k){e=C(k,"BUTTON",{class:!0});var u=T(e);l=C(u,"SPAN",{class:!0});var m=T(l);n=F(m,t),r=N(m),a=C(m,"SPAN",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1h87hb8"&&(a.textContent=o),m.forEach(b),d=N(u),i=C(u,"SPAN",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-xp7dtd"&&(i.textContent=p),h=N(u),u.forEach(b),this.h()},h(){v(a,"class","bb-badge svelte-1jxibph"),v(l,"class","model-name svelte-1jxibph"),v(i,"class","model-desc svelte-1jxibph"),v(e,"class","dropdown-item svelte-1jxibph"),I(e,"selected",s[70])},m(k,u){O(k,e,u),f(e,l),f(l,n),f(l,r),f(l,a),f(e,d),f(e,i),f(e,h),j||(_=oe(e,"click",me(g)),j=!0)},p(k,u){s=k,u[0]&4096&&t!==(t=s[68].model+"")&&Z(n,t),u[0]&4128&&I(e,"selected",s[70])},d(k){k&&b(e),j=!1,_()}}}function ht(s){let e,l=te(s[8]),t=[];for(let n=0;n<l.length;n+=1)t[n]=gt(De(s,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=Pe()},l(n){for(let r=0;r<t.length;r+=1)t[r].l(n);e=Pe()},m(n,r){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(n,r);O(n,e,r)},p(n,r){if(r[0]&33554720){l=te(n[8]);let a;for(a=0;a<l.length;a+=1){const o=De(n,l,a);t[a]?t[a].p(o,r):(t[a]=gt(o),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(n){n&&b(e),ve(t,n)}}}function pt(s){let e,l="‚òÅÔ∏è";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-suq1tc"&&(e.textContent=l),this.h()},h(){v(e,"class","cloud-indicator svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function vt(s){let e,l="‚úì";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-qom655"&&(e.textContent=l),this.h()},h(){v(e,"class","suggested-indicator svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function mt(s){let e,l="+LoRA";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1i9opkz"&&(e.textContent=l),this.h()},h(){v(e,"class","adapter-indicator-small svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function bt(s){let e,l="RunPod Cloud";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1h204f8"&&(e.textContent=l),this.h()},h(){v(e,"class","provider-badge cloud svelte-1jxibph")},m(t,n){O(t,e,n)},d(t){t&&b(e)}}}function _t(s){let e,l=s[68].description+"",t;return{c(){e=S("span"),t=R(l),this.h()},l(n){e=C(n,"SPAN",{class:!0});var r=T(e);t=F(r,l),r.forEach(b),this.h()},h(){v(e,"class","model-desc svelte-1jxibph")},m(n,r){O(n,e,r),f(e,t)},p(n,r){r[0]&256&&l!==(l=n[68].description+"")&&Z(t,l)},d(n){n&&b(e)}}}function gt(s){let e,l,t=s[68].model+"",n,r,a,o,d,i,p,h,j,_=(s[68].provider==="runpod_serverless"||s[68].provider==="huggingface")&&pt(),g=s[69]&&vt(),k=s[68].adapters&&s[68].adapters.length>0&&mt(),u=s[68].provider==="runpod_serverless"&&bt(),m=s[68].description&&_t(s);function w(){return s[35](s[64],s[68])}return{c(){e=S("button"),l=S("span"),n=R(t),r=E(),_&&_.c(),a=E(),g&&g.c(),o=E(),k&&k.c(),d=E(),u&&u.c(),i=E(),m&&m.c(),p=E(),this.h()},l(y){e=C(y,"BUTTON",{class:!0});var P=T(e);l=C(P,"SPAN",{class:!0});var V=T(l);n=F(V,t),r=N(V),_&&_.l(V),a=N(V),g&&g.l(V),V.forEach(b),o=N(P),k&&k.l(P),d=N(P),u&&u.l(P),i=N(P),m&&m.l(P),p=N(P),P.forEach(b),this.h()},h(){v(l,"class","model-name svelte-1jxibph"),v(e,"class","dropdown-item svelte-1jxibph"),I(e,"selected",s[70]),I(e,"suggested",s[69])},m(y,P){O(y,e,P),f(e,l),f(l,n),f(l,r),_&&_.m(l,null),f(l,a),g&&g.m(l,null),f(e,o),k&&k.m(e,null),f(e,d),u&&u.m(e,null),f(e,i),m&&m.m(e,null),f(e,p),h||(j=oe(e,"click",me(w)),h=!0)},p(y,P){s=y,P[0]&256&&t!==(t=s[68].model+"")&&Z(n,t),s[68].provider==="runpod_serverless"||s[68].provider==="huggingface"?_||(_=pt(),_.c(),_.m(l,a)):_&&(_.d(1),_=null),s[69]?g||(g=vt(),g.c(),g.m(l,null)):g&&(g.d(1),g=null),s[68].adapters&&s[68].adapters.length>0?k||(k=mt(),k.c(),k.m(e,d)):k&&(k.d(1),k=null),s[68].provider==="runpod_serverless"?u||(u=bt(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),s[68].description?m?m.p(s,P):(m=_t(s),m.c(),m.m(e,p)):m&&(m.d(1),m=null),P[0]&288&&I(e,"selected",s[70]),P[0]&288&&I(e,"suggested",s[69])},d(y){y&&b(e),_&&_.d(),g&&g.d(),k&&k.d(),u&&u.d(),m&&m.d(),h=!1,j()}}}function kt(s){let e,l,t='<span class="activity-dot svelte-1jxibph"></span>',n,r,a=s[64]+"",o,d,i,p="‚Üí",h,j,_;function g(w,y){return w[65].needsConfig?Kt:w[65].error?Gt:Wt}let k=g(s),u=k(s),m=s[9][s[64]]&&tt(s);return{c(){e=S("div"),l=S("span"),l.innerHTML=t,n=E(),r=S("span"),o=R(a),d=E(),i=S("span"),i.textContent=p,h=E(),u.c(),j=E(),m&&m.c(),_=E(),this.h()},l(w){e=C(w,"DIV",{class:!0});var y=T(e);l=C(y,"SPAN",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1ov0hib"&&(l.innerHTML=t),n=N(y),r=C(y,"SPAN",{class:!0});var P=T(r);o=F(P,a),P.forEach(b),d=N(y),i=C(y,"SPAN",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-2e44gn"&&(i.textContent=p),h=N(y),u.l(y),j=N(y),m&&m.l(y),_=N(y),y.forEach(b),this.h()},h(){v(l,"class","activity-indicator svelte-1jxibph"),v(r,"class","role-name svelte-1jxibph"),v(i,"class","role-arrow svelte-1jxibph"),v(e,"class","model-role-row svelte-1jxibph")},m(w,y){O(w,e,y),f(e,l),f(e,n),f(e,r),f(r,o),f(e,d),f(e,i),f(e,h),u.m(e,null),f(e,j),m&&m.m(e,null),f(e,_)},p(w,y){y[0]&32&&a!==(a=w[64]+"")&&Z(o,a),k===(k=g(w))&&u?u.p(w,y):(u.d(1),u=k(w),u&&(u.c(),u.m(e,j))),w[9][w[64]]?m?m.p(w,y):(m=tt(w),m.c(),m.m(e,_)):m&&(m.d(1),m=null)},d(w){w&&b(e),u.d(),m&&m.d()}}}function Qt(s){let e=(s[2].trustLevel||"observe")+"",l;return{c(){l=R(e)},l(t){l=F(t,e)},m(t,n){O(t,l,n)},p(t,n){n[0]&4&&e!==(e=(t[2].trustLevel||"observe")+"")&&Z(l,e)},d(t){t&&b(l)}}}function Xt(s){let e,l="YOLO";return{c(){e=S("span"),e.textContent=l,this.h()},l(t){e=C(t,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-kizoh9"&&(e.textContent=l),this.h()},h(){v(e,"class","yolo-indicator svelte-1jxibph")},m(t,n){O(t,e,n)},p:Te,d(t){t&&b(e)}}}function Zt(s){let e,l,t,n,r,a,o="Status",d,i,p,h,j,_=`<div class="footer-text svelte-1jxibph">MetaHuman OS
      <span class="footer-version svelte-1jxibph">Version 1.13</span></div>`,g,k=te(s[16]),u=[];for(let P=0;P<k.length;P+=1)u[P]=Je(qe(s,k,P));i=new qt({props:{compact:!0}});function m(P,V){if(P[3])return zt;if(P[2])return Jt}let w=m(s),y=w&&w(s);return{c(){e=S("div"),l=S("nav");for(let P=0;P<u.length;P+=1)u[P].c();t=E(),n=S("div"),r=S("div"),a=S("span"),a.textContent=o,d=E(),Dt(i.$$.fragment),p=E(),y&&y.c(),h=E(),j=S("div"),j.innerHTML=_,this.h()},l(P){e=C(P,"DIV",{class:!0});var V=T(e);l=C(V,"NAV",{class:!0});var B=T(l);for(let ne=0;ne<u.length;ne+=1)u[ne].l(B);B.forEach(b),t=N(V),n=C(V,"DIV",{class:!0});var K=T(n);r=C(K,"DIV",{class:!0});var re=T(r);a=C(re,"SPAN",{"data-svelte-h":!0}),H(a)!=="svelte-lgatds"&&(a.textContent=o),d=N(re),Vt(i.$$.fragment,re),re.forEach(b),p=N(K),y&&y.l(K),K.forEach(b),h=N(V),j=C(V,"DIV",{class:!0,"data-svelte-h":!0}),H(j)!=="svelte-1xy7d7p"&&(j.innerHTML=_),V.forEach(b),this.h()},h(){v(l,"class","menu"),v(r,"class","widget-header svelte-1jxibph"),v(n,"class","status-widget"),v(j,"class","sidebar-footer svelte-1jxibph"),v(e,"class","left-sidebar-container svelte-1jxibph")},m(P,V){O(P,e,V),f(e,l);for(let B=0;B<u.length;B+=1)u[B]&&u[B].m(l,null);f(e,t),f(e,n),f(n,r),f(r,a),f(r,d),It(i,r,null),f(n,p),y&&y.m(n,null),f(e,h),f(e,j),g=!0},p(P,V){if(V[0]&245760){k=te(P[16]);let B;for(B=0;B<k.length;B+=1){const K=qe(P,k,B);u[B]?u[B].p(K,V):(u[B]=Je(K),u[B].c(),u[B].m(l,null))}for(;B<u.length;B+=1)u[B].d(1);u.length=k.length}w===(w=m(P))&&y?y.p(P,V):(y&&y.d(1),y=w&&w(P),y&&(y.c(),y.m(n,null)))},i(P){g||(Bt(i.$$.fragment,P),g=!0)},o(P){Mt(i.$$.fragment,P),g=!1},d(P){P&&b(e),ve(u,P),Ot(i),y&&y.d()}}}function $t(s,e,l){let t,n,r;Ae(s,Ne,c=>l(49,t=c)),Ae(s,Me,c=>l(14,n=c)),Ae(s,Ht,c=>l(15,r=c));const a=[{id:"chat",label:"Chat",icon:"üí¨",description:"Conversation interface"},{id:"dashboard",label:"Dashboard",icon:"üìä",description:"System overview"},{id:"agency",label:"Agency",icon:"üéØ",description:"Autonomous desires"},{id:"persona",label:"Persona",icon:"üë§",description:"Identity & personality"},{id:"voice",label:"Voice",icon:"üé§",description:"Audio & training"},{id:"training",label:"AI Training",icon:"üß†",description:"LoRA adapters"},{id:"system-coder",label:"System Coder",icon:"üîß",description:"Self-healing agent"},{id:"terminal",label:"Terminal",icon:"üíª",description:"Command line"},{id:"system",label:"System",icon:"‚öôÔ∏è",description:"Settings & tools"}];let o=null;function d(c){Me.set(c)}let i=null,p=!0,h=!1,j=[],_=!1;we.subscribe(c=>{l(4,_=c)});let g={},k=!1,u={active:0,inProgress:0},m="default",w={},y="",P=null;async function V(){P=Ie.subscribe(c=>{c&&(l(2,i=c.identity),l(27,u={active:c?.tasks?.active??0,inProgress:c?.tasks?.byStatus?.in_progress??0}),c?.model,l(5,g=c?.modelRoles||{}),l(6,k=Object.keys(g).length>0),l(3,p=!1),c.systemHealth?.cloudModels&&c.systemHealth.cloudModels.length>0&&l(12,Y.remote=c.systemHealth.cloudModels.map(A=>({id:A.id,model:A.model,provider:A.provider,locked:!1})),Y),c.systemHealth&&(l(10,z=c.systemHealth.activeBackend||"auto"),W=c.systemHealth.resolvedBackend||null,c.systemHealth.remoteProvider,c.systemHealth.backendAvailability&&l(13,q=c.systemHealth.backendAvailability)))})}async function B(){try{const c=await ue("/api/trust"),A=await c.json();c.ok&&(j=Array.isArray(A.available)?A.available:[],i&&l(2,i.trustLevel=A.level,i),A.level!=="adaptive_auto"&&(we.set(!1),ne()))}catch(c){console.error("Failed to load trust options:",c)}}async function K(c){try{const A=await ue("/api/trust",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({level:c})}),M=await A.json();if(!A.ok||!M.ok)throw new Error(M.error||"Failed to set trust level");i&&l(2,i.trustLevel=M.level,i),h=!1}catch(A){alert(A.message)}}async function re(){if(t==="emulation"){alert('Trust level is locked to "observe" in emulation mode for safety.');return}const c=["observe","suggest","supervised_auto","bounded_auto","adaptive_auto"],A=i?.trustLevel||"observe";if(_){we.set(!1),await K("observe"),ne();return}const U=c.indexOf(A);if(U===c.length-1){try{localStorage.getItem("yoloWarned")||(alert("YOLO mode relaxes ALL safety checks and allows maximum operator autonomy. Use with extreme caution."),localStorage.setItem("yoloWarned","1"))}catch{}we.set(!0),ne();return}const x=U+1;x<c.length&&await K(c[x])}function ne(){try{const c=localStorage.getItem("chatPrefs"),A=c?JSON.parse(c):{};A.yoloMode=_,localStorage.setItem("chatPrefs",JSON.stringify(A))}catch{}}async function de(){try{const A=await(await ue("/api/persona-facet")).json();l(0,m=A.activeFacet||"default"),l(1,w=A.facets||{})}catch(c){console.error("Error loading facets:",c)}}async function se(){const c=Object.keys(w).filter(x=>w[x]?.enabled!==!1);if(c.length===0){console.warn("No enabled facets available");return}const M=(c.indexOf(m)+1)%c.length,U=c[M];try{const ie=await(await ue("/api/persona-facet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({facet:U})})).json();ie.success?(l(0,m=U),setTimeout(()=>Be.update(fe=>fe+1),100)):console.error("Failed to switch facet:",ie.error)}catch(x){console.error("Error cycling facet:",x)}}let ce=[],he=[],pe={},$={},be=!1,J=!1,z="ollama",W=null,G=null,Y={local:[],lora:[],remote:[],bigBrother:[]},q={ollama:{available:!1,running:!1,active:!1},vllm:{available:!1,running:!1,active:!1},runpod:{available:!1,configured:!1,active:!1},bigBrother:{available:!1,enabled:!1},remoteServer:{available:!1,configured:!1}};function Q(){const c=q.ollama;return c.available?c.running?`Ollama: Running${c.model?` (${c.model})`:""}${c.active?" [ACTIVE]":""}`:"Ollama: Installed but not running":"Ollama: Not installed"}function X(){const c=q.vllm;return c.available?c.running?`vLLM: Running${c.model?` (${c.model})`:""}${c.active?" [ACTIVE]":""}`:"vLLM: Installed but not running":"vLLM: Not installed"}function Se(){const c=q.runpod;return c.available?`RunPod: Configured${c.active?" [ACTIVE]":""}`:"RunPod: Not configured"}function _e(){const c=q.bigBrother;return c.available?c.enabled?`Big Brother: Enabled (${c.provider||"claude-code"})`:"Big Brother: Disabled":"Big Brother: Not available"}function le(){const c=q.remoteServer;return c.available?`Remote Server: ${c.serverUrl||"Configured"}`:"Remote Server: Not configured"}async function L(){if(!be){be=!0;try{const c=Oe(Ne),A=c?`?cognitiveMode=${encodeURIComponent(c)}`:"",U=await(await ue(`/api/model-registry${A}`)).json();if(U.success){ce=U.availableModels||[],pe=U.roleAssignments||{},U.activeBackend&&l(10,z=U.activeBackend),U.resolvedBackend&&(W=U.resolvedBackend),U.localModel&&l(11,G=U.localModel),U.modelCategories&&l(12,Y=U.modelCategories);const x=new Map;for(const ie of ce){const fe=ie.model;if(!x.has(fe))x.set(fe,ie);else{const Le=x.get(fe);ie.roles&&(Le.roles=Array.from(new Set([...Le.roles||[],...ie.roles])))}}l(8,he=Array.from(x.values()))}else console.log("Model registry not accessible (expected for non-owner users)")}catch(c){console.error("Error loading model registry:",c)}finally{be=!1}}}function D(c,A){const M=ce.find(U=>U.id===A);M&&l(5,g={...g,[c]:{modelId:M.id,provider:M.provider,model:M.model,adapters:M.adapters??[],baseModel:M.baseModel??null,temperature:M.options?.temperature}})}async function ee(c="manual"){if(!J){J=!0;try{const A=`_t=${Date.now()}`,M=await ue(`/api/status?${A}`,{cache:"no-store"});if(!M.ok)throw new Error(`Failed to refresh status (${M.status})`);const U=await M.json();Ie.set(U)}catch(A){console.warn(`[LeftSidebar] Failed to refresh status after ${c}:`,A)}finally{J=!1}}}async function ae(c,A){console.log(`[LeftSidebar] assignModelToRole called: role=${c}, modelId=${A}`);try{const M=Oe(Ne),U={role:c,modelId:A};M&&(U.cognitiveMode=M),console.log("[LeftSidebar] Making POST to /api/model-registry with payload:",U);const x=await ue("/api/model-registry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});console.log(`[LeftSidebar] POST response status: ${x.status}`);const ie=await x.json();console.log("[LeftSidebar] POST result:",ie),ie.success?(pe[c]=A,l(9,$[c]=!1,$),l(9,$={...$}),D(c,A),ee("model assignment"),L(),ye(c).catch(fe=>{console.warn(`Failed to warm up model for role ${c}:`,fe)}),setTimeout(()=>{Be.update(fe=>fe+1)},200)):alert("Failed to assign model: "+(ie.error||"Unknown error"))}catch(M){console.error("Error assigning model:",M),alert("Failed to assign model: "+M.message)}}async function ye(c){try{const M=await(await ue("/api/warmup-model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:c})})).json();M.success?console.log(`[warmup] Model for ${c} loaded in ${M.duration}ms`):console.warn(`[warmup] Failed to warm up ${c}:`,M.error)}catch(A){throw console.error(`[warmup] Error warming up ${c}:`,A),A}}function ge(c){l(9,$[c]=!$[c],$),l(9,$={...$})}function ke(){l(9,$={})}function Ce(c){c.target.closest(".model-role-row")||ke()}async function je(){try{const A=await(await ue("/api/auth/me")).json();A.success&&A.user?o=A.user:o=null}catch(c){console.error("[LeftSidebar] Failed to fetch user:",c),o=null}}Ft(()=>{je(),V(),de(),B(),L(),Ee();const c=Ut.subscribe(()=>{Ee()});document.addEventListener("click",Ce);const A=()=>{document.hidden||Ee()};return document.addEventListener("visibilitychange",A),()=>{c(),P&&P(),document.removeEventListener("visibilitychange",A),document.removeEventListener("click",Ce)}});const Ct=c=>d(c.id),St=c=>ge(c),yt=c=>ge(c),jt=(c,A)=>ae(c,A.id),wt=(c,A)=>ae(c,A.id),Pt=(c,A)=>ae(c,A.id),At=(c,A)=>ae(c,A.id),Nt=(c,A)=>ae(c,A.id);return s.$$.update=()=>{s.$$.dirty[0]&3&&l(7,y=(()=>{const c=w?.[m],M=["Click to cycle persona facet","",`Current: ${m==="inactive"?"Persona disabled":c?.name||m||"default"}`];return m==="inactive"?M.push("Persona context disabled - responses use the base model without identity scaffolding."):c?.description&&M.push(c.description),c?.resolvedPath?(M.push(""),M.push(`Persona file: ${c.resolvedPath}`)):m==="inactive"&&(M.push(""),M.push("Persona file: (none)")),M.push(""),M.push("Progression: inactive ‚Üí default ‚Üí poet ‚Üí thinker ‚Üí friend ‚Üí antagonist ‚Üí inactive"),M.join(`
`)})()),s.$$.dirty[0]&134217728&&u.active,s.$$.dirty[0]&134217728&&u.inProgress},[m,w,i,p,_,g,k,y,he,$,z,G,Y,q,n,r,a,d,re,se,Q,X,Se,_e,le,ae,ge,u,Ct,St,yt,jt,wt,Pt,At,Nt]}class ol extends Et{constructor(e){super(),Tt(this,e,$t,Zt,Lt,{},null,[-1,-1,-1])}}export{ol as default};
