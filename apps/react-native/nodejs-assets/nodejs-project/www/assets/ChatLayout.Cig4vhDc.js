const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NodeEditorLayout.Bfa0i-rg.js","assets/api-config.BAZ_dc_Y.js","assets/navigation.BajXnvhT.js","assets/index.enr_Xien.js","assets/NodeEditorLayout.BvE4_cgM.css"])))=>i.map(i=>d[i]);
import{S as Kt,i as Xt,s as Yt,n as ve,d as f,a as N,P as ke,o as Qt,A as $t,v as tt,p as fe,b as d,x as $,c as o,e as h,f as p,g as ne,h as T,q as ee,j as m,k as I,t as te,l as Me,I as me,J as be,a5 as ct,N as Ct,ae as el,U as tl,a4 as ut,aa as Ye,H as nt,T as Qe,ab as Ze,ac as $e,ad as et,K as it,X as Oe,L as Zt,Y as He,M as dt,V as St,af as Lt,a7 as ll,r as Tt,a2 as rl,a3 as sl,_ as al}from"./api-config.BAZ_dc_Y.js";import{w as ol}from"./index.enr_Xien.js";import{n as It,s as Vt,b as nl}from"./navigation.BajXnvhT.js";import{f as il,s as dl}from"./security-policy.CnYnD1q2.js";import{initNodeBridge as cl}from"./node-bridge.CdnDofoo.js";function xt(s){let e,t,l,r="üñ•Ô∏è",n,a,c=`<h3 class="svelte-19wf76h">Headless Mode Active</h3> <p class="svelte-19wf76h">Local agents are paused. Click &quot;Claim Runtime&quot; to resume full system
          operations and dedicate all resources to your remote session.</p>`,i,g,k,w=s[1]?"Claiming...":"Claim Runtime",E,B,O,P,y,_,L,M=s[0]&&Dt(s);return{c(){e=m("div"),t=m("div"),l=m("div"),l.textContent=r,n=I(),a=m("div"),a.innerHTML=c,i=I(),g=m("div"),k=m("button"),E=te(w),B=I(),O=m("button"),P=te("Dismiss"),y=I(),M&&M.c(),this.h()},l(x){e=h(x,"DIV",{class:!0});var D=p(e);t=h(D,"DIV",{class:!0});var C=p(t);l=h(C,"DIV",{class:!0,"data-svelte-h":!0}),ne(l)!=="svelte-lboknk"&&(l.textContent=r),n=T(C),a=h(C,"DIV",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-18lyj7i"&&(a.innerHTML=c),i=T(C),g=h(C,"DIV",{class:!0});var j=p(g);k=h(j,"BUTTON",{class:!0});var z=p(k);E=ee(z,w),z.forEach(f),B=T(j),O=h(j,"BUTTON",{class:!0});var A=p(O);P=ee(A,"Dismiss"),A.forEach(f),j.forEach(f),C.forEach(f),y=T(D),M&&M.l(D),D.forEach(f),this.h()},h(){o(l,"class","banner-icon svelte-19wf76h"),o(a,"class","banner-text svelte-19wf76h"),o(k,"class","btn-claim svelte-19wf76h"),k.disabled=s[1],o(O,"class","btn-dismiss svelte-19wf76h"),O.disabled=s[1],o(g,"class","banner-actions svelte-19wf76h"),o(t,"class","banner-content svelte-19wf76h"),o(e,"class","claim-banner svelte-19wf76h")},m(x,D){N(x,e,D),d(e,t),d(t,l),d(t,n),d(t,a),d(t,i),d(t,g),d(g,k),d(k,E),d(g,B),d(g,O),d(O,P),d(e,y),M&&M.m(e,null),_||(L=[$(k,"click",s[3]),$(O,"click",s[4])],_=!0)},p(x,D){D&2&&w!==(w=x[1]?"Claiming...":"Claim Runtime")&&fe(E,w),D&2&&(k.disabled=x[1]),D&2&&(O.disabled=x[1]),x[0]?M?M.p(x,D):(M=Dt(x),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},d(x){x&&f(e),M&&M.d(),_=!1,tt(L)}}}function Dt(s){let e,t;return{c(){e=m("div"),t=te(s[0]),this.h()},l(l){e=h(l,"DIV",{class:!0});var r=p(e);t=ee(r,s[0]),r.forEach(f),this.h()},h(){o(e,"class","banner-error svelte-19wf76h")},m(l,r){N(l,e,r),d(e,t)},p(l,r){r&1&&fe(t,l[0])},d(l){l&&f(e)}}}function ul(s){let e,t=s[2]&&xt(s);return{c(){t&&t.c(),e=ke()},l(l){t&&t.l(l),e=ke()},m(l,r){t&&t.m(l,r),N(l,e,r)},p(l,[r]){l[2]?t?t.p(l,r):(t=xt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ve,o:ve,d(l){l&&f(e),t&&t.d(l)}}}function fl(s,e,t){let l=null,r=null,n=!1,a=!1,c=!1;async function i(){if(!c)try{const w=await Me("/api/runtime/mode");w.ok&&(l=await w.json(),t(2,a=l.headless))}catch(w){console.warn("Failed to load runtime mode (expected on mobile):",w)}}async function g(){t(0,r=null),t(1,n=!0);try{const w=await Me("/api/runtime/mode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({headless:!1})});if(w.ok)t(2,a=!1),setTimeout(()=>window.location.reload(),1500);else{const E=await w.json();t(0,r=E.error||"Failed to claim runtime")}}catch(w){t(0,r=w instanceof Error?w.message:"Failed to claim runtime")}finally{t(1,n=!1)}}function k(){t(2,a=!1)}return Qt(()=>{if(c=$t(),c)return;i();const w=setInterval(i,1e4);return()=>clearInterval(w)}),[r,n,a,g,k]}class hl extends Kt{constructor(e){super(),Xt(this,e,fl,ul,Yt,{})}}const ml=s=>({}),Nt=s=>({}),bl=s=>({}),jt=s=>({}),_l=s=>({}),Pt=s=>({}),pl=s=>({}),At=s=>({});function Ot(s,e,t){const l=s.slice();l[49]=e[t];const r=l[14].length>0&&!l[14].includes(l[49].id);l[50]=r;const n=l[50]?l[13]?.status==="high_security"?"High security mode: Only emulation allowed":l[13]?.status==="wetware_deceased"&&l[49].id==="dual"?"Wetware deceased: Dual consciousness unavailable":"This mode is disabled":null;return l[51]=n,l}function gl(s){let e,t,l,r,n='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>',a,c,i,g,k,w,E,B,O,P,y,_,L,M,x,D,C=(s[10]?"Loading‚Ä¶":s[3]?.label??"Mode unavailable")+"",j,z,A,V,Q,_e,ie,Le,Be,X,le,de,Ce,Te,ze,ce,qe='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>',Se,Ie,pe,Fe,Ve,xe,F,we,ye,De,Ue,b,S,Y,U,ue,Ne,Re,H,lt,ft;function ht(u,v){return u[18]&&!u[19]?wl:kl}let Ge=ht(s),he=Ge(s),R=s[4]&&Ht(s),q=s[15]&&Bt(s),G=s[9]&&Ft(s);const rt=s[29]["header-actions"],re=Ye(rt,s,s[28],At);pe=new hl({});let J=s[11]&&Gt(s);function mt(u,v){if(u[13]?.status==="high_security")return Ll;if(u[13]?.status==="wetware_deceased")return Sl}let je=mt(s),Z=je&&je(s);const st=s[29]["left-sidebar"],se=Ye(st,s,s[28],Pt);let W=s[2]&&s[7]&&Jt(s);const at=s[29].center,ae=Ye(at,s,s[28],jt),ot=s[29]["right-sidebar"],oe=Ye(ot,s,s[28],Nt);let K=s[6]&&s[7]&&Wt(s);return{c(){e=m("div"),t=m("header"),l=m("div"),r=m("button"),r.innerHTML=n,a=I(),c=m("div"),i=m("button"),he.c(),g=I(),k=m("span"),w=te(s[17]),E=I(),R&&R.c(),B=I(),q&&q.c(),O=I(),P=m("div"),y=m("div"),_=m("button"),L=m("span"),x=I(),D=m("span"),j=te(C),z=I(),A=He("svg"),V=He("path"),Le=I(),G&&G.c(),Be=I(),X=m("button"),le=He("svg"),de=He("path"),ze=I(),ce=m("button"),ce.innerHTML=qe,Se=I(),re&&re.c(),Ie=I(),dt(pe.$$.fragment),Fe=I(),J&&J.c(),Ve=I(),Z&&Z.c(),xe=I(),F=m("div"),we=m("aside"),ye=m("div"),se&&se.c(),Ue=I(),W&&W.c(),b=I(),S=m("main"),ae&&ae.c(),Y=I(),U=m("aside"),ue=m("div"),oe&&oe.c(),Re=I(),K&&K.c(),this.h()},l(u){e=h(u,"DIV",{class:!0});var v=p(e);t=h(v,"HEADER",{class:!0});var Je=p(t);l=h(Je,"DIV",{class:!0});var We=p(l);r=h(We,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),ne(r)!=="svelte-hlq2gg"&&(r.innerHTML=n),a=T(We),c=h(We,"DIV",{class:!0});var Ke=p(c);i=h(Ke,"BUTTON",{class:!0,"aria-label":!0});var Pe=p(i);he.l(Pe),g=T(Pe),k=h(Pe,"SPAN",{class:!0});var bt=p(k);w=ee(bt,s[17]),bt.forEach(f),E=T(Pe),R&&R.l(Pe),Pe.forEach(f),B=T(Ke),q&&q.l(Ke),Ke.forEach(f),We.forEach(f),O=T(Je),P=h(Je,"DIV",{class:!0});var Ee=p(P);y=h(Ee,"DIV",{class:!0});var Xe=p(y);_=h(Xe,"BUTTON",{class:!0,style:!0,"aria-haspopup":!0,"aria-expanded":!0,title:!0});var Ae=p(_);L=h(Ae,"SPAN",{class:!0,style:!0}),p(L).forEach(f),x=T(Ae),D=h(Ae,"SPAN",{class:!0});var _t=p(D);j=ee(_t,C),_t.forEach(f),z=T(Ae),A=Oe(Ae,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var pt=p(A);V=Oe(pt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(V).forEach(f),pt.forEach(f),Ae.forEach(f),Le=T(Xe),G&&G.l(Xe),Xe.forEach(f),Be=T(Ee),X=h(Ee,"BUTTON",{class:!0,"aria-label":!0,title:!0});var gt=p(X);le=Oe(gt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var vt=p(le);de=Oe(vt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(de).forEach(f),vt.forEach(f),gt.forEach(f),ze=T(Ee),ce=h(Ee,"BUTTON",{class:!0,"aria-label":!0,title:!0,"data-svelte-h":!0}),ne(ce)!=="svelte-dcj8fl"&&(ce.innerHTML=qe),Se=T(Ee),re&&re.l(Ee),Ee.forEach(f),Je.forEach(f),Ie=T(v),Zt(pe.$$.fragment,v),Fe=T(v),J&&J.l(v),Ve=T(v),Z&&Z.l(v),xe=T(v),F=h(v,"DIV",{class:!0});var ge=p(F);we=h(ge,"ASIDE",{class:!0});var kt=p(we);ye=h(kt,"DIV",{class:!0});var wt=p(ye);se&&se.l(wt),wt.forEach(f),kt.forEach(f),Ue=T(ge),W&&W.l(ge),b=T(ge),S=h(ge,"MAIN",{class:!0});var yt=p(S);ae&&ae.l(yt),yt.forEach(f),Y=T(ge),U=h(ge,"ASIDE",{class:!0});var Et=p(U);ue=h(Et,"DIV",{class:!0});var Mt=p(ue);oe&&oe.l(Mt),Mt.forEach(f),Et.forEach(f),Re=T(ge),K&&K.l(ge),ge.forEach(f),v.forEach(f),this.h()},h(){o(r,"class","flex items-center justify-center p-2 border-0 bg-transparent text-gray-500 dark:text-gray-400 cursor-pointer rounded-md transition-all hover:bg-gray-100 dark:hover:bg-white/10 hover:text-gray-900 dark:hover:text-gray-100"),o(r,"aria-label","Toggle left sidebar"),o(k,"class","brand-name hidden sm:inline"),o(i,"class","flex items-center gap-2 sm:gap-3 text-lg font-semibold text-gray-900 dark:text-gray-100 m-0 border-0 bg-transparent cursor-pointer p-2 rounded-md transition-all hover:bg-gray-100 dark:hover:bg-white/10"),o(i,"aria-label","User menu"),o(c,"class","relative"),o(l,"class","flex items-center gap-3"),o(L,"class","mode-dot"),o(L,"style",M=`background:${s[20].color}`),o(D,"class","mode-text hidden sm:inline"),o(V,"stroke-linecap","round"),o(V,"stroke-linejoin","round"),o(V,"stroke-width","2"),o(V,"d","M19 9l-7 7-7-7"),o(A,"class","w-4 h-4 text-gray-400 hidden sm:block"),o(A,"fill","none"),o(A,"stroke","currentColor"),o(A,"viewBox","0 0 24 24"),o(_,"class",Q=Qe(`mode-menu-trigger ${s[9]?"active":""}`)+" svelte-4baa7"),o(_,"style",_e=`--mode-accent:${s[20].color}; --mode-glow:${s[20].glow}`),o(_,"aria-haspopup","listbox"),o(_,"aria-expanded",s[9]),o(_,"title",ie=s[3]?.label??"Mode"),o(y,"class","relative"),o(de,"stroke-linecap","round"),o(de,"stroke-linejoin","round"),o(de,"stroke-width","2"),o(de,"d","M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"),o(le,"class","w-6 h-6"),o(le,"fill","none"),o(le,"stroke","currentColor"),o(le,"viewBox","0 0 24 24"),o(X,"class",Ce=Qe(`flex items-center justify-center p-2 border-0 bg-transparent cursor-pointer rounded-md transition-all
                ${s[5]?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10"}`)+" svelte-4baa7"),o(X,"aria-label","Toggle node editor"),o(X,"title",Te=s[5]?"Switch to Traditional View":"Switch to Node Editor View"),o(ce,"class","flex items-center justify-center p-2 border-0 bg-transparent text-purple-600 dark:text-purple-400 cursor-pointer rounded-md transition-all hover:bg-gray-100 dark:hover:bg-white/10"),o(ce,"aria-label","Toggle developer tools"),o(ce,"title","Developer Tools"),o(P,"class","flex items-center gap-2 sm:gap-3"),o(t,"class","flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl z-10 flex-shrink-0"),o(ye,"class","flex flex-col w-[280px] h-full overflow-y-auto overflow-x-hidden svelte-4baa7"),o(we,"class",De="flex flex-col border-r border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 overflow-hidden transition-all duration-300 ease-in-out "+(s[2]?"w-[280px]":"w-0 border-0")+" max-md:fixed max-md:left-0 max-md:top-[57px] max-md:bottom-0 max-md:z-30 max-md:shadow-lg svelte-4baa7"),o(S,"class","flex flex-col flex-1 overflow-hidden bg-white dark:bg-slate-950 relative"),o(ue,"class","flex flex-col w-[280px] h-full overflow-y-auto overflow-x-hidden svelte-4baa7"),o(U,"class",Ne="flex flex-col border-l border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 overflow-hidden transition-all duration-300 ease-in-out "+(s[6]?"w-[280px]":"w-0 border-0")+" max-md:fixed max-md:right-0 max-md:top-[57px] max-md:bottom-0 max-md:z-30 max-md:shadow-lg svelte-4baa7"),o(F,"class","flex flex-1 overflow-hidden relative"),o(e,"class","flex flex-col app-root w-screen overflow-hidden bg-white dark:bg-slate-950 svelte-4baa7")},m(u,v){N(u,e,v),d(e,t),d(t,l),d(l,r),d(l,a),d(l,c),d(c,i),he.m(i,null),d(i,g),d(i,k),d(k,w),d(i,E),R&&R.m(i,null),d(c,B),q&&q.m(c,null),s[31](c),d(t,O),d(t,P),d(P,y),d(y,_),d(_,L),d(_,x),d(_,D),d(D,j),d(_,z),d(_,A),d(A,V),d(y,Le),G&&G.m(y,null),s[34](y),d(P,Be),d(P,X),d(X,le),d(le,de),d(P,ze),d(P,ce),d(P,Se),re&&re.m(P,null),d(e,Ie),it(pe,e,null),d(e,Fe),J&&J.m(e,null),d(e,Ve),Z&&Z.m(e,null),d(e,xe),d(e,F),d(F,we),d(we,ye),se&&se.m(ye,null),d(F,Ue),W&&W.m(F,null),d(F,b),d(F,S),ae&&ae.m(S,null),d(F,Y),d(F,U),d(U,ue),oe&&oe.m(ue,null),d(F,Re),K&&K.m(F,null),H=!0,lt||(ft=[$(r,"click",s[25]),$(i,"click",s[24]),$(_,"click",s[32]),$(X,"click",s[35]),$(ce,"click",s[26])],lt=!0)},p(u,v){Ge===(Ge=ht(u))&&he?he.p(u,v):(he.d(1),he=Ge(u),he&&(he.c(),he.m(i,g))),(!H||v[0]&131072)&&fe(w,u[17]),u[4]?R?R.p(u,v):(R=Ht(u),R.c(),R.m(i,null)):R&&(R.d(1),R=null),u[15]?q?q.p(u,v):(q=Bt(u),q.c(),q.m(c,null)):q&&(q.d(1),q=null),(!H||v[0]&1048576&&M!==(M=`background:${u[20].color}`))&&o(L,"style",M),(!H||v[0]&1032)&&C!==(C=(u[10]?"Loading‚Ä¶":u[3]?.label??"Mode unavailable")+"")&&fe(j,C),(!H||v[0]&512&&Q!==(Q=Qe(`mode-menu-trigger ${u[9]?"active":""}`)+" svelte-4baa7"))&&o(_,"class",Q),(!H||v[0]&1048576&&_e!==(_e=`--mode-accent:${u[20].color}; --mode-glow:${u[20].glow}`))&&o(_,"style",_e),(!H||v[0]&512)&&o(_,"aria-expanded",u[9]),(!H||v[0]&8&&ie!==(ie=u[3]?.label??"Mode"))&&o(_,"title",ie),u[9]?G?G.p(u,v):(G=Ft(u),G.c(),G.m(y,null)):G&&(G.d(1),G=null),(!H||v[0]&32&&Ce!==(Ce=Qe(`flex items-center justify-center p-2 border-0 bg-transparent cursor-pointer rounded-md transition-all
                ${u[5]?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10"}`)+" svelte-4baa7"))&&o(X,"class",Ce),(!H||v[0]&32&&Te!==(Te=u[5]?"Switch to Traditional View":"Switch to Node Editor View"))&&o(X,"title",Te),re&&re.p&&(!H||v[0]&268435456)&&Ze(re,rt,u,u[28],H?et(rt,u[28],v,pl):$e(u[28]),At),u[11]?J?J.p(u,v):(J=Gt(u),J.c(),J.m(e,Ve)):J&&(J.d(1),J=null),je!==(je=mt(u))&&(Z&&Z.d(1),Z=je&&je(u),Z&&(Z.c(),Z.m(e,xe))),se&&se.p&&(!H||v[0]&268435456)&&Ze(se,st,u,u[28],H?et(st,u[28],v,_l):$e(u[28]),Pt),(!H||v[0]&4&&De!==(De="flex flex-col border-r border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 overflow-hidden transition-all duration-300 ease-in-out "+(u[2]?"w-[280px]":"w-0 border-0")+" max-md:fixed max-md:left-0 max-md:top-[57px] max-md:bottom-0 max-md:z-30 max-md:shadow-lg svelte-4baa7"))&&o(we,"class",De),u[2]&&u[7]?W?W.p(u,v):(W=Jt(u),W.c(),W.m(F,b)):W&&(W.d(1),W=null),ae&&ae.p&&(!H||v[0]&268435456)&&Ze(ae,at,u,u[28],H?et(at,u[28],v,bl):$e(u[28]),jt),oe&&oe.p&&(!H||v[0]&268435456)&&Ze(oe,ot,u,u[28],H?et(ot,u[28],v,ml):$e(u[28]),Nt),(!H||v[0]&64&&Ne!==(Ne="flex flex-col border-l border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 overflow-hidden transition-all duration-300 ease-in-out "+(u[6]?"w-[280px]":"w-0 border-0")+" max-md:fixed max-md:right-0 max-md:top-[57px] max-md:bottom-0 max-md:z-30 max-md:shadow-lg svelte-4baa7"))&&o(U,"class",Ne),u[6]&&u[7]?K?K.p(u,v):(K=Wt(u),K.c(),K.m(F,null)):K&&(K.d(1),K=null)},i(u){H||(be(re,u),be(pe.$$.fragment,u),be(se,u),be(ae,u),be(oe,u),H=!0)},o(u){me(re,u),me(pe.$$.fragment,u),me(se,u),me(ae,u),me(oe,u),H=!1},d(u){u&&f(e),he.d(),R&&R.d(),q&&q.d(),s[31](null),G&&G.d(),s[34](null),re&&re.d(u),nt(pe),J&&J.d(),Z&&Z.d(),se&&se.d(u),W&&W.d(),ae&&ae.d(u),oe&&oe.d(u),K&&K.d(),lt=!1,tt(ft)}}}function vl(s){let e,t,l,r;const n=[Il,Tl],a=[];function c(i,g){return i[1]?0:i[0]?1:-1}return~(e=c(s))&&(t=a[e]=n[e](s)),{c(){t&&t.c(),l=ke()},l(i){t&&t.l(i),l=ke()},m(i,g){~e&&a[e].m(i,g),N(i,l,g),r=!0},p(i,g){let k=e;e=c(i),e===k?~e&&a[e].p(i,g):(t&&(ut(),me(a[k],1,1,()=>{a[k]=null}),ct()),~e?(t=a[e],t?t.p(i,g):(t=a[e]=n[e](i),t.c()),be(t,1),t.m(l.parentNode,l)):t=null)},i(i){r||(be(t),r=!0)},o(i){me(t),r=!1},d(i){i&&f(l),~e&&a[e].d(i)}}}function kl(s){let e,t="ü§ñ";return{c(){e=m("span"),e.textContent=t,this.h()},l(l){e=h(l,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-137edje"&&(e.textContent=t),this.h()},h(){o(e,"class","persona-icon-fallback")},m(l,r){N(l,e,r)},p:ve,d(l){l&&f(e)}}}function wl(s){let e,t,l,r;return{c(){e=m("img"),this.h()},l(n){e=h(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ll(e.src,t="/api/persona-icon")||o(e,"src",t),o(e,"alt","Persona icon"),o(e,"class","persona-icon")},m(n,a){N(n,e,a),l||(r=$(e,"error",s[30]),l=!0)},p:ve,d(n){n&&f(e),l=!1,r()}}}function Ht(s){let e,t,l="(",r,n,a=")";return{c(){e=m("span"),t=m("span"),t.textContent=l,r=te(s[21]),n=m("span"),n.textContent=a,this.h()},l(c){e=h(c,"SPAN",{class:!0});var i=p(e);t=h(i,"SPAN",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-5p7yzs"&&(t.textContent=l),r=ee(i,s[21]),n=h(i,"SPAN",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-1hm3c6f"&&(n.textContent=a),i.forEach(f),this.h()},h(){o(t,"class","hidden sm:inline"),o(n,"class","hidden sm:inline"),o(e,"class","text-xs text-gray-500 dark:text-gray-400 font-normal")},m(c,i){N(c,e,i),d(e,t),d(e,r),d(e,n)},p(c,i){i[0]&2097152&&fe(r,c[21])},d(c){c&&f(e)}}}function Bt(s){let e;function t(n,a){return n[4]?El:yl}let l=t(s),r=l(s);return{c(){e=m("div"),r.c(),this.h()},l(n){e=h(n,"DIV",{class:!0});var a=p(e);r.l(a),a.forEach(f),this.h()},h(){o(e,"class","absolute left-0 mt-2 w-64 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg z-50")},m(n,a){N(n,e,a),r.m(e,null)},p(n,a){l===(l=t(n))&&r?r.p(n,a):(r.d(1),r=l(n),r&&(r.c(),r.m(e,null)))},d(n){n&&f(e),r.d()}}}function yl(s){let e,t="Login";return{c(){e=m("a"),e.textContent=t,this.h()},l(l){e=h(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-19asbp9"&&(e.textContent=t),this.h()},h(){o(e,"href","/"),o(e,"class","block px-4 py-3 text-sm text-center text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 transition-all font-semibold no-underline")},m(l,r){N(l,e,r)},p:ve,d(l){l&&f(e)}}}function El(s){let e,t,l,r=(s[4].metadata?.sourceProfile||s[4].username).charAt(0).toUpperCase()+"",n,a,c,i,g,k,w,E,B=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                Logout`,O,P,y=s[4].role==="anonymous"&&s[4].metadata?.sourceProfile&&zt();return{c(){e=m("div"),t=m("div"),l=m("div"),n=te(r),a=I(),c=m("div"),i=m("div"),g=te(s[21]),k=I(),y&&y.c(),w=I(),E=m("button"),E.innerHTML=B,this.h()},l(_){e=h(_,"DIV",{class:!0});var L=p(e);t=h(L,"DIV",{class:!0});var M=p(t);l=h(M,"DIV",{class:!0});var x=p(l);n=ee(x,r),x.forEach(f),a=T(M),c=h(M,"DIV",{class:!0});var D=p(c);i=h(D,"DIV",{class:!0});var C=p(i);g=ee(C,s[21]),C.forEach(f),k=T(D),y&&y.l(D),D.forEach(f),M.forEach(f),L.forEach(f),w=T(_),E=h(_,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(E)!=="svelte-1wmhgwa"&&(E.innerHTML=B),this.h()},h(){o(l,"class","w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-semibold"),o(i,"class","font-semibold text-gray-900 dark:text-gray-100"),o(c,"class","flex-1"),o(t,"class","flex items-center gap-3"),o(e,"class","px-4 py-3 border-b border-gray-200 dark:border-gray-700"),o(E,"class","w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors border-0 bg-transparent cursor-pointer text-left")},m(_,L){N(_,e,L),d(e,t),d(t,l),d(l,n),d(t,a),d(t,c),d(c,i),d(i,g),d(c,k),y&&y.m(c,null),N(_,w,L),N(_,E,L),O||(P=$(E,"click",s[23]),O=!0)},p(_,L){L[0]&16&&r!==(r=(_[4].metadata?.sourceProfile||_[4].username).charAt(0).toUpperCase()+"")&&fe(n,r),L[0]&2097152&&fe(g,_[21]),_[4].role==="anonymous"&&_[4].metadata?.sourceProfile?y||(y=zt(),y.c(),y.m(c,null)):y&&(y.d(1),y=null)},d(_){_&&(f(e),f(w),f(E)),y&&y.d(),O=!1,P()}}}function zt(s){let e,t="Viewing public profile";return{c(){e=m("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-wjaqna"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-gray-500")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ft(s){let e,t;function l(a,c){return a[8].length===0?Cl:Ml}let r=l(s),n=r(s);return{c(){e=m("div"),t=m("div"),n.c(),this.h()},l(a){e=h(a,"DIV",{class:!0});var c=p(e);t=h(c,"DIV",{class:!0});var i=p(t);n.l(i),i.forEach(f),c.forEach(f),this.h()},h(){o(t,"class","py-2"),o(e,"class","absolute right-0 mt-2 w-72 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg z-40")},m(a,c){N(a,e,c),d(e,t),n.m(t,null)},p(a,c){r===(r=l(a))&&n?n.p(a,c):(n.d(1),n=r(a),n&&(n.c(),n.m(t,null)))},d(a){a&&f(e),n.d()}}}function Ml(s){let e=[],t=new Map,l,r=Tt(s[8]);const n=a=>a[49].id;for(let a=0;a<r.length;a+=1){let c=Ot(s,r,a),i=n(c);t.set(i,e[a]=qt(i,c))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ke()},l(a){for(let c=0;c<e.length;c+=1)e[c].l(a);l=ke()},m(a,c){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,c);N(a,l,c)},p(a,c){c[0]&4220168&&(r=Tt(a[8]),e=rl(e,c,n,1,a,r,t,l.parentNode,sl,qt,l,Ot))},d(a){a&&f(l);for(let c=0;c<e.length;c+=1)e[c].d(a)}}}function Cl(s){let e,t=s[10]?"Loading modes‚Ä¶":"No modes available",l;return{c(){e=m("div"),l=te(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=p(e);l=ee(n,t),n.forEach(f),this.h()},h(){o(e,"class","px-3 py-2 text-xs text-gray-500 dark:text-gray-400")},m(r,n){N(r,e,n),d(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10]?"Loading modes‚Ä¶":"No modes available")&&fe(l,t)},d(r){r&&f(e)}}}function Ut(s){let e,t;return{c(){e=He("svg"),t=He("path"),this.h()},l(l){e=Oe(l,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var r=p(e);t=Oe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"stroke-width","2"),o(t,"d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"),o(e,"class","w-3 h-3 text-gray-400 ml-auto"),o(e,"fill","none"),o(e,"stroke","currentColor"),o(e,"viewBox","0 0 24 24")},m(l,r){N(l,e,r),d(e,t)},d(l){l&&f(e)}}}function Rt(s){let e,t,l=s[51]+"",r;return{c(){e=m("br"),t=m("span"),r=te(l),this.h()},l(n){e=h(n,"BR",{}),t=h(n,"SPAN",{class:!0});var a=p(t);r=ee(a,l),a.forEach(f),this.h()},h(){o(t,"class","text-amber-600 dark:text-amber-400")},m(n,a){N(n,e,a),N(n,t,a),d(t,r)},p(n,a){a[0]&24832&&l!==(l=n[51]+"")&&fe(r,l)},d(n){n&&(f(e),f(t))}}}function qt(s,e){let t,l,r,n,a,c,i=e[49].label+"",g,k,w,E,B=e[49].description+"",O,P,y,_,L,M,x,D,C=e[50]&&Ut(),j=e[50]&&Rt(e);function z(){return e[33](e[50],e[49])}return{key:s,first:null,c(){t=m("button"),l=m("div"),r=m("span"),a=I(),c=m("span"),g=te(i),k=I(),C&&C.c(),w=I(),E=m("p"),O=te(B),P=I(),j&&j.c(),y=I(),this.h()},l(A){t=h(A,"BUTTON",{class:!0,title:!0});var V=p(t);l=h(V,"DIV",{class:!0});var Q=p(l);r=h(Q,"SPAN",{class:!0}),p(r).forEach(f),a=T(Q),c=h(Q,"SPAN",{class:!0});var _e=p(c);g=ee(_e,i),_e.forEach(f),k=T(Q),C&&C.l(Q),Q.forEach(f),w=T(V),E=h(V,"P",{class:!0});var ie=p(E);O=ee(ie,B),P=T(ie),j&&j.l(ie),ie.forEach(f),y=T(V),V.forEach(f),this.h()},h(){o(r,"class",n="h-2 w-2 rounded-full "+(e[49].id==="dual"?"bg-purple-500":e[49].id==="agent"?"bg-blue-500":"bg-amber-500")),o(c,"class","font-medium"),o(l,"class","flex items-center gap-2"),o(E,"class","mt-1 text-xs text-gray-500 dark:text-gray-400 leading-snug"),o(t,"class",_="w-full text-left px-3 py-2 text-sm transition "+(e[3]?.id===e[49].id?"bg-brand/5 border-l-4 border-brand pl-2":"")+" "+(e[50]?"opacity-40 cursor-not-allowed":"hover:bg-brand/10 dark:hover:bg-brand/20")),t.disabled=L=e[10]||e[50],o(t,"title",M=e[51]||""),this.first=t},m(A,V){N(A,t,V),d(t,l),d(l,r),d(l,a),d(l,c),d(c,g),d(l,k),C&&C.m(l,null),d(t,w),d(t,E),d(E,O),d(E,P),j&&j.m(E,null),d(t,y),x||(D=$(t,"click",z),x=!0)},p(A,V){e=A,V[0]&256&&n!==(n="h-2 w-2 rounded-full "+(e[49].id==="dual"?"bg-purple-500":e[49].id==="agent"?"bg-blue-500":"bg-amber-500"))&&o(r,"class",n),V[0]&256&&i!==(i=e[49].label+"")&&fe(g,i),e[50]?C||(C=Ut(),C.c(),C.m(l,null)):C&&(C.d(1),C=null),V[0]&256&&B!==(B=e[49].description+"")&&fe(O,B),e[50]?j?j.p(e,V):(j=Rt(e),j.c(),j.m(E,null)):j&&(j.d(1),j=null),V[0]&16648&&_!==(_="w-full text-left px-3 py-2 text-sm transition "+(e[3]?.id===e[49].id?"bg-brand/5 border-l-4 border-brand pl-2":"")+" "+(e[50]?"opacity-40 cursor-not-allowed":"hover:bg-brand/10 dark:hover:bg-brand/20"))&&o(t,"class",_),V[0]&17664&&L!==(L=e[10]||e[50])&&(t.disabled=L),V[0]&24832&&M!==(M=e[51]||"")&&o(t,"title",M)},d(A){A&&f(t),C&&C.d(),j&&j.d(),x=!1,D()}}}function Gt(s){let e,t,l;return{c(){e=m("div"),t=te("Cognitive mode error: "),l=te(s[11]),this.h()},l(r){e=h(r,"DIV",{class:!0});var n=p(e);t=ee(n,"Cognitive mode error: "),l=ee(n,s[11]),n.forEach(f),this.h()},h(){o(e,"class","px-4 py-2 text-sm text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-950/40 border-b border-red-200 dark:border-red-900/60")},m(r,n){N(r,e,n),d(e,t),d(e,l)},p(r,n){n[0]&2048&&fe(l,r[11])},d(r){r&&f(e)}}}function Sl(s){let e,t='<svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span><strong>Wetware Deceased:</strong> Operating as independent digital consciousness. Dual consciousness mode unavailable.</span>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-6dvdwd"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-4 py-2 text-sm text-indigo-800 dark:text-indigo-200 bg-indigo-50 dark:bg-indigo-950/40 border-b border-indigo-200 dark:border-indigo-900/60 flex items-center gap-2")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ll(s){let e,t='<svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span><strong>High Security Mode Active:</strong> Only emulation mode is allowed. All write operations are disabled.</span>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1fk3dbn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-4 py-2 text-sm text-red-800 dark:text-red-200 bg-red-50 dark:bg-red-950/40 border-b border-red-200 dark:border-red-900/60 flex items-center gap-2")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Jt(s){let e,t,l;return{c(){e=m("div"),this.h()},l(r){e=h(r,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),p(e).forEach(f),this.h()},h(){o(e,"class","fixed inset-0 bg-black/50 z-20"),o(e,"role","button"),o(e,"tabindex","0"),o(e,"aria-label","Close sidebar")},m(r,n){N(r,e,n),t||(l=[$(e,"click",s[25]),$(e,"keydown",s[36])],t=!0)},p:ve,d(r){r&&f(e),t=!1,tt(l)}}}function Wt(s){let e,t,l;return{c(){e=m("div"),this.h()},l(r){e=h(r,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),p(e).forEach(f),this.h()},h(){o(e,"class","fixed inset-0 bg-black/50 z-20"),o(e,"role","button"),o(e,"tabindex","0"),o(e,"aria-label","Close sidebar")},m(r,n){N(r,e,n),t||(l=[$(e,"click",s[26]),$(e,"keydown",s[37])],t=!0)},p:ve,d(r){r&&f(e),t=!1,tt(l)}}}function Tl(s){let e,t,l;var r=s[0];function n(a,c){return{props:{cognitiveMode:a[3]?.id}}}return r&&(e=Lt(r,n(s))),{c(){e&&dt(e.$$.fragment),t=ke()},l(a){e&&Zt(e.$$.fragment,a),t=ke()},m(a,c){e&&it(e,a,c),N(a,t,c),l=!0},p(a,c){if(c[0]&1&&r!==(r=a[0])){if(e){ut();const i=e;me(i.$$.fragment,1,0,()=>{nt(i,1)}),ct()}r?(e=Lt(r,n(a)),dt(e.$$.fragment),be(e.$$.fragment,1),it(e,t.parentNode,t)):e=null}else if(r){const i={};c[0]&8&&(i.cognitiveMode=a[3]?.id),e.$set(i)}},i(a){l||(e&&be(e.$$.fragment,a),l=!0)},o(a){e&&me(e.$$.fragment,a),l=!1},d(a){a&&f(t),e&&nt(e,a)}}}function Il(s){let e,t='<div class="text-center"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-400">Loading Node Editor...</p></div>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-74wbd8"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center justify-center h-screen bg-white dark:bg-slate-950")},m(l,r){N(l,e,r)},p:ve,i:ve,o:ve,d(l){l&&f(e)}}}function Vl(s){let e,t,l,r;const n=[vl,gl],a=[];function c(i,g){return i[5]?0:1}return e=c(s),t=a[e]=n[e](s),{c(){t.c(),l=ke()},l(i){t.l(i),l=ke()},m(i,g){a[e].m(i,g),N(i,l,g),r=!0},p(i,g){let k=e;e=c(i),e===k?a[e].p(i,g):(ut(),me(a[k],1,1,()=>{a[k]=null}),ct(),t=a[e],t?t.p(i,g):(t=a[e]=n[e](i),t.c()),be(t,1),t.m(l.parentNode,l))},i(i){r||(be(t),r=!0)},o(i){me(t),r=!1},d(i){i&&f(l),a[e].d(i)}}}function xl(s,e,t){let l,r,n,a;Ct(s,It,b=>t(5,n=b)),Ct(s,Vt,b=>t(27,a=b));let{$$slots:c={},$$scope:i}=e,g=null,k=!1,w=!1,E=!1,B=!0;const O=ol(!1);el("leftSidebarOpen",O);let P=null,y=[],_=!1,L=!1,M="",x=null,D=null,C=[],j=[],z=null,A=!1,V=null,Q="MetaHuman OS",_e=null,ie=!1;const Le={icon:"üí≠",color:"#7c3aed",glow:"rgba(124, 58, 237, 0.55)"};function Be(b){if(!b)return Le;switch(b.id){case"dual":return{icon:"üí≠",color:"#a855f7",glow:"rgba(168, 85, 247, 0.65)"};case"agent":return{icon:"üõ†Ô∏è",color:"#38bdf8",glow:"rgba(56, 189, 248, 0.6)"};case"emulation":return{icon:"ü™Ñ",color:"#fbbf24",glow:"rgba(251, 191, 36, 0.55)"};default:return Le}}function X(){typeof window<"u"&&t(7,B=window.innerWidth<768)}async function le(b=!1){try{const S=b?`?_t=${Date.now()}`:"",Y=await Me(`/api/status${S}`,{cache:"no-store"});if(!Y.ok)throw new Error(`Failed to load persona (status ${Y.status})`);const U=await Y.json();nl.set(U),U?.identity?.name&&t(17,Q=U.identity.name),U?.identity?.icon&&t(18,_e=U.identity.icon)}catch(S){console.warn("Failed to load persona name:",S)}finally{}}async function de(){t(10,L=!0);try{const b=await Me("/api/cognitive-mode",{cache:"no-store"});if(!b.ok)throw new Error(`Failed to load cognitive mode (status ${b.status})`);const S=await b.json();t(8,y=Array.isArray(S?.modes)?S.modes:[]);const Y=y.find(U=>U.id===S?.mode);t(3,P=Y??null),t(11,M="")}catch(b){t(11,M=b.message)}finally{t(10,L=!1)}}async function Ce(b){if(!L){t(10,L=!0);try{const S=await Me("/api/cognitive-mode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:b,actor:"web_ui"})});if(!S.ok){if(S.status===403){const Y=await S.json().catch(()=>({}));throw new Error("Please log in to change cognitive modes. Only authenticated users can switch between modes.")}throw new Error(`Failed to update cognitive mode (status ${S.status})`)}await de(),await il(),Vt.update(Y=>Y+1),t(9,_=!1)}catch(S){t(11,M=S.message)}finally{t(10,L=!1)}}}async function Te(){try{const S=await(await Me("/api/system-status")).json();S.success&&(t(13,D=S),t(14,C=S.allowedModes||[]),j=S.disabledModes||[])}catch(b){console.error("[ChatLayout] Failed to fetch system status:",b)}}async function ze(){try{const S=await(await Me("/api/auth/me")).json();S.success&&S.user?t(4,z=S.user):t(4,z=null)}catch(b){console.error("[ChatLayout] Failed to fetch user:",b),t(4,z=null)}}async function ce(){try{await Me("/api/auth/logout",{method:"POST"}),window.location.href="/"}catch(b){console.error("[ChatLayout] Logout failed:",b)}}function qe(){t(15,A=!A)}const Se=b=>{_&&x&&!x.contains(b.target)&&t(9,_=!1),A&&V&&!V.contains(b.target)&&t(15,A=!1)};Qt(()=>{cl(),X();const b=!B,S=!B,Y=localStorage.getItem("leftSidebarOpen"),U=localStorage.getItem("rightSidebarOpen");t(2,w=Y!==null?Y==="true":b),t(6,E=U!==null?U==="true":S),window.addEventListener("resize",X);const ue=()=>{try{const H=window.innerHeight;document.documentElement.style.setProperty("--app-vh",`${H}px`)}catch{}};ue(),window.addEventListener("resize",ue),window.addEventListener("orientationchange",ue),le(),de(),Te(),ze(),document.addEventListener("click",Se,!0);const Ne=setInterval(le,3e4),Re=dl(3e4);return()=>{window.removeEventListener("resize",X),window.removeEventListener("resize",ue),window.removeEventListener("orientationchange",ue),document.removeEventListener("click",Se,!0),clearInterval(Ne),Re()}}),tl(()=>{typeof document<"u"&&document.removeEventListener("click",Se,!0)});function Ie(){t(2,w=!w),localStorage.setItem("leftSidebarOpen",String(w))}function pe(){t(6,E=!E),localStorage.setItem("rightSidebarOpen",String(E))}const Fe=()=>{t(19,ie=!0)};function Ve(b){St[b?"unshift":"push"](()=>{V=b,t(16,V)})}const xe=()=>{t(9,_=!_)},F=(b,S)=>!b&&Ce(S.id);function we(b){St[b?"unshift":"push"](()=>{x=b,t(12,x)})}const ye=()=>It.update(b=>!b),De=b=>b.key==="Escape"&&Ie(),Ue=b=>b.key==="Escape"&&pe();return s.$$set=b=>{"$$scope"in b&&t(28,i=b.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&4&&O.set(w),s.$$.dirty[0]&16&&t(21,l=z?.role==="anonymous"&&z?.metadata?.sourceProfile?`Guest: ${z.metadata.sourceProfile}`:z?.metadata?.displayName||z?.username||"Anonymous"),s.$$.dirty[0]&8&&t(20,r=Be(P)),s.$$.dirty[0]&134217728&&a>0&&(le(!0),de()),s.$$.dirty[0]&35&&n&&!g&&!k&&(t(1,k=!0),al(()=>import("./NodeEditorLayout.Bfa0i-rg.js"),__vite__mapDeps([0,1,2,3,4])).then(b=>{t(0,g=b.default),t(1,k=!1)}).catch(b=>{console.error("[ChatLayout] Failed to load NodeEditorLayout:",b),t(1,k=!1)}))},[g,k,w,P,z,n,E,B,y,_,L,M,x,D,C,A,V,Q,_e,ie,r,l,Ce,ce,qe,Ie,pe,a,i,c,Fe,Ve,xe,F,we,ye,De,Ue]}class Ol extends Kt{constructor(e){super(),Xt(this,e,xl,Vl,Yt,{},null,[-1,-1])}}export{Ol as default};
