import{S as T,i as q,s as F,n as k,d as u,a as v,b as g,c as _,e as p,f as y,g as O,h as I,j as m,k as N,o as B,l as w,m as D,p as P,q as E,t as M,r as C,u as J,v as V,w as L,x as S,y as x,z}from"./api-config.B-uR5Kyo.js";/* empty css                         */function j(c,e,l){const n=c.slice();return n[7]=e[l],n}function G(c){let e,l,n,a=C(c[0]),t=[];for(let s=0;s<a.length;s+=1)t[s]=A(j(c,a,s));return{c(){e=m("select");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=p(s,"SELECT",{id:!0,class:!0});var r=y(e);for(let o=0;o<t.length;o+=1)t[o].l(r);r.forEach(u),this.h()},h(){_(e,"id","model-selector"),_(e,"class","svelte-1szb5sd"),c[1]===void 0&&x(()=>c[5].call(e))},m(s,r){v(s,e,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null);L(e,c[1],!0),l||(n=[S(e,"change",c[4]),S(e,"change",c[5])],l=!0)},p(s,r){if(r&1){a=C(s[0]);let o;for(o=0;o<a.length;o+=1){const i=j(s,a,o);t[o]?t[o].p(i,r):(t[o]=A(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=a.length}r&3&&L(e,s[1])},d(s){s&&u(e),J(t,s),l=!1,V(n)}}}function H(c){let e,l,n;return{c(){e=m("p"),l=M("Error: "),n=M(c[3]),this.h()},l(a){e=p(a,"P",{class:!0});var t=y(e);l=E(t,"Error: "),n=E(t,c[3]),t.forEach(u),this.h()},h(){_(e,"class","error svelte-1szb5sd")},m(a,t){v(a,e,t),g(e,l),g(e,n)},p(a,t){t&8&&P(n,a[3])},d(a){a&&u(e)}}}function K(c){let e,l="Loading models...";return{c(){e=m("p"),e.textContent=l},l(n){e=p(n,"P",{"data-svelte-h":!0}),O(e)!=="svelte-1gsyej8"&&(e.textContent=l)},m(n,a){v(n,e,a)},p:k,d(n){n&&u(e)}}}function A(c){let e,l=c[7]+"",n,a;return{c(){e=m("option"),n=M(l),this.h()},l(t){e=p(t,"OPTION",{});var s=y(e);n=E(s,l),s.forEach(u),this.h()},h(){e.__value=a=c[7],z(e,e.__value)},m(t,s){v(t,e,s),g(e,n)},p(t,s){s&1&&l!==(l=t[7]+"")&&P(n,l),s&1&&a!==(a=t[7])&&(e.__value=a,z(e,e.__value))},d(t){t&&u(e)}}}function Q(c){let e,l,n="Active LLM",a;function t(o,i){return o[2]?K:o[3]?H:G}let s=t(c),r=s(c);return{c(){e=m("div"),l=m("label"),l.textContent=n,a=N(),r.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var i=y(e);l=p(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(l)!=="svelte-eh9p0q"&&(l.textContent=n),a=I(i),r.l(i),i.forEach(u),this.h()},h(){_(l,"for","model-selector"),_(l,"class","svelte-1szb5sd"),_(e,"class","model-selector-container svelte-1szb5sd")},m(o,i){v(o,e,i),g(e,l),g(e,a),r.m(e,null)},p(o,[i]){s===(s=t(o))&&r?r.p(o,i):(r.d(1),r=s(o),r&&(r.c(),r.m(e,null)))},i:k,o:k,d(o){o&&u(e),r.d()}}}function R(c,e,l){let n=[],a="",t=!0,s=null;B(async()=>{await r()});async function r(){l(2,t=!0),l(3,s=null);try{const h=await w("/api/models");if(!h.ok)throw new Error("Failed to fetch models");const d=await h.json(),f=Array.isArray(d.baseModels)?d.baseModels:[],b=d.agent?.model||"";l(0,n=f.includes(b)||!b?f:[b,...f]),l(1,a=b||n[0]||"")}catch(h){l(3,s=h.message)}finally{l(2,t=!1)}}async function o(h){const d=h.target.value;if(d!==a)try{if(!(await w("/api/models",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baseModel:d})})).ok)throw new Error("Failed to update model");l(1,a=d),await r(),console.log(`Model updated to ${d}`)}catch(f){l(3,s=f.message)}}function i(){a=D(this),l(1,a),l(0,n)}return[n,a,t,s,o,i]}class X extends T{constructor(e){super(),q(this,e,R,Q,F,{})}}export{X as default};
