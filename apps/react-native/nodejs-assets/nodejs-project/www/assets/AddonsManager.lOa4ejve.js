import{S as Be,i as Fe,s as Je,n as oe,d as h,a as N,b as f,c as b,e as m,f as S,g as X,h as I,j as g,k as V,o as Re,l as ce,p as W,q as L,t as H,r as ne,u as _e,v as He,x as ee,N as Ge,X as We,L as ae,M as pe}from"./api-config.B-uR5Kyo.js";function Ce(l,e,t){const s=l.slice();return s[23]=e[t],s}function Ee(l,e,t){const s=l.slice();return s[26]=e[t][0],s[27]=e[t][1],s}function ye(l,e,t){const s=l.slice();return s[30]=e[t],s}function Se(l,e,t){const s=l.slice();return s[33]=e[t][0],s[34]=e[t][1],s}function Te(l){let e,t;return{c(){e=g("div"),t=H(l[4]),this.h()},l(s){e=m(s,"DIV",{class:!0});var a=S(e);t=L(a,l[4]),a.forEach(h),this.h()},h(){b(e,"class","error-message svelte-bzcw4z")},m(s,a){N(s,e,a),f(e,t)},p(s,a){a[0]&16&&W(t,s[4])},d(s){s&&h(e)}}}function Xe(l){let e,t,s="All Addons",a,r,c,o,n,i,u,_=ne(Object.entries(l[2])),d=[];for(let p=0;p<_.length;p+=1)d[p]=De(Se(l,_,p));let E=ne(l[10]),k=[];for(let p=0;p<E.length;p+=1)k[p]=Me(Ee(l,E,p));let C=l[10].length===0&&Ue();return{c(){e=g("div"),t=g("button"),t.textContent=s,a=V();for(let p=0;p<d.length;p+=1)d[p].c();r=V(),c=g("div");for(let p=0;p<k.length;p+=1)k[p].c();o=V(),C&&C.c(),n=pe(),this.h()},l(p){e=m(p,"DIV",{class:!0});var O=S(e);t=m(O,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-jdt1f0"&&(t.textContent=s),a=I(O);for(let w=0;w<d.length;w+=1)d[w].l(O);O.forEach(h),r=I(p),c=m(p,"DIV",{class:!0});var z=S(c);for(let w=0;w<k.length;w+=1)k[w].l(z);z.forEach(h),o=I(p),C&&C.l(p),n=pe(),this.h()},h(){b(t,"class","category-btn svelte-bzcw4z"),ae(t,"active",l[0]===null),b(e,"class","category-filter svelte-bzcw4z"),b(c,"class","addons-grid svelte-bzcw4z")},m(p,O){N(p,e,O),f(e,t),f(e,a);for(let z=0;z<d.length;z+=1)d[z]&&d[z].m(e,null);N(p,r,O),N(p,c,O);for(let z=0;z<k.length;z+=1)k[z]&&k[z].m(c,null);N(p,o,O),C&&C.m(p,O),N(p,n,O),i||(u=ee(t,"click",l[16]),i=!0)},p(p,O){if(O[0]&1&&ae(t,"active",p[0]===null),O[0]&5){_=ne(Object.entries(p[2]));let z;for(z=0;z<_.length;z+=1){const w=Se(p,_,z);d[z]?d[z].p(w,O):(d[z]=De(w),d[z].c(),d[z].m(e,null))}for(;z<d.length;z+=1)d[z].d(1);d.length=_.length}if(O[0]&27748){E=ne(p[10]);let z;for(z=0;z<E.length;z+=1){const w=Ee(p,E,z);k[z]?k[z].p(w,O):(k[z]=Me(w),k[z].c(),k[z].m(c,null))}for(;z<k.length;z+=1)k[z].d(1);k.length=E.length}p[10].length===0?C||(C=Ue(),C.c(),C.m(n.parentNode,n)):C&&(C.d(1),C=null)},d(p){p&&(h(e),h(r),h(c),h(o),h(n)),_e(d,p),_e(k,p),C&&C.d(p),i=!1,u()}}}function Ke(l){let e,t="Loading addons...";return{c(){e=g("div"),e.textContent=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-f5tzdo"&&(e.textContent=t),this.h()},h(){b(e,"class","loading svelte-bzcw4z")},m(s,a){N(s,e,a)},p:oe,d(s){s&&h(e)}}}function De(l){let e,t=l[34].name+"",s,a,r,c;function o(){return l[17](l[33])}return{c(){e=g("button"),s=H(t),a=V(),this.h()},l(n){e=m(n,"BUTTON",{class:!0});var i=S(e);s=L(i,t),a=I(i),i.forEach(h),this.h()},h(){b(e,"class","category-btn svelte-bzcw4z"),ae(e,"active",l[0]===l[33])},m(n,i){N(n,e,i),f(e,s),f(e,a),r||(c=ee(e,"click",o),r=!0)},p(n,i){l=n,i[0]&4&&t!==(t=l[34].name+"")&&W(s,t),i[0]&5&&ae(e,"active",l[0]===l[33])},d(n){n&&h(e),r=!1,c()}}}function Qe(l){let e,t="Not Installed";return{c(){e=g("span"),e.textContent=t,this.h()},l(s){e=m(s,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-p3vmk"&&(e.textContent=t),this.h()},h(){b(e,"class","status-badge not-installed svelte-bzcw4z")},m(s,a){N(s,e,a)},p:oe,d(s){s&&h(e)}}}function Ye(l){let e,t="Installed",s,a;function r(n,i){return n[27].enabled?$e:Ze}let c=r(l),o=c(l);return{c(){e=g("span"),e.textContent=t,s=V(),o.c(),a=pe(),this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-houwgl"&&(e.textContent=t),s=I(n),o.l(n),a=pe(),this.h()},h(){b(e,"class","status-badge installed svelte-bzcw4z")},m(n,i){N(n,e,i),N(n,s,i),o.m(n,i),N(n,a,i)},p(n,i){c!==(c=r(n))&&(o.d(1),o=c(n),o&&(o.c(),o.m(a.parentNode,a)))},d(n){n&&(h(e),h(s),h(a)),o.d(n)}}}function Ze(l){let e,t="Disabled";return{c(){e=g("span"),e.textContent=t,this.h()},l(s){e=m(s,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-7ps4z1"&&(e.textContent=t),this.h()},h(){b(e,"class","status-badge disabled svelte-bzcw4z")},m(s,a){N(s,e,a)},d(s){s&&h(e)}}}function $e(l){let e,t="Enabled";return{c(){e=g("span"),e.textContent=t,this.h()},l(s){e=m(s,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-it1943"&&(e.textContent=t),this.h()},h(){b(e,"class","status-badge enabled svelte-bzcw4z")},m(s,a){N(s,e,a)},d(s){s&&h(e)}}}function Ne(l){let e,t,s=l[27].note+"",a;return{c(){e=g("div"),t=H("ℹ️ "),a=H(s),this.h()},l(r){e=m(r,"DIV",{class:!0});var c=S(e);t=L(c,"ℹ️ "),a=L(c,s),c.forEach(h),this.h()},h(){b(e,"class","addon-note svelte-bzcw4z")},m(r,c){N(r,e,c),f(e,t),f(e,a)},p(r,c){c[0]&1024&&s!==(s=r[27].note+"")&&W(a,s)},d(r){r&&h(e)}}}function Ae(l){let e,t,s="Python:",a,r,c=l[27].requirements.python+"",o;return{c(){e=g("div"),t=g("span"),t.textContent=s,a=V(),r=g("span"),o=H(c),this.h()},l(n){e=m(n,"DIV",{class:!0});var i=S(e);t=m(i,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-o49c0v"&&(t.textContent=s),a=I(i),r=m(i,"SPAN",{class:!0});var u=S(r);o=L(u,c),u.forEach(h),i.forEach(h),this.h()},h(){b(t,"class","detail-label svelte-bzcw4z"),b(r,"class","detail-value svelte-bzcw4z"),b(e,"class","detail-item svelte-bzcw4z")},m(n,i){N(n,e,i),f(e,t),f(e,a),f(e,r),f(r,o)},p(n,i){i[0]&1024&&c!==(c=n[27].requirements.python+"")&&W(o,c)},d(n){n&&h(e)}}}function Ie(l){let e,t,s="GPU:",a,r,c=l[27].requirements.gpu+"",o;return{c(){e=g("div"),t=g("span"),t.textContent=s,a=V(),r=g("span"),o=H(c),this.h()},l(n){e=m(n,"DIV",{class:!0});var i=S(e);t=m(i,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-uuukqn"&&(t.textContent=s),a=I(i),r=m(i,"SPAN",{class:!0});var u=S(r);o=L(u,c),u.forEach(h),i.forEach(h),this.h()},h(){b(t,"class","detail-label svelte-bzcw4z"),b(r,"class","detail-value svelte-bzcw4z"),b(e,"class","detail-item svelte-bzcw4z")},m(n,i){N(n,e,i),f(e,t),f(e,a),f(e,r),f(r,o)},p(n,i){i[0]&1024&&c!==(c=n[27].requirements.gpu+"")&&W(o,c)},d(n){n&&h(e)}}}function Ve(l){let e,t,s="VRAM:",a,r,c=l[27].requirements.vram+"",o;return{c(){e=g("div"),t=g("span"),t.textContent=s,a=V(),r=g("span"),o=H(c),this.h()},l(n){e=m(n,"DIV",{class:!0});var i=S(e);t=m(i,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1e2pkqf"&&(t.textContent=s),a=I(i),r=m(i,"SPAN",{class:!0});var u=S(r);o=L(u,c),u.forEach(h),i.forEach(h),this.h()},h(){b(t,"class","detail-label svelte-bzcw4z"),b(r,"class","detail-value svelte-bzcw4z"),b(e,"class","detail-item svelte-bzcw4z")},m(n,i){N(n,e,i),f(e,t),f(e,a),f(e,r),f(r,o)},p(n,i){i[0]&1024&&c!==(c=n[27].requirements.vram+"")&&W(o,c)},d(n){n&&h(e)}}}function Pe(l){let e,t,s="Python packages:",a,r,c=ne(l[27].dependencies.pip),o=[];for(let n=0;n<c.length;n+=1)o[n]=Oe(ye(l,c,n));return{c(){e=g("div"),t=g("strong"),t.textContent=s,a=V(),r=g("div");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=m(n,"DIV",{class:!0});var i=S(e);t=m(i,"STRONG",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1msa53r"&&(t.textContent=s),a=I(i),r=m(i,"DIV",{class:!0});var u=S(r);for(let _=0;_<o.length;_+=1)o[_].l(u);u.forEach(h),i.forEach(h),this.h()},h(){b(t,"class","svelte-bzcw4z"),b(r,"class","deps-list svelte-bzcw4z"),b(e,"class","addon-dependencies svelte-bzcw4z")},m(n,i){N(n,e,i),f(e,t),f(e,a),f(e,r);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(r,null)},p(n,i){if(i[0]&1024){c=ne(n[27].dependencies.pip);let u;for(u=0;u<c.length;u+=1){const _=ye(n,c,u);o[u]?o[u].p(_,i):(o[u]=Oe(_),o[u].c(),o[u].m(r,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=c.length}},d(n){n&&h(e),_e(o,n)}}}function Oe(l){let e,t=l[30]+"",s;return{c(){e=g("code"),s=H(t),this.h()},l(a){e=m(a,"CODE",{class:!0});var r=S(e);s=L(r,t),r.forEach(h),this.h()},h(){b(e,"class","dep-tag svelte-bzcw4z")},m(a,r){N(a,e,r),f(e,s)},p(a,r){r[0]&1024&&t!==(t=a[30]+"")&&W(s,t)},d(a){a&&h(e)}}}function xe(l){let e,t=l[5][l[26]]?"Installing...":"Install",s,a,r,c;function o(){return l[20](l[26])}return{c(){e=g("button"),s=H(t),this.h()},l(n){e=m(n,"BUTTON",{class:!0});var i=S(e);s=L(i,t),i.forEach(h),this.h()},h(){b(e,"class","btn btn-primary svelte-bzcw4z"),e.disabled=a=l[5][l[26]]},m(n,i){N(n,e,i),f(e,s),r||(c=ee(e,"click",o),r=!0)},p(n,i){l=n,i[0]&1056&&t!==(t=l[5][l[26]]?"Installing...":"Install")&&W(s,t),i[0]&1056&&a!==(a=l[5][l[26]])&&(e.disabled=a)},d(n){n&&h(e),r=!1,c()}}}function et(l){let e,t=l[6][l[26]]?"Updating...":l[27].enabled?"✓ Enabled":"Enable",s,a,r,c,o=l[5][l[26]]?"Uninstalling...":"Uninstall",n,i,u,_;function d(){return l[18](l[26])}function E(){return l[19](l[26])}return{c(){e=g("button"),s=H(t),r=V(),c=g("button"),n=H(o),this.h()},l(k){e=m(k,"BUTTON",{class:!0});var C=S(e);s=L(C,t),C.forEach(h),r=I(k),c=m(k,"BUTTON",{class:!0});var p=S(c);n=L(p,o),p.forEach(h),this.h()},h(){b(e,"class","btn btn-toggle svelte-bzcw4z"),e.disabled=a=l[6][l[26]],ae(e,"enabled",l[27].enabled),b(c,"class","btn btn-secondary svelte-bzcw4z"),c.disabled=i=l[5][l[26]]},m(k,C){N(k,e,C),f(e,s),N(k,r,C),N(k,c,C),f(c,n),u||(_=[ee(e,"click",d),ee(c,"click",E)],u=!0)},p(k,C){l=k,C[0]&1088&&t!==(t=l[6][l[26]]?"Updating...":l[27].enabled?"✓ Enabled":"Enable")&&W(s,t),C[0]&1088&&a!==(a=l[6][l[26]])&&(e.disabled=a),C[0]&1024&&ae(e,"enabled",l[27].enabled),C[0]&1056&&o!==(o=l[5][l[26]]?"Uninstalling...":"Uninstall")&&W(n,o),C[0]&1056&&i!==(i=l[5][l[26]])&&(c.disabled=i)},d(k){k&&(h(e),h(r),h(c)),u=!1,He(_)}}}function Me(l){let e,t,s,a,r=l[27].name+"",c,o,n,i=(l[2][l[27].category]?.name||l[27].category)+"",u,_,d,E,k,C=l[27].description+"",p,O,z,w,M,Q,x="Size:",R,T,B=l[27].size+"",v,D,F,G,te,$,Y,re;function fe(y,A){return y[27].installed?Ye:Qe}let ie=fe(l),K=ie(l),q=l[27].note&&Ne(l),j=l[27].requirements.python&&Ae(l),U=l[27].requirements.gpu&&Ie(l),J=l[27].requirements.vram&&Ve(l),P=l[27].dependencies?.pip&&l[27].dependencies.pip.length>0&&Pe(l);function le(y,A){return y[27].installed?et:xe}let de=le(l),Z=de(l);return{c(){e=g("div"),t=g("div"),s=g("div"),a=g("h3"),c=H(r),o=V(),n=g("span"),u=H(i),_=V(),d=g("div"),K.c(),E=V(),k=g("p"),p=H(C),O=V(),q&&q.c(),z=V(),w=g("div"),M=g("div"),Q=g("span"),Q.textContent=x,R=V(),T=g("span"),v=H(B),D=V(),j&&j.c(),F=V(),U&&U.c(),G=V(),J&&J.c(),te=V(),P&&P.c(),$=V(),Y=g("div"),Z.c(),re=V(),this.h()},l(y){e=m(y,"DIV",{class:!0});var A=S(e);t=m(A,"DIV",{class:!0});var ue=S(t);s=m(ue,"DIV",{class:!0});var he=S(s);a=m(he,"H3",{class:!0});var be=S(a);c=L(be,r),be.forEach(h),o=I(he),n=m(he,"SPAN",{class:!0});var me=S(n);u=L(me,i),me.forEach(h),he.forEach(h),_=I(ue),d=m(ue,"DIV",{class:!0});var ge=S(d);K.l(ge),ge.forEach(h),ue.forEach(h),E=I(A),k=m(A,"P",{class:!0});var ze=S(k);p=L(ze,C),ze.forEach(h),O=I(A),q&&q.l(A),z=I(A),w=m(A,"DIV",{class:!0});var se=S(w);M=m(se,"DIV",{class:!0});var ve=S(M);Q=m(ve,"SPAN",{class:!0,"data-svelte-h":!0}),X(Q)!=="svelte-s7zdhu"&&(Q.textContent=x),R=I(ve),T=m(ve,"SPAN",{class:!0});var we=S(T);v=L(we,B),we.forEach(h),ve.forEach(h),D=I(se),j&&j.l(se),F=I(se),U&&U.l(se),G=I(se),J&&J.l(se),se.forEach(h),te=I(A),P&&P.l(A),$=I(A),Y=m(A,"DIV",{class:!0});var ke=S(Y);Z.l(ke),ke.forEach(h),re=I(A),A.forEach(h),this.h()},h(){b(a,"class","svelte-bzcw4z"),b(n,"class","addon-category svelte-bzcw4z"),b(s,"class","addon-title svelte-bzcw4z"),b(d,"class","addon-status svelte-bzcw4z"),b(t,"class","addon-header svelte-bzcw4z"),b(k,"class","addon-description svelte-bzcw4z"),b(Q,"class","detail-label svelte-bzcw4z"),b(T,"class","detail-value svelte-bzcw4z"),b(M,"class","detail-item svelte-bzcw4z"),b(w,"class","addon-details svelte-bzcw4z"),b(Y,"class","addon-actions svelte-bzcw4z"),b(e,"class","addon-card svelte-bzcw4z"),ae(e,"installed",l[27].installed)},m(y,A){N(y,e,A),f(e,t),f(t,s),f(s,a),f(a,c),f(s,o),f(s,n),f(n,u),f(t,_),f(t,d),K.m(d,null),f(e,E),f(e,k),f(k,p),f(e,O),q&&q.m(e,null),f(e,z),f(e,w),f(w,M),f(M,Q),f(M,R),f(M,T),f(T,v),f(w,D),j&&j.m(w,null),f(w,F),U&&U.m(w,null),f(w,G),J&&J.m(w,null),f(e,te),P&&P.m(e,null),f(e,$),f(e,Y),Z.m(Y,null),f(e,re)},p(y,A){A[0]&1024&&r!==(r=y[27].name+"")&&W(c,r),A[0]&1028&&i!==(i=(y[2][y[27].category]?.name||y[27].category)+"")&&W(u,i),ie===(ie=fe(y))&&K?K.p(y,A):(K.d(1),K=ie(y),K&&(K.c(),K.m(d,null))),A[0]&1024&&C!==(C=y[27].description+"")&&W(p,C),y[27].note?q?q.p(y,A):(q=Ne(y),q.c(),q.m(e,z)):q&&(q.d(1),q=null),A[0]&1024&&B!==(B=y[27].size+"")&&W(v,B),y[27].requirements.python?j?j.p(y,A):(j=Ae(y),j.c(),j.m(w,F)):j&&(j.d(1),j=null),y[27].requirements.gpu?U?U.p(y,A):(U=Ie(y),U.c(),U.m(w,G)):U&&(U.d(1),U=null),y[27].requirements.vram?J?J.p(y,A):(J=Ve(y),J.c(),J.m(w,null)):J&&(J.d(1),J=null),y[27].dependencies?.pip&&y[27].dependencies.pip.length>0?P?P.p(y,A):(P=Pe(y),P.c(),P.m(e,$)):P&&(P.d(1),P=null),de===(de=le(y))&&Z?Z.p(y,A):(Z.d(1),Z=de(y),Z&&(Z.c(),Z.m(Y,null))),A[0]&1024&&ae(e,"installed",y[27].installed)},d(y){y&&h(e),K.d(),q&&q.d(),j&&j.d(),U&&U.d(),J&&J.d(),P&&P.d(),Z.d()}}}function Ue(l){let e,t="<p>No addons found in this category.</p>";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-11v6e22"&&(e.innerHTML=t),this.h()},h(){b(e,"class","empty-state svelte-bzcw4z")},m(s,a){N(s,e,a)},d(s){s&&h(e)}}}function qe(l){let e,t,s,a,r,c=(l[1][l[9]]?.name||l[9])+"",o,n,i,u="×",_,d,E,k,C,p,O,z=ne(l[8]),w=[];for(let T=0;T<z.length;T+=1)w[T]=je(Ce(l,z,T));let M=l[8].length===0&&Le();function Q(T,B){return T[5][T[9]]?lt:tt}let x=Q(l),R=x(l);return{c(){e=g("div"),t=g("div"),s=g("div"),a=g("h3"),r=H("Installing "),o=H(c),n=V(),i=g("button"),i.textContent=u,_=V(),d=g("div");for(let T=0;T<w.length;T+=1)w[T].c();E=V(),M&&M.c(),k=V(),C=g("div"),R.c(),this.h()},l(T){e=m(T,"DIV",{class:!0});var B=S(e);t=m(B,"DIV",{class:!0});var v=S(t);s=m(v,"DIV",{class:!0});var D=S(s);a=m(D,"H3",{class:!0});var F=S(a);r=L(F,"Installing "),o=L(F,c),F.forEach(h),n=I(D),i=m(D,"BUTTON",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-rz3lux"&&(i.textContent=u),D.forEach(h),_=I(v),d=m(v,"DIV",{class:!0});var G=S(d);for(let $=0;$<w.length;$+=1)w[$].l(G);E=I(G),M&&M.l(G),G.forEach(h),k=I(v),C=m(v,"DIV",{class:!0});var te=S(C);R.l(te),te.forEach(h),v.forEach(h),B.forEach(h),this.h()},h(){b(a,"class","svelte-bzcw4z"),b(i,"class","close-btn svelte-bzcw4z"),b(s,"class","modal-header svelte-bzcw4z"),b(d,"class","install-logs svelte-bzcw4z"),b(C,"class","modal-footer svelte-bzcw4z"),b(t,"class","modal-content svelte-bzcw4z"),b(e,"class","modal-overlay svelte-bzcw4z")},m(T,B){N(T,e,B),f(e,t),f(t,s),f(s,a),f(a,r),f(a,o),f(s,n),f(s,i),f(t,_),f(t,d);for(let v=0;v<w.length;v+=1)w[v]&&w[v].m(d,null);f(d,E),M&&M.m(d,null),f(t,k),f(t,C),R.m(C,null),p||(O=[ee(i,"click",l[12]),ee(t,"click",Ge(l[15])),ee(e,"click",l[12])],p=!0)},p(T,B){if(B[0]&514&&c!==(c=(T[1][T[9]]?.name||T[9])+"")&&W(o,c),B[0]&256){z=ne(T[8]);let v;for(v=0;v<z.length;v+=1){const D=Ce(T,z,v);w[v]?w[v].p(D,B):(w[v]=je(D),w[v].c(),w[v].m(d,E))}for(;v<w.length;v+=1)w[v].d(1);w.length=z.length}T[8].length===0?M||(M=Le(),M.c(),M.m(d,null)):M&&(M.d(1),M=null),x===(x=Q(T))&&R?R.p(T,B):(R.d(1),R=x(T),R&&(R.c(),R.m(C,null)))},d(T){T&&h(e),_e(w,T),M&&M.d(),R.d(),p=!1,He(O)}}}function je(l){let e,t,s=l[23].timestamp.toLocaleTimeString()+"",a,r,c,o=l[23].message+"",n,i;return{c(){e=g("div"),t=g("span"),a=H(s),r=V(),c=g("span"),n=H(o),this.h()},l(u){e=m(u,"DIV",{class:!0});var _=S(e);t=m(_,"SPAN",{class:!0});var d=S(t);a=L(d,s),d.forEach(h),r=I(_),c=m(_,"SPAN",{class:!0});var E=S(c);n=L(E,o),E.forEach(h),_.forEach(h),this.h()},h(){b(t,"class","log-time svelte-bzcw4z"),b(c,"class","log-message svelte-bzcw4z"),b(e,"class",i="log-entry log-"+l[23].level+" svelte-bzcw4z")},m(u,_){N(u,e,_),f(e,t),f(t,a),f(e,r),f(e,c),f(c,n)},p(u,_){_[0]&256&&s!==(s=u[23].timestamp.toLocaleTimeString()+"")&&W(a,s),_[0]&256&&o!==(o=u[23].message+"")&&W(n,o),_[0]&256&&i!==(i="log-entry log-"+u[23].level+" svelte-bzcw4z")&&b(e,"class",i)},d(u){u&&h(e)}}}function Le(l){let e,t="Waiting for installation to start...";return{c(){e=g("div"),e.textContent=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-hrecac"&&(e.textContent=t),this.h()},h(){b(e,"class","log-placeholder svelte-bzcw4z")},m(s,a){N(s,e,a)},d(s){s&&h(e)}}}function tt(l){let e,t="Close",s,a;return{c(){e=g("button"),e.textContent=t,this.h()},l(r){e=m(r,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-4w5aii"&&(e.textContent=t),this.h()},h(){b(e,"class","btn btn-primary svelte-bzcw4z")},m(r,c){N(r,e,c),s||(a=ee(e,"click",l[12]),s=!0)},p:oe,d(r){r&&h(e),s=!1,a()}}}function lt(l){let e,t='<span class="spinner svelte-bzcw4z">⏳</span> Installation in progress...';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-4mtj68"&&(e.innerHTML=t),this.h()},h(){b(e,"class","installing-indicator svelte-bzcw4z")},m(s,a){N(s,e,a)},p:oe,d(s){s&&h(e)}}}function st(l){let e,t,s='<h2 class="svelte-bzcw4z">Addons</h2> <p class="subtitle svelte-bzcw4z">Extend MetaHuman with optional features. Install only what you need to keep the system lightweight.</p>',a,r,c,o=l[4]&&Te(l);function n(d,E){return d[3]?Ke:Xe}let i=n(l),u=i(l),_=l[7]&&l[9]&&qe(l);return{c(){e=g("div"),t=g("div"),t.innerHTML=s,a=V(),o&&o.c(),r=V(),u.c(),c=V(),_&&_.c(),this.h()},l(d){e=m(d,"DIV",{class:!0});var E=S(e);t=m(E,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1yabz8x"&&(t.innerHTML=s),a=I(E),o&&o.l(E),r=I(E),u.l(E),c=I(E),_&&_.l(E),E.forEach(h),this.h()},h(){b(t,"class","header svelte-bzcw4z"),b(e,"class","addons-manager svelte-bzcw4z")},m(d,E){N(d,e,E),f(e,t),f(e,a),o&&o.m(e,null),f(e,r),u.m(e,null),f(e,c),_&&_.m(e,null)},p(d,E){d[4]?o?o.p(d,E):(o=Te(d),o.c(),o.m(e,r)):o&&(o.d(1),o=null),i===(i=n(d))&&u?u.p(d,E):(u.d(1),u=i(d),u&&(u.c(),u.m(e,c))),d[7]&&d[9]?_?_.p(d,E):(_=qe(d),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:oe,o:oe,d(d){d&&h(e),o&&o.d(),u.d(),_&&_.d()}}}function nt(l,e,t){let s,a={},r={},c=!0,o=null,n={},i={},u=null,_=!1,d=[],E=null;Re(async()=>{await k()});async function k(){try{t(3,c=!0);const v=await ce("/api/addons");if(!v.ok)throw new Error("Failed to load addons");const D=await v.json();t(1,a={...D.addons}),t(2,r={...D.categories}),t(4,o=null)}catch(v){t(4,o=String(v)),console.error("[AddonsManager] Error loading addons:",v)}finally{t(3,c=!1)}}async function C(v){if(confirm(`Install ${a[v].name}?

This will download and configure the addon. Installation may take several minutes.`))try{t(9,E=v),t(8,d=[]),t(7,_=!0),t(5,n={...n,[v]:!0});const F={kokoro:{script:"bin/install-kokoro.sh",args:["--yes"]},"gpt-sovits":{script:"bin/install-sovits.sh",args:[]},rvc:{script:"bin/install-rvc.sh",args:[]}}[v];if(!F)throw new Error(`No installation script configured for ${v}`);const G=await ce("/api/process-stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"bash",args:[F.script,...F.args]})});if(!G.ok||!G.body)throw new Error("Failed to start installation stream");const te=G.body.getReader(),$=new TextDecoder;let Y="";for(;;){const{done:re,value:fe}=await te.read();if(re)break;Y+=$.decode(fe,{stream:!0});const ie=Y.split(`

`);Y=ie.pop()||"";for(const K of ie){if(!K.trim())continue;const[q,j]=K.split(`
`);if(!q||!j)continue;const U=q.replace("event: ","").trim(),J=j.replace("data: ","").trim();try{const P=JSON.parse(J);if(U==="start")t(8,d=[...d,{level:"info",message:P.message,timestamp:new Date}]);else if(U==="log")t(8,d=[...d,{level:P.level,message:P.message,timestamp:new Date}]),setTimeout(()=>{const le=document.querySelector(".install-logs");le&&(le.scrollTop=le.scrollHeight)},10);else if(U==="complete"){t(8,d=[...d,{level:P.success?"info":"error",message:P.success?P.message:P.error,timestamp:new Date}]),t(5,n={...n,[v]:!1}),P.success&&(await ce("/api/addons/mark-installed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addonId:v,installed:!0})}).catch(le=>console.error("Failed to mark addon as installed:",le)),await k());break}else if(U==="error"){t(8,d=[...d,{level:"error",message:P.message,timestamp:new Date}]),t(5,n={...n,[v]:!1});break}}catch(P){console.error("[AddonsManager] Failed to parse SSE data:",P)}}}}catch(D){t(4,o=`Installation failed: ${String(D)}`),console.error("[AddonsManager] Install error:",D),t(5,n={...n,[v]:!1}),t(7,_=!1)}}function p(){t(7,_=!1),t(9,E=null),t(8,d=[])}async function O(v){if(confirm(`Uninstall ${a[v].name}?

This will remove the addon and its data.`))try{t(5,n={...n,[v]:!0});const D=await ce("/api/addons/uninstall",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addonId:v})});if(!D.ok){const F=await D.json();throw new Error(F.error||"Uninstallation failed")}await k()}catch(D){t(4,o=`Uninstallation failed: ${String(D)}`),console.error("[AddonsManager] Uninstall error:",D)}finally{t(5,n={...n,[v]:!1})}}async function z(v){try{t(6,i={...i,[v]:!0});const D=!a[v].enabled,F=await ce("/api/addons/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addonId:v,enabled:D})});if(!F.ok){const G=await F.json();throw new Error(G.error||"Toggle failed")}await k()}catch(D){t(4,o=`Toggle failed: ${String(D)}`),console.error("[AddonsManager] Toggle error:",D)}finally{t(6,i={...i,[v]:!1})}}function w(v){const D=Object.entries(a);return v?D.filter(([F,G])=>G.category===v):D}function M(v){We.call(this,l,v)}const Q=()=>t(0,u=null),x=v=>t(0,u=v),R=v=>z(v),T=v=>O(v),B=v=>C(v);return l.$$.update=()=>{l.$$.dirty[0]&1&&t(10,s=w(u))},[u,a,r,c,o,n,i,_,d,E,s,C,p,O,z,M,Q,x,R,T,B]}class it extends Be{constructor(e){super(),Fe(this,e,nt,st,Je,{},null,[-1,-1])}}export{it as default};
