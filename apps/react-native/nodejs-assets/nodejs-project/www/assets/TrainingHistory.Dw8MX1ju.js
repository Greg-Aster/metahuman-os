import{S as at,i as it,s as rt,n as ve,d as o,a as T,c as v,e as f,f as p,j as h,o as ot,U as ct,l as de,V as He,g as Q,p as W,b as i,h as C,q as F,k as E,t as R,x as nt,r as fe,a2 as ut,a3 as dt,u as Ne,P as Se,R as Me,O as je}from"./api-config.BAZ_dc_Y.js";function Fe(r,e,t){const l=r.slice();return l[25]=e[t],l}function Re(r,e,t){const l=r.slice();return l[28]=e[t],l}function Oe(r,e,t){const l=r.slice();return l[31]=e[t],l}function qe(r,e,t){const l=r.slice();return l[28]=e[t],l}function ft(r){let e,t,l,s,a,n="üìú Training History",c,u,d=r[1].length+"",g,m,y=r[1].length!==1?"s":"",k,U,D=r[3]&&Ue(r),I=r[0]&&Be(r);function M(b,_){return b[1].length===0?bt:mt}let N=M(r),O=N(r);return{c(){D&&D.c(),e=E(),I&&I.c(),t=E(),l=h("div"),s=h("div"),a=h("h3"),a.textContent=n,c=E(),u=h("span"),g=R(d),m=R(" run"),k=R(y),U=E(),O.c(),this.h()},l(b){D&&D.l(b),e=C(b),I&&I.l(b),t=C(b),l=f(b,"DIV",{class:!0});var _=p(l);s=f(_,"DIV",{class:!0});var j=p(s);a=f(j,"H3",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-sze099"&&(a.textContent=n),c=C(j),u=f(j,"SPAN",{class:!0});var B=p(u);g=F(B,d),m=F(B," run"),k=F(B,y),B.forEach(o),j.forEach(o),U=C(_),O.l(_),_.forEach(o),this.h()},h(){v(a,"class","svelte-18672zd"),v(u,"class","run-count svelte-18672zd"),v(s,"class","section-header svelte-18672zd"),v(l,"class","past-runs-section svelte-18672zd")},m(b,_){D&&D.m(b,_),T(b,e,_),I&&I.m(b,_),T(b,t,_),T(b,l,_),i(l,s),i(s,a),i(s,c),i(s,u),i(u,g),i(u,m),i(u,k),i(l,U),O.m(l,null)},p(b,_){b[3]?D?D.p(b,_):(D=Ue(b),D.c(),D.m(e.parentNode,e)):D&&(D.d(1),D=null),b[0]?I?I.p(b,_):(I=Be(b),I.c(),I.m(t.parentNode,t)):I&&(I.d(1),I=null),_[0]&2&&d!==(d=b[1].length+"")&&W(g,d),_[0]&2&&y!==(y=b[1].length!==1?"s":"")&&W(k,y),N===(N=M(b))&&O?O.p(b,_):(O.d(1),O=N(b),O&&(O.c(),O.m(l,null)))},d(b){b&&(o(e),o(t),o(l)),D&&D.d(b),I&&I.d(b),O.d()}}}function ht(r){let e,t='<div class="spinner svelte-18672zd"></div> <p>Loading training history...</p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1cgm4yv"&&(e.innerHTML=t),this.h()},h(){v(e,"class","loading-state svelte-18672zd")},m(l,s){T(l,e,s)},p:ve,d(l){l&&o(e)}}}function Ue(r){let e,t,l="‚ö†Ô∏è Error:",s,a;return{c(){e=h("div"),t=h("strong"),t.textContent=l,s=E(),a=R(r[3]),this.h()},l(n){e=f(n,"DIV",{class:!0});var c=p(e);t=f(c,"STRONG",{"data-svelte-h":!0}),Q(t)!=="svelte-1mg0xvn"&&(t.textContent=l),s=C(c),a=F(c,r[3]),c.forEach(o),this.h()},h(){v(e,"class","error-banner svelte-18672zd")},m(n,c){T(n,e,c),i(e,t),i(e,s),i(e,a)},p(n,c){c[0]&8&&W(a,n[3])},d(n){n&&o(e)}}}function Be(r){let e,t,l,s="üî• Current Training Run",a,n,c="üõë Cancel Training",u,d,g,m,y,k='<div class="spinner-small svelte-18672zd"></div> <span>Running</span>',U,D,I,M,N,O="Started:",b,_,j=Te(r[0].startTime)+"",B,ie,Z,Y,re="Method:",z,V,L=r[0].method+"",S,se,X,te,ne,_e="üñ•Ô∏è Console Output",pe,P,J,A,H,G="üìã Training Events",ae,w,ue,oe,K=r[0].pid&&Je(r);function ge(q,ee){return q[5].length===0?_t:vt}let he=ge(r),x=he(r);function le(q,ee){return q[4].length===0?gt:pt}let ce=le(r),$=ce(r);return{c(){e=h("div"),t=h("div"),l=h("h3"),l.textContent=s,a=E(),n=h("button"),n.textContent=c,u=E(),d=h("div"),g=h("div"),m=h("div"),y=h("span"),y.innerHTML=k,U=E(),K&&K.c(),D=E(),I=h("div"),M=h("div"),N=h("span"),N.textContent=O,b=E(),_=h("span"),B=R(j),ie=E(),Z=h("div"),Y=h("span"),Y.textContent=re,z=E(),V=h("span"),S=R(L),se=E(),X=h("div"),te=h("div"),ne=h("h4"),ne.textContent=_e,pe=E(),P=h("div"),x.c(),J=E(),A=h("div"),H=h("h4"),H.textContent=G,ae=E(),w=h("div"),$.c(),this.h()},l(q){e=f(q,"DIV",{class:!0});var ee=p(e);t=f(ee,"DIV",{class:!0});var me=p(t);l=f(me,"H3",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1086hj4"&&(l.textContent=s),a=C(me),n=f(me,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-tdlvdy"&&(n.textContent=c),me.forEach(o),u=C(ee),d=f(ee,"DIV",{class:!0});var be=p(d);g=f(be,"DIV",{class:!0});var ke=p(g);m=f(ke,"DIV",{class:!0});var ze=p(m);y=f(ze,"SPAN",{class:!0,"data-svelte-h":!0}),Q(y)!=="svelte-j92xw7"&&(y.innerHTML=k),U=C(ze),K&&K.l(ze),ze.forEach(o),D=C(ke),I=f(ke,"DIV",{class:!0});var ye=p(I);M=f(ye,"DIV",{class:!0});var Ce=p(M);N=f(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),Q(N)!=="svelte-1u7ufus"&&(N.textContent=O),b=C(Ce),_=f(Ce,"SPAN",{class:!0});var Ve=p(_);B=F(Ve,j),Ve.forEach(o),Ce.forEach(o),ie=C(ye),Z=f(ye,"DIV",{class:!0});var Ee=p(Z);Y=f(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),Q(Y)!=="svelte-kdxc1i"&&(Y.textContent=re),z=C(Ee),V=f(Ee,"SPAN",{class:!0});var Pe=p(V);S=F(Pe,L),Pe.forEach(o),Ee.forEach(o),ye.forEach(o),ke.forEach(o),se=C(be),X=f(be,"DIV",{class:!0});var De=p(X);te=f(De,"DIV",{class:!0});var Ie=p(te);ne=f(Ie,"H4",{class:!0,"data-svelte-h":!0}),Q(ne)!=="svelte-h3emq1"&&(ne.textContent=_e),pe=C(Ie),P=f(Ie,"DIV",{class:!0});var Ae=p(P);x.l(Ae),Ae.forEach(o),Ie.forEach(o),J=C(De),A=f(De,"DIV",{class:!0});var we=p(A);H=f(we,"H4",{class:!0,"data-svelte-h":!0}),Q(H)!=="svelte-ddoo5x"&&(H.textContent=G),ae=C(we),w=f(we,"DIV",{class:!0});var Le=p(w);$.l(Le),Le.forEach(o),we.forEach(o),De.forEach(o),be.forEach(o),ee.forEach(o),this.h()},h(){v(l,"class","svelte-18672zd"),v(n,"class","btn-cancel svelte-18672zd"),v(t,"class","section-header svelte-18672zd"),v(y,"class","status-badge running svelte-18672zd"),v(m,"class","run-status svelte-18672zd"),v(N,"class","detail-label svelte-18672zd"),v(_,"class","detail-value svelte-18672zd"),v(M,"class","detail-row svelte-18672zd"),v(Y,"class","detail-label svelte-18672zd"),v(V,"class","detail-value svelte-18672zd"),v(Z,"class","detail-row svelte-18672zd"),v(I,"class","run-details svelte-18672zd"),v(g,"class","run-info svelte-18672zd"),v(ne,"class","svelte-18672zd"),v(P,"class","log-scroll console-output svelte-18672zd"),v(te,"class","log-panel svelte-18672zd"),v(H,"class","svelte-18672zd"),v(w,"class","log-scroll events-output svelte-18672zd"),v(A,"class","log-panel svelte-18672zd"),v(X,"class","logs-grid svelte-18672zd"),v(d,"class","run-card current svelte-18672zd"),v(e,"class","current-run-section svelte-18672zd")},m(q,ee){T(q,e,ee),i(e,t),i(t,l),i(t,a),i(t,n),i(e,u),i(e,d),i(d,g),i(g,m),i(m,y),i(m,U),K&&K.m(m,null),i(g,D),i(g,I),i(I,M),i(M,N),i(M,b),i(M,_),i(_,B),i(I,ie),i(I,Z),i(Z,Y),i(Z,z),i(Z,V),i(V,S),i(d,se),i(d,X),i(X,te),i(te,ne),i(te,pe),i(te,P),x.m(P,null),r[13](P),i(X,J),i(X,A),i(A,H),i(A,ae),i(A,w),$.m(w,null),r[14](w),ue||(oe=nt(n,"click",r[11]),ue=!0)},p(q,ee){q[0].pid?K?K.p(q,ee):(K=Je(q),K.c(),K.m(m,null)):K&&(K.d(1),K=null),ee[0]&1&&j!==(j=Te(q[0].startTime)+"")&&W(B,j),ee[0]&1&&L!==(L=q[0].method+"")&&W(S,L),he===(he=ge(q))&&x?x.p(q,ee):(x.d(1),x=he(q),x&&(x.c(),x.m(P,null))),ce===(ce=le(q))&&$?$.p(q,ee):($.d(1),$=ce(q),$&&($.c(),$.m(w,null)))},d(q){q&&o(e),K&&K.d(),x.d(),r[13](null),$.d(),r[14](null),ue=!1,oe()}}}function Je(r){let e,t,l=r[0].pid+"",s;return{c(){e=h("span"),t=R("PID: "),s=R(l),this.h()},l(a){e=f(a,"SPAN",{class:!0});var n=p(e);t=F(n,"PID: "),s=F(n,l),n.forEach(o),this.h()},h(){v(e,"class","run-pid svelte-18672zd")},m(a,n){T(a,e,n),i(e,t),i(e,s)},p(a,n){n[0]&1&&l!==(l=a[0].pid+"")&&W(s,l)},d(a){a&&o(e)}}}function vt(r){let e,t=fe(r[5]),l=[];for(let s=0;s<t.length;s+=1)l[s]=We(qe(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Se()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=Se()},m(s,a){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,a);T(s,e,a)},p(s,a){if(a[0]&32){t=fe(s[5]);let n;for(n=0;n<t.length;n+=1){const c=qe(s,t,n);l[n]?l[n].p(c,a):(l[n]=We(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&o(e),Ne(l,s)}}}function _t(r){let e,t="Waiting for training output...";return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-eoewvy"&&(e.textContent=t),this.h()},h(){v(e,"class","log-empty svelte-18672zd")},m(l,s){T(l,e,s)},p:ve,d(l){l&&o(e)}}}function We(r){let e,t=r[28]+"",l;return{c(){e=h("div"),l=R(t),this.h()},l(s){e=f(s,"DIV",{class:!0});var a=p(e);l=F(a,t),a.forEach(o),this.h()},h(){v(e,"class","console-line svelte-18672zd")},m(s,a){T(s,e,a),i(e,l)},p(s,a){a[0]&32&&t!==(t=s[28]+"")&&W(l,t)},d(s){s&&o(e)}}}function pt(r){let e,t=fe(r[4]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ke(Oe(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Se()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=Se()},m(s,a){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,a);T(s,e,a)},p(s,a){if(a[0]&16){t=fe(s[4]);let n;for(n=0;n<t.length;n+=1){const c=Oe(s,t,n);l[n]?l[n].p(c,a):(l[n]=Ke(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&o(e),Ne(l,s)}}}function gt(r){let e,t="No events yet";return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-amgu43"&&(e.textContent=t),this.h()},h(){v(e,"class","log-empty svelte-18672zd")},m(l,s){T(l,e,s)},p:ve,d(l){l&&o(e)}}}function Ge(r){let e,t=JSON.stringify(r[31].details)+"",l;return{c(){e=h("span"),l=R(t),this.h()},l(s){e=f(s,"SPAN",{class:!0});var a=p(e);l=F(a,t),a.forEach(o),this.h()},h(){v(e,"class","event-details svelte-18672zd")},m(s,a){T(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=JSON.stringify(s[31].details)+"")&&W(l,t)},d(s){s&&o(e)}}}function Ke(r){let e,t,l=new Date(r[31].timestamp).toLocaleTimeString()+"",s,a,n,c=r[31].event+"",u,d,g,m=r[31].details&&Ge(r);return{c(){e=h("div"),t=h("span"),s=R(l),a=E(),n=h("span"),u=R(c),d=E(),m&&m.c(),g=E(),this.h()},l(y){e=f(y,"DIV",{class:!0});var k=p(e);t=f(k,"SPAN",{class:!0});var U=p(t);s=F(U,l),U.forEach(o),a=C(k),n=f(k,"SPAN",{class:!0});var D=p(n);u=F(D,c),D.forEach(o),d=C(k),m&&m.l(k),g=C(k),k.forEach(o),this.h()},h(){v(t,"class","event-time svelte-18672zd"),v(n,"class","event-name svelte-18672zd"),v(e,"class","event-line svelte-18672zd")},m(y,k){T(y,e,k),i(e,t),i(t,s),i(e,a),i(e,n),i(n,u),i(e,d),m&&m.m(e,null),i(e,g)},p(y,k){k[0]&16&&l!==(l=new Date(y[31].timestamp).toLocaleTimeString()+"")&&W(s,l),k[0]&16&&c!==(c=y[31].event+"")&&W(u,c),y[31].details?m?m.p(y,k):(m=Ge(y),m.c(),m.m(e,g)):m&&(m.d(1),m=null)},d(y){y&&o(e),m&&m.d()}}}function mt(r){let e,t=[],l=new Map,s=fe(r[1]);const a=n=>n[25].id;for(let n=0;n<s.length;n+=1){let c=Fe(r,s,n),u=a(c);l.set(u,t[n]=et(u,c))}return{c(){e=h("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=f(n,"DIV",{class:!0});var c=p(e);for(let u=0;u<t.length;u+=1)t[u].l(c);c.forEach(o),this.h()},h(){v(e,"class","runs-list svelte-18672zd")},m(n,c){T(n,e,c);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null)},p(n,c){c[0]&5890&&(s=fe(n[1]),t=ut(t,c,a,1,n,s,l,e,dt,et,null,Fe))},d(n){n&&o(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function bt(r){let e,t='<p>No past training runs found.</p> <p class="empty-hint svelte-18672zd">Start a training run using the Training Wizard to see history here.</p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1dlboof"&&(e.innerHTML=t),this.h()},h(){v(e,"class","empty-state svelte-18672zd")},m(l,s){T(l,e,s)},p:ve,d(l){l&&o(e)}}}function Qe(r){let e,t,l="Duration:",s,a,n=tt(r[25].duration)+"",c;return{c(){e=h("div"),t=h("span"),t.textContent=l,s=E(),a=h("span"),c=R(n),this.h()},l(u){e=f(u,"DIV",{class:!0});var d=p(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1qah3s"&&(t.textContent=l),s=C(d),a=f(d,"SPAN",{class:!0});var g=p(a);c=F(g,n),g.forEach(o),d.forEach(o),this.h()},h(){v(t,"class","summary-label svelte-18672zd"),v(a,"class","summary-value svelte-18672zd"),v(e,"class","summary-item svelte-18672zd")},m(u,d){T(u,e,d),i(e,t),i(e,s),i(e,a),i(a,c)},p(u,d){d[0]&2&&n!==(n=tt(u[25].duration)+"")&&W(c,n)},d(u){u&&o(e)}}}function Xe(r){let e,t,l="Dataset:",s,a,n=r[25].dataset+"",c;return{c(){e=h("div"),t=h("span"),t.textContent=l,s=E(),a=h("span"),c=R(n),this.h()},l(u){e=f(u,"DIV",{class:!0});var d=p(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-rdet0c"&&(t.textContent=l),s=C(d),a=f(d,"SPAN",{class:!0});var g=p(a);c=F(g,n),g.forEach(o),d.forEach(o),this.h()},h(){v(t,"class","summary-label svelte-18672zd"),v(a,"class","summary-value svelte-18672zd"),v(e,"class","summary-item svelte-18672zd")},m(u,d){T(u,e,d),i(e,t),i(e,s),i(e,a),i(a,c)},p(u,d){d[0]&2&&n!==(n=u[25].dataset+"")&&W(c,n)},d(u){u&&o(e)}}}function Ye(r){let e,t,l="Base Model:",s,a,n=r[25].baseModel+"",c;return{c(){e=h("div"),t=h("span"),t.textContent=l,s=E(),a=h("span"),c=R(n),this.h()},l(u){e=f(u,"DIV",{class:!0});var d=p(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-150rw1w"&&(t.textContent=l),s=C(d),a=f(d,"SPAN",{class:!0});var g=p(a);c=F(g,n),g.forEach(o),d.forEach(o),this.h()},h(){v(t,"class","summary-label svelte-18672zd"),v(a,"class","summary-value svelte-18672zd"),v(e,"class","summary-item svelte-18672zd")},m(u,d){T(u,e,d),i(e,t),i(e,s),i(e,a),i(a,c)},p(u,d){d[0]&2&&n!==(n=u[25].baseModel+"")&&W(c,n)},d(u){u&&o(e)}}}function Ze(r){let e,t,l="Error:",s,a,n=r[25].error+"",c;return{c(){e=h("div"),t=h("span"),t.textContent=l,s=E(),a=h("span"),c=R(n),this.h()},l(u){e=f(u,"DIV",{class:!0});var d=p(e);t=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-qrrjya"&&(t.textContent=l),s=C(d),a=f(d,"SPAN",{class:!0});var g=p(a);c=F(g,n),g.forEach(o),d.forEach(o),this.h()},h(){v(t,"class","summary-label svelte-18672zd"),v(a,"class","summary-value svelte-18672zd"),v(e,"class","summary-item error svelte-18672zd")},m(u,d){T(u,e,d),i(e,t),i(e,s),i(e,a),i(a,c)},p(u,d){d[0]&2&&n!==(n=u[25].error+"")&&W(c,n)},d(u){u&&o(e)}}}function xe(r){let e;function t(a,n){return a[10]?zt:kt}let l=t(r),s=l(r);return{c(){e=h("div"),s.c(),this.h()},l(a){e=f(a,"DIV",{class:!0});var n=p(e);s.l(n),n.forEach(o),this.h()},h(){v(e,"class","run-logs-expanded svelte-18672zd")},m(a,n){T(a,e,n),s.m(e,null)},p(a,n){l===(l=t(a))&&s?s.p(a,n):(s.d(1),s=l(a),s&&(s.c(),s.m(e,null)))},d(a){a&&o(e),s.d()}}}function kt(r){let e,t=fe(r[9]),l=[];for(let s=0;s<t.length;s+=1)l[s]=$e(Re(r,t,s));return{c(){e=h("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=f(s,"DIV",{class:!0});var a=p(e);for(let n=0;n<l.length;n+=1)l[n].l(a);a.forEach(o),this.h()},h(){v(e,"class","log-scroll full-logs svelte-18672zd")},m(s,a){T(s,e,a);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(s,a){if(a[0]&512){t=fe(s[9]);let n;for(n=0;n<t.length;n+=1){const c=Re(s,t,n);l[n]?l[n].p(c,a):(l[n]=$e(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&o(e),Ne(l,s)}}}function zt(r){let e,t='<div class="spinner-small svelte-18672zd"></div> <span>Loading logs...</span>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1fy5n0e"&&(e.innerHTML=t),this.h()},h(){v(e,"class","loading-logs svelte-18672zd")},m(l,s){T(l,e,s)},p:ve,d(l){l&&o(e)}}}function $e(r){let e,t=r[28]+"",l;return{c(){e=h("div"),l=R(t),this.h()},l(s){e=f(s,"DIV",{class:!0});var a=p(e);l=F(a,t),a.forEach(o),this.h()},h(){v(e,"class","log-line svelte-18672zd")},m(s,a){T(s,e,a),i(e,l)},p(s,a){a[0]&512&&t!==(t=s[28]+"")&&W(l,t)},d(s){s&&o(e)}}}function et(r,e){let t,l,s,a,n=st(e[25].status)+"",c,u,d,g=Te(e[25].startTime)+"",m,y,k,U=e[25].status+"",D,I,M,N=e[8]===e[25].id?"‚ñº":"‚ñ∂",O,b,_,j,B,ie="Method:",Z,Y,re=(e[25].method||"N/A")+"",z,V,L,S,se,X,te,ne,_e;function pe(){return e[15](e[25])}let P=e[25].duration&&Qe(e),J=e[25].dataset&&Xe(e),A=e[25].baseModel&&Ye(e),H=e[25].error&&Ze(e),G=e[8]===e[25].id&&xe(e);return{key:r,first:null,c(){t=h("div"),l=h("div"),s=h("div"),a=h("span"),c=R(n),u=E(),d=h("span"),m=R(g),y=E(),k=h("span"),D=R(U),I=E(),M=h("button"),O=R(N),b=E(),_=h("div"),j=h("div"),B=h("span"),B.textContent=ie,Z=E(),Y=h("span"),z=R(re),V=E(),P&&P.c(),L=E(),J&&J.c(),S=E(),A&&A.c(),se=E(),H&&H.c(),X=E(),G&&G.c(),te=E(),this.h()},l(ae){t=f(ae,"DIV",{class:!0});var w=p(t);l=f(w,"DIV",{class:!0});var ue=p(l);s=f(ue,"DIV",{class:!0});var oe=p(s);a=f(oe,"SPAN",{class:!0});var K=p(a);c=F(K,n),K.forEach(o),u=C(oe),d=f(oe,"SPAN",{class:!0});var ge=p(d);m=F(ge,g),ge.forEach(o),y=C(oe),k=f(oe,"SPAN",{class:!0,style:!0});var he=p(k);D=F(he,U),he.forEach(o),oe.forEach(o),I=C(ue),M=f(ue,"BUTTON",{class:!0});var x=p(M);O=F(x,N),x.forEach(o),ue.forEach(o),b=C(w),_=f(w,"DIV",{class:!0});var le=p(_);j=f(le,"DIV",{class:!0});var ce=p(j);B=f(ce,"SPAN",{class:!0,"data-svelte-h":!0}),Q(B)!=="svelte-14kw01"&&(B.textContent=ie),Z=C(ce),Y=f(ce,"SPAN",{class:!0});var $=p(Y);z=F($,re),$.forEach(o),ce.forEach(o),V=C(le),P&&P.l(le),L=C(le),J&&J.l(le),S=C(le),A&&A.l(le),se=C(le),H&&H.l(le),le.forEach(o),X=C(w),G&&G.l(w),te=C(w),w.forEach(o),this.h()},h(){v(a,"class","status-emoji svelte-18672zd"),v(d,"class","run-date svelte-18672zd"),v(k,"class","status-badge svelte-18672zd"),Me(k,"background-color",lt(e[25].status)),v(s,"class","run-title svelte-18672zd"),v(M,"class","expand-button svelte-18672zd"),je(M,"expanded",e[8]===e[25].id),v(l,"class","run-header svelte-18672zd"),v(B,"class","summary-label svelte-18672zd"),v(Y,"class","summary-value svelte-18672zd"),v(j,"class","summary-item svelte-18672zd"),v(_,"class","run-summary svelte-18672zd"),v(t,"class","run-card svelte-18672zd"),this.first=t},m(ae,w){T(ae,t,w),i(t,l),i(l,s),i(s,a),i(a,c),i(s,u),i(s,d),i(d,m),i(s,y),i(s,k),i(k,D),i(l,I),i(l,M),i(M,O),i(t,b),i(t,_),i(_,j),i(j,B),i(j,Z),i(j,Y),i(Y,z),i(_,V),P&&P.m(_,null),i(_,L),J&&J.m(_,null),i(_,S),A&&A.m(_,null),i(_,se),H&&H.m(_,null),i(t,X),G&&G.m(t,null),i(t,te),ne||(_e=nt(l,"click",pe),ne=!0)},p(ae,w){e=ae,w[0]&2&&n!==(n=st(e[25].status)+"")&&W(c,n),w[0]&2&&g!==(g=Te(e[25].startTime)+"")&&W(m,g),w[0]&2&&U!==(U=e[25].status+"")&&W(D,U),w[0]&2&&Me(k,"background-color",lt(e[25].status)),w[0]&258&&N!==(N=e[8]===e[25].id?"‚ñº":"‚ñ∂")&&W(O,N),w[0]&258&&je(M,"expanded",e[8]===e[25].id),w[0]&2&&re!==(re=(e[25].method||"N/A")+"")&&W(z,re),e[25].duration?P?P.p(e,w):(P=Qe(e),P.c(),P.m(_,L)):P&&(P.d(1),P=null),e[25].dataset?J?J.p(e,w):(J=Xe(e),J.c(),J.m(_,S)):J&&(J.d(1),J=null),e[25].baseModel?A?A.p(e,w):(A=Ye(e),A.c(),A.m(_,se)):A&&(A.d(1),A=null),e[25].error?H?H.p(e,w):(H=Ze(e),H.c(),H.m(_,null)):H&&(H.d(1),H=null),e[8]===e[25].id?G?G.p(e,w):(G=xe(e),G.c(),G.m(t,te)):G&&(G.d(1),G=null)},d(ae){ae&&o(t),P&&P.d(),J&&J.d(),A&&A.d(),H&&H.d(),G&&G.d(),ne=!1,_e()}}}function yt(r){let e;function t(a,n){return a[2]&&!a[0]&&a[1].length===0?ht:ft}let l=t(r),s=l(r);return{c(){e=h("div"),s.c(),this.h()},l(a){e=f(a,"DIV",{class:!0});var n=p(e);s.l(n),n.forEach(o),this.h()},h(){v(e,"class","training-history svelte-18672zd")},m(a,n){T(a,e,n),s.m(e,null)},p(a,n){l===(l=t(a))&&s?s.p(a,n):(s.d(1),s=l(a),s&&(s.c(),s.m(e,null)))},i:ve,o:ve,d(a){a&&o(e),s.d()}}}function tt(r){return r||"N/A"}function Te(r){try{return new Date(r).toLocaleString()}catch{return r}}function lt(r){switch(r){case"running":return"#3b82f6";case"completed":return"#10b981";case"failed":return"#ef4444";case"cancelled":return"#f59e0b";default:return"#6b7280"}}function st(r){switch(r){case"running":return"üîÑ";case"completed":return"‚úÖ";case"failed":return"‚ùå";case"cancelled":return"üõë";default:return"‚ùì"}}function Ct(r,e,t){let l=null,s=[],a=!0,n="",c=[],u=[],d=null,g=null,m=null,y=null,k=[],U=!1;async function D(){t(2,a=!0),t(3,n="");try{const z=await de("/api/training/running");if(z.ok){const L=await z.json();if(L.success&&L.running){const S=await de("/api/training/logs?maxLines=1");let se=new Date().toISOString();if(S.ok){const X=await S.json();X.success&&X.logs&&X.logs.length>0&&(se=X.logs[0].timestamp)}t(0,l={id:`current-${L.pid}`,startTime:se,status:"running",pid:L.pid,method:"full-cycle",logFile:"Current run"}),M()}else t(0,l=null),N()}const V=await de("/api/training/history");if(V.ok){const L=await V.json();L.success&&t(1,s=L.runs||[])}}catch(z){console.error("[TrainingHistory] Failed to load:",z),t(3,n="Failed to load training history")}finally{t(2,a=!1)}}async function I(){if(l)try{const z=await de("/api/training/logs?maxLines=50");if(z.ok){const S=await z.json();S.success&&S.logs&&(t(4,c=S.logs),m&&setTimeout(()=>{m&&t(7,m.scrollTop=m.scrollHeight,m)},100))}const V=await de("/api/training/console-logs?maxLines=200");if(V.ok){const S=await V.json();S.success&&S.logs&&(t(5,u=S.logs),g&&setTimeout(()=>{g&&t(6,g.scrollTop=g.scrollHeight,g)},100))}const L=await de("/api/training/running");if(L.ok){const S=await L.json();S.success&&!S.running&&(t(0,l=null),N(),await D())}}catch(z){console.warn("[TrainingHistory] Failed to poll logs:",z)}}function M(){d&&clearInterval(d),I(),d=window.setInterval(I,5e3)}function N(){d&&(clearInterval(d),d=null)}async function O(){if(l)try{const z=await de("/api/adapters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"cancelFullCycle"})});if(!z.ok)throw new Error("Failed to cancel training");const V=await z.json();if(V.success)t(0,l=null),N(),await D();else throw new Error(V.error||"Cancellation failed")}catch(z){console.error("[TrainingHistory] Failed to cancel:",z),t(3,n="Failed to cancel training")}}async function b(z){if(y===z){t(8,y=null),t(9,k=[]);return}t(8,y=z),t(10,U=!0),t(9,k=[]);try{const V=s.find(S=>S.id===z);if(!V||!V.logFile){t(9,k=["No log file available"]);return}const L=await de(`/api/training/log-file?file=${encodeURIComponent(V.logFile)}`);if(L.ok){const S=await L.json();S.success&&S.logs?t(9,k=S.logs):t(9,k=["Failed to load logs"])}else t(9,k=["Log file not found"])}catch(V){console.error("[TrainingHistory] Failed to load logs:",V),t(9,k=["Error loading logs"])}finally{t(10,U=!1)}}let _=null;function j(){_||(D(),_=window.setInterval(D,3e4))}function B(){_&&(clearInterval(_),_=null)}function ie(){document.hidden?(B(),N()):(j(),l&&M())}ot(()=>(document.hidden||j(),document.addEventListener("visibilitychange",ie),()=>{B(),N(),document.removeEventListener("visibilitychange",ie)})),ct(()=>{N()});function Z(z){He[z?"unshift":"push"](()=>{g=z,t(6,g)})}function Y(z){He[z?"unshift":"push"](()=>{m=z,t(7,m)})}return[l,s,a,n,c,u,g,m,y,k,U,O,b,Z,Y,z=>b(z.id)]}class Dt extends at{constructor(e){super(),it(this,e,Ct,yt,rt,{},null,[-1,-1])}}export{Dt as default};
