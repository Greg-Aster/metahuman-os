import{S as Te,i as Le,s as Oe,n as se,d as f,a as U,c as v,e as u,f as b,j as h,o as Me,Q as je,l as _e,g as R,p as q,b as n,q as O,t as M,r as le,u as Ae,x as He,h as S,k as V,L as ae,O as ie}from"./api-config.B-uR5Kyo.js";function me(i,e,t){const s=i.slice();return s[8]=e[t],s}function ge(i,e,t){const s=i.slice();return s[11]=e[t],s}function Fe(i){let e,t,s,a,l="Recent Operations",c,d,o="â†»",r,p,k,P,w=le(i[0]),_=[];for(let m=0;m<w.length;m+=1)_[m]=be(ge(i,w,m));let E=i[1]&&Ee(i);return{c(){e=h("div"),t=h("div"),s=h("div"),a=h("h3"),a.textContent=l,c=V(),d=h("button"),d.textContent=o,r=V();for(let m=0;m<_.length;m+=1)_[m].c();p=V(),E&&E.c(),this.h()},l(m){e=u(m,"DIV",{class:!0});var H=b(e);t=u(H,"DIV",{class:!0});var g=b(t);s=u(g,"DIV",{class:!0});var D=b(s);a=u(D,"H3",{class:!0,"data-svelte-h":!0}),R(a)!=="svelte-pzkm7b"&&(a.textContent=l),c=S(D),d=u(D,"BUTTON",{class:!0,"data-svelte-h":!0}),R(d)!=="svelte-11a24ni"&&(d.textContent=o),D.forEach(f),r=S(g);for(let C=0;C<_.length;C+=1)_[C].l(g);g.forEach(f),p=S(H),E&&E.l(H),H.forEach(f),this.h()},h(){v(a,"class","svelte-x7s3t5"),v(d,"class","refresh-btn-small svelte-x7s3t5"),v(s,"class","operations-header svelte-x7s3t5"),v(t,"class","operations-list svelte-x7s3t5"),v(e,"class","monitor-layout svelte-x7s3t5")},m(m,H){U(m,e,H),n(e,t),n(t,s),n(s,a),n(s,c),n(s,d),n(t,r);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(t,null);n(e,p),E&&E.m(e,null),k||(P=He(d,"click",i[4]),k=!0)},p(m,H){if(H&35){w=le(m[0]);let g;for(g=0;g<w.length;g+=1){const D=ge(m,w,g);_[g]?_[g].p(D,H):(_[g]=be(D),_[g].c(),_[g].m(t,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=w.length}m[1]?E?E.p(m,H):(E=Ee(m),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(m){m&&f(e),Ae(_,m),E&&E.d(),k=!1,P()}}}function qe(i){let e,t='<div class="empty-icon svelte-x7s3t5">ðŸ”¥</div> <div class="empty-title svelte-x7s3t5">No training operations found</div> <div class="empty-description svelte-x7s3t5">Training runs will appear here when started</div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-d7ull0"&&(e.innerHTML=t),this.h()},h(){v(e,"class","empty-state svelte-x7s3t5")},m(s,a){U(s,e,a)},p:se,d(s){s&&f(e)}}}function ze(i){let e,t,s;return{c(){e=h("div"),t=M("Error: "),s=M(i[3]),this.h()},l(a){e=u(a,"DIV",{class:!0});var l=b(e);t=O(l,"Error: "),s=O(l,i[3]),l.forEach(f),this.h()},h(){v(e,"class","error-state svelte-x7s3t5")},m(a,l){U(a,e,l),n(e,t),n(e,s)},p(a,l){l&8&&q(s,a[3])},d(a){a&&f(e)}}}function Ue(i){let e,t="Loading training operations...";return{c(){e=h("div"),e.textContent=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1yccz6j"&&(e.textContent=t),this.h()},h(){v(e,"class","loading-state svelte-x7s3t5")},m(s,a){U(s,e,a)},p:se,d(s){s&&f(e)}}}function be(i){let e,t,s=i[11].operation+"",a,l,c,d=i[11].overallStatus+"",o,r,p,k,P=i[11].overallProgress+"",w,_,E,m,H;function g(){return i[6](i[11])}return{c(){e=h("button"),t=h("div"),a=M(s),l=V(),c=h("div"),o=M(d),p=V(),k=h("div"),w=M(P),_=M("%"),E=V(),this.h()},l(D){e=u(D,"BUTTON",{class:!0});var C=b(e);t=u(C,"DIV",{class:!0});var N=b(t);a=O(N,s),N.forEach(f),l=S(C),c=u(C,"DIV",{class:!0});var T=b(c);o=O(T,d),T.forEach(f),p=S(C),k=u(C,"DIV",{class:!0});var x=b(k);w=O(x,P),_=O(x,"%"),x.forEach(f),E=S(C),C.forEach(f),this.h()},h(){v(t,"class","op-name svelte-x7s3t5"),v(c,"class",r="op-status "+ne(i[11].overallStatus)+" svelte-x7s3t5"),v(k,"class","op-progress svelte-x7s3t5"),v(e,"class","operation-item svelte-x7s3t5"),ae(e,"active",i[1]?.operation===i[11].operation)},m(D,C){U(D,e,C),n(e,t),n(t,a),n(e,l),n(e,c),n(c,o),n(e,p),n(e,k),n(k,w),n(k,_),n(e,E),m||(H=He(e,"click",g),m=!0)},p(D,C){i=D,C&1&&s!==(s=i[11].operation+"")&&q(a,s),C&1&&d!==(d=i[11].overallStatus+"")&&q(o,d),C&1&&r!==(r="op-status "+ne(i[11].overallStatus)+" svelte-x7s3t5")&&v(c,"class",r),C&1&&P!==(P=i[11].overallProgress+"")&&q(w,P),C&3&&ae(e,"active",i[1]?.operation===i[11].operation)},d(D){D&&f(e),m=!1,H()}}}function Ee(i){let e,t,s,a=i[1].operation+"",l,c,d,o=i[1].overallStatus.toUpperCase()+"",r,p,k,P,w,_,E,m,H="Overall Progress",g,D,C=i[1].overallProgress+"",N,T,x,B,y,K,Q,G,ue="Stages",re,oe,J,ce,X=new Date(i[1].lastHeartbeat).toLocaleString()+"",Z,z=i[1].isHung&&ke(),F=i[1].metadata&&Ce(i),W=le(i[1].stages),j=[];for(let I=0;I<W.length;I+=1)j[I]=we(me(i,W,I));return{c(){e=h("div"),t=h("div"),s=h("h2"),l=M(a),c=V(),d=h("div"),r=M(o),k=V(),z&&z.c(),P=V(),F&&F.c(),w=V(),_=h("div"),E=h("div"),m=h("span"),m.textContent=H,g=V(),D=h("span"),N=M(C),T=M("%"),x=V(),B=h("div"),y=h("div"),K=V(),Q=h("div"),G=h("h3"),G.textContent=ue,re=V();for(let I=0;I<j.length;I+=1)j[I].c();oe=V(),J=h("div"),ce=M("Last heartbeat: "),Z=M(X),this.h()},l(I){e=u(I,"DIV",{class:!0});var A=b(e);t=u(A,"DIV",{class:!0});var L=b(t);s=u(L,"H2",{class:!0});var Y=b(s);l=O(Y,a),Y.forEach(f),c=S(L),d=u(L,"DIV",{class:!0});var he=b(d);r=O(he,o),he.forEach(f),L.forEach(f),k=S(A),z&&z.l(A),P=S(A),F&&F.l(A),w=S(A),_=u(A,"DIV",{class:!0});var $=b(_);E=u($,"DIV",{class:!0});var ee=b(E);m=u(ee,"SPAN",{"data-svelte-h":!0}),R(m)!=="svelte-1esxmu2"&&(m.textContent=H),g=S(ee),D=u(ee,"SPAN",{class:!0});var de=b(D);N=O(de,C),T=O(de,"%"),de.forEach(f),ee.forEach(f),x=S($),B=u($,"DIV",{class:!0});var pe=b(B);y=u(pe,"DIV",{class:!0,style:!0}),b(y).forEach(f),pe.forEach(f),$.forEach(f),K=S(A),Q=u(A,"DIV",{class:!0});var te=b(Q);G=u(te,"H3",{class:!0,"data-svelte-h":!0}),R(G)!=="svelte-zh0n87"&&(G.textContent=ue),re=S(te);for(let ve=0;ve<j.length;ve+=1)j[ve].l(te);te.forEach(f),oe=S(A),J=u(A,"DIV",{class:!0});var fe=b(J);ce=O(fe,"Last heartbeat: "),Z=O(fe,X),fe.forEach(f),A.forEach(f),this.h()},h(){v(s,"class","svelte-x7s3t5"),v(d,"class",p="status-badge "+ne(i[1].overallStatus)+" svelte-x7s3t5"),v(t,"class","details-header svelte-x7s3t5"),v(D,"class","progress-percent"),v(E,"class","progress-header svelte-x7s3t5"),v(y,"class","progress-fill svelte-x7s3t5"),ie(y,"width",i[1].overallProgress+"%"),v(B,"class","progress-bar svelte-x7s3t5"),v(_,"class","overall-progress svelte-x7s3t5"),v(G,"class","svelte-x7s3t5"),v(Q,"class","stages svelte-x7s3t5"),v(J,"class","heartbeat svelte-x7s3t5"),v(e,"class","operation-details svelte-x7s3t5")},m(I,A){U(I,e,A),n(e,t),n(t,s),n(s,l),n(t,c),n(t,d),n(d,r),n(e,k),z&&z.m(e,null),n(e,P),F&&F.m(e,null),n(e,w),n(e,_),n(_,E),n(E,m),n(E,g),n(E,D),n(D,N),n(D,T),n(_,x),n(_,B),n(B,y),n(e,K),n(e,Q),n(Q,G),n(Q,re);for(let L=0;L<j.length;L+=1)j[L]&&j[L].m(Q,null);n(e,oe),n(e,J),n(J,ce),n(J,Z)},p(I,A){if(A&2&&a!==(a=I[1].operation+"")&&q(l,a),A&2&&o!==(o=I[1].overallStatus.toUpperCase()+"")&&q(r,o),A&2&&p!==(p="status-badge "+ne(I[1].overallStatus)+" svelte-x7s3t5")&&v(d,"class",p),I[1].isHung?z||(z=ke(),z.c(),z.m(e,P)):z&&(z.d(1),z=null),I[1].metadata?F?F.p(I,A):(F=Ce(I),F.c(),F.m(e,w)):F&&(F.d(1),F=null),A&2&&C!==(C=I[1].overallProgress+"")&&q(N,C),A&2&&ie(y,"width",I[1].overallProgress+"%"),A&2){W=le(I[1].stages);let L;for(L=0;L<W.length;L+=1){const Y=me(I,W,L);j[L]?j[L].p(Y,A):(j[L]=we(Y),j[L].c(),j[L].m(Q,null))}for(;L<j.length;L+=1)j[L].d(1);j.length=W.length}A&2&&X!==(X=new Date(I[1].lastHeartbeat).toLocaleString()+"")&&q(Z,X)},d(I){I&&f(e),z&&z.d(),F&&F.d(),Ae(j,I)}}}function ke(i){let e,t="âš ï¸ No heartbeat for over 2 minutes - process may be stuck!";return{c(){e=h("div"),e.textContent=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-lp4ebj"&&(e.textContent=t),this.h()},h(){v(e,"class","warning-banner svelte-x7s3t5")},m(s,a){U(s,e,a)},d(s){s&&f(e)}}}function Ce(i){let e,t,s,a,l=i[1].metadata.model&&De(i),c=i[1].metadata.samples&&Ie(i),d=i[1].metadata.pod_id&&Se(i),o=i[1].elapsedSeconds!==void 0&&Ve(i);return{c(){e=h("div"),l&&l.c(),t=V(),c&&c.c(),s=V(),d&&d.c(),a=V(),o&&o.c(),this.h()},l(r){e=u(r,"DIV",{class:!0});var p=b(e);l&&l.l(p),t=S(p),c&&c.l(p),s=S(p),d&&d.l(p),a=S(p),o&&o.l(p),p.forEach(f),this.h()},h(){v(e,"class","metadata svelte-x7s3t5")},m(r,p){U(r,e,p),l&&l.m(e,null),n(e,t),c&&c.m(e,null),n(e,s),d&&d.m(e,null),n(e,a),o&&o.m(e,null)},p(r,p){r[1].metadata.model?l?l.p(r,p):(l=De(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[1].metadata.samples?c?c.p(r,p):(c=Ie(r),c.c(),c.m(e,s)):c&&(c.d(1),c=null),r[1].metadata.pod_id?d?d.p(r,p):(d=Se(r),d.c(),d.m(e,a)):d&&(d.d(1),d=null),r[1].elapsedSeconds!==void 0?o?o.p(r,p):(o=Ve(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(r){r&&f(e),l&&l.d(),c&&c.d(),d&&d.d(),o&&o.d()}}}function De(i){let e,t,s="Model:",a,l,c=i[1].metadata.model+"",d;return{c(){e=h("div"),t=h("span"),t.textContent=s,a=V(),l=h("span"),d=M(c),this.h()},l(o){e=u(o,"DIV",{class:!0});var r=b(e);t=u(r,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-19gqa14"&&(t.textContent=s),a=S(r),l=u(r,"SPAN",{class:!0});var p=b(l);d=O(p,c),p.forEach(f),r.forEach(f),this.h()},h(){v(t,"class","meta-label svelte-x7s3t5"),v(l,"class","meta-value svelte-x7s3t5"),v(e,"class","meta-item svelte-x7s3t5")},m(o,r){U(o,e,r),n(e,t),n(e,a),n(e,l),n(l,d)},p(o,r){r&2&&c!==(c=o[1].metadata.model+"")&&q(d,c)},d(o){o&&f(e)}}}function Ie(i){let e,t,s="Samples:",a,l,c=i[1].metadata.samples+"",d;return{c(){e=h("div"),t=h("span"),t.textContent=s,a=V(),l=h("span"),d=M(c),this.h()},l(o){e=u(o,"DIV",{class:!0});var r=b(e);t=u(r,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-16zjqmy"&&(t.textContent=s),a=S(r),l=u(r,"SPAN",{class:!0});var p=b(l);d=O(p,c),p.forEach(f),r.forEach(f),this.h()},h(){v(t,"class","meta-label svelte-x7s3t5"),v(l,"class","meta-value svelte-x7s3t5"),v(e,"class","meta-item svelte-x7s3t5")},m(o,r){U(o,e,r),n(e,t),n(e,a),n(e,l),n(l,d)},p(o,r){r&2&&c!==(c=o[1].metadata.samples+"")&&q(d,c)},d(o){o&&f(e)}}}function Se(i){let e,t,s="Pod ID:",a,l,c=i[1].metadata.pod_id+"",d;return{c(){e=h("div"),t=h("span"),t.textContent=s,a=V(),l=h("span"),d=M(c),this.h()},l(o){e=u(o,"DIV",{class:!0});var r=b(e);t=u(r,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1u7taed"&&(t.textContent=s),a=S(r),l=u(r,"SPAN",{class:!0});var p=b(l);d=O(p,c),p.forEach(f),r.forEach(f),this.h()},h(){v(t,"class","meta-label svelte-x7s3t5"),v(l,"class","meta-value mono svelte-x7s3t5"),v(e,"class","meta-item svelte-x7s3t5")},m(o,r){U(o,e,r),n(e,t),n(e,a),n(e,l),n(l,d)},p(o,r){r&2&&c!==(c=o[1].metadata.pod_id+"")&&q(d,c)},d(o){o&&f(e)}}}function Ve(i){let e,t,s="Elapsed:",a,l,c=xe(i[1].elapsedSeconds)+"",d;return{c(){e=h("div"),t=h("span"),t.textContent=s,a=V(),l=h("span"),d=M(c),this.h()},l(o){e=u(o,"DIV",{class:!0});var r=b(e);t=u(r,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1hceg6d"&&(t.textContent=s),a=S(r),l=u(r,"SPAN",{class:!0});var p=b(l);d=O(p,c),p.forEach(f),r.forEach(f),this.h()},h(){v(t,"class","meta-label svelte-x7s3t5"),v(l,"class","meta-value svelte-x7s3t5"),v(e,"class","meta-item svelte-x7s3t5")},m(o,r){U(o,e,r),n(e,t),n(e,a),n(e,l),n(l,d)},p(o,r){r&2&&c!==(c=xe(o[1].elapsedSeconds)+"")&&q(d,c)},d(o){o&&f(e)}}}function Pe(i){let e,t=i[8].message+"",s;return{c(){e=h("div"),s=M(t),this.h()},l(a){e=u(a,"DIV",{class:!0});var l=b(e);s=O(l,t),l.forEach(f),this.h()},h(){v(e,"class","stage-message svelte-x7s3t5")},m(a,l){U(a,e,l),n(e,s)},p(a,l){l&2&&t!==(t=a[8].message+"")&&q(s,t)},d(a){a&&f(e)}}}function we(i){let e,t,s,a=Ne(i[8].status)+"",l,c,d,o=i[8].name+"",r,p,k,P=i[8].progress+"",w,_,E,m,H,g,D,C,N=i[8].message&&Pe(i);return{c(){e=h("div"),t=h("div"),s=h("span"),l=M(a),c=V(),d=h("span"),r=M(o),p=V(),k=h("span"),w=M(P),_=M("%"),E=V(),N&&N.c(),m=V(),H=h("div"),g=h("div"),C=V(),this.h()},l(T){e=u(T,"DIV",{class:!0});var x=b(e);t=u(x,"DIV",{class:!0});var B=b(t);s=u(B,"SPAN",{class:!0});var y=b(s);l=O(y,a),y.forEach(f),c=S(B),d=u(B,"SPAN",{class:!0});var K=b(d);r=O(K,o),K.forEach(f),p=S(B),k=u(B,"SPAN",{class:!0});var Q=b(k);w=O(Q,P),_=O(Q,"%"),Q.forEach(f),B.forEach(f),E=S(x),N&&N.l(x),m=S(x),H=u(x,"DIV",{class:!0});var G=b(H);g=u(G,"DIV",{class:!0,style:!0}),b(g).forEach(f),G.forEach(f),C=S(x),x.forEach(f),this.h()},h(){v(s,"class","stage-icon svelte-x7s3t5"),v(d,"class","stage-name svelte-x7s3t5"),v(k,"class","stage-percent svelte-x7s3t5"),v(t,"class","stage-header svelte-x7s3t5"),v(g,"class",D="stage-progress-fill stage-"+i[8].status+" svelte-x7s3t5"),ie(g,"width",i[8].progress+"%"),v(H,"class","stage-progress-bar svelte-x7s3t5"),v(e,"class","stage-item svelte-x7s3t5"),ae(e,"stage-active",i[8].status==="in_progress")},m(T,x){U(T,e,x),n(e,t),n(t,s),n(s,l),n(t,c),n(t,d),n(d,r),n(t,p),n(t,k),n(k,w),n(k,_),n(e,E),N&&N.m(e,null),n(e,m),n(e,H),n(H,g),n(e,C)},p(T,x){x&2&&a!==(a=Ne(T[8].status)+"")&&q(l,a),x&2&&o!==(o=T[8].name+"")&&q(r,o),x&2&&P!==(P=T[8].progress+"")&&q(w,P),T[8].message?N?N.p(T,x):(N=Pe(T),N.c(),N.m(e,m)):N&&(N.d(1),N=null),x&2&&D!==(D="stage-progress-fill stage-"+T[8].status+" svelte-x7s3t5")&&v(g,"class",D),x&2&&ie(g,"width",T[8].progress+"%"),x&2&&ae(e,"stage-active",T[8].status==="in_progress")},d(T){T&&f(e),N&&N.d()}}}function Be(i){let e;function t(l,c){return l[2]?Ue:l[3]?ze:l[0].length===0?qe:Fe}let s=t(i),a=s(i);return{c(){e=h("div"),a.c(),this.h()},l(l){e=u(l,"DIV",{class:!0});var c=b(e);a.l(c),c.forEach(f),this.h()},h(){v(e,"class","training-monitor svelte-x7s3t5")},m(l,c){U(l,e,c),a.m(e,null)},p(l,[c]){s===(s=t(l))&&a?a.p(l,c):(a.d(1),a=s(l),a&&(a.c(),a.m(e,null)))},i:se,o:se,d(l){l&&f(e),a.d()}}}function xe(i){const e=Math.floor(i/3600),t=Math.floor(i%3600/60),s=i%60;return e>0?`${e}h ${t}m ${s}s`:t>0?`${t}m ${s}s`:`${s}s`}function ne(i){switch(i){case"running":return"status-running";case"completed":return"status-completed";case"failed":return"status-failed";default:return"status-default"}}function Ne(i){switch(i){case"completed":return"âœ…";case"in_progress":return"ðŸ”„";case"failed":return"âŒ";default:return"â³"}}function Qe(i,e,t){let s=[],a=null,l=!0,c="",d;async function o(){try{const k=await _e("/api/training/status");if(!k.ok)throw new Error("Failed to load training operations");const P=await k.json();t(0,s=P.operations),!a&&s.length>0&&t(1,a=s.find(w=>w.overallStatus==="running")||s[0]),t(2,l=!1)}catch(k){t(3,c=k.message),t(2,l=!1)}}async function r(k){try{const P=await _e(`/api/training/${k}`);if(!P.ok)throw new Error("Failed to load operation details");const w=await P.json();t(1,a=w);const _=s.findIndex(E=>E.operation===k);_!==-1&&t(0,s[_]=w,s)}catch(P){console.error("Failed to load operation details:",P)}}return Me(()=>{o(),d=setInterval(()=>{o(),a&&r(a.operation)},5e3)}),je(()=>{d&&clearInterval(d)}),[s,a,l,c,o,r,k=>r(k.operation)]}class ye extends Te{constructor(e){super(),Le(this,e,Qe,Be,Oe,{})}}export{ye as default};
