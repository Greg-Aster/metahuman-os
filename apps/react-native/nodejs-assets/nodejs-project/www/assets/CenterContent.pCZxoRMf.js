const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bigBrotherTerminal.CirdKcu0.js","assets/index.PToQ82vo.js","assets/api-config.B-uR5Kyo.js","assets/Dashboard.ayOgYq4N.js","assets/TaskManager.KJUIVVpn.js","assets/security-policy.Bh98pxWs.js","assets/ApprovalQueue.BPiN6N0X.js","assets/approvals.D-B7mdIx.js","assets/Terminal.BRGsR5k1.js","assets/MemoryControls.CIJvKiEl.js","assets/AudioUpload.BJDU8XBe.js","assets/AudioUpload.Ouh38mW2.css","assets/AudioRecorder.DWhqzvut.js","assets/VoiceTrainingWidget.WNhe8l1W.js","assets/VoiceTrainingWidget.ChL1k5SX.css","assets/VoiceSettings.BI5W5J24.js","assets/navigation.DpIJm6IG.js","assets/clear-events.HcvDxiLr.js","assets/server-health.RMTlZIDp.js","assets/local-memory.DgMLNaVQ.js","assets/VoiceSettings.hQV73ATz.css","assets/AdapterDashboard.mM2cYl2h.js","assets/fetch-timeout.D037UL0m.js","assets/AdapterDashboard.B5T-chDg.css","assets/TrainingMonitor.DnJM5Mjp.js","assets/TrainingMonitor.B5RQ6_GM.css","assets/OnboardingWizard.DSfYXmk6.js","assets/OnboardingWizard.BPhHV1nf.css","assets/TrainingWizard.BqHDeEFj.js","assets/TrainingWizard.CLlHAoks.css","assets/TrainingHistory.pYTCMMyS.js","assets/TrainingHistory.C0YZTW5d.css","assets/DatasetManagement.CtfKXK9e.js","assets/DatasetManagement.D8cEt3Wc.css","assets/SystemControls.4T9zyIZl.js","assets/SystemControls.CKdxER_2.css","assets/Lifeline.CZtGKA_o.js","assets/Lifeline.Bc0qQI7Q.css","assets/OvernightLearnings.BQje5I0g.js","assets/sleep-status.CRUqY9VP.js","assets/SystemSettings.-hs4SVCd.js","assets/SystemSettings.B_gbxBgS.css","assets/BackendSettings.Byu9OVil.js","assets/BackendSettings.IIJhbALy.css","assets/SecuritySettings.DdEnO-vI.js","assets/SecuritySettings.BXtRF2i3.css","assets/NetworkSettings.1cuGM0-V.js","assets/NetworkSettings.BDr02RZd.css","assets/ChatSettings.BVeHkyTy.js","assets/MemoryEditor.BhxhyPWE.js","assets/PersonaGenerator.DdPx2X5b.js","assets/PersonaGenerator.72-o0MLJ.css","assets/PersonaEditor.ClVfGf5z.js","assets/PersonaEditor.D_yGa63X.css","assets/AddonsManager.lOa4ejve.js","assets/AddonsManager.CXN5mnGb.css","assets/SchedulerSettings.De5_qJ_9.js","assets/BoredomControl.CBk4LlyK.js","assets/SchedulerSettings.DCK3g1id.css","assets/ProfileLocation.BpGYg7bT.js","assets/ProfileLocation.CN7lgZfY.css","assets/ServerSettings.DyNf2q9s.js","assets/SyncStatus.DemBWcbd.js","assets/SyncStatus.B3tXut5I.css","assets/ServerSettings.CQbATA20.css","assets/TerminalManager.C22roS4c.js","assets/AgencyDashboard.CdMPaEC1.js","assets/AgencyDashboard.BKQkw7oJ.css","assets/SystemCoderDashboard.6w1tkBaJ.js","assets/SystemCoderDashboard.DWfYqoV_.css"])))=>i.map(i=>d[i]);
import{y as Ls,_ as We,a as jn}from"./navigation.DpIJm6IG.js";import{am as Vs,an as Os,ao as Kt,a0 as Re,F as le,a1 as Be,G as ee,ap as Rs,S as jt,i as zt,s as qt,n as m,d as u,p as fe,a as b,b as c,c as a,e as d,f as p,q as Z,h as P,j as h,t as x,k as L,v as _t,z as Rt,x as de,U as st,V as ot,T as Ss,Q as Es,g as X,R as Ut,r as Ge,u as bt,M as H,_ as Ms,aq as Bs,E as ke,H as we,I as ze,J as ye,L as ve,l as xe,D as Ue,ag as Us,ar as Vn,w as zn,as as Is,y as Fs,K as ft,o as Hs,at as qn,W as $s,O as Wn,ad as On,m as js,N as Fn,$ as zs,af as Ce}from"./api-config.B-uR5Kyo.js";import{c as qs}from"./security-policy.Bh98pxWs.js";import{t as Ws}from"./clear-events.HcvDxiLr.js";import{w as et,d as Rn}from"./index.PToQ82vo.js";import{h as Gs,i as Gn,f as Jn}from"./server-health.RMTlZIDp.js";import{saveMemory as Js,getDisplayMessages as Qs,appendToBuffer as Qn}from"./local-memory.DgMLNaVQ.js";const Ds=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function tt(i,e){const l=e.token={};function t(n,s,o,r){if(e.token!==l)return;e.resolved=r;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=r);const v=n&&(e.current=n)(f);let _=!1;e.block&&(e.blocks?e.blocks.forEach((k,S)=>{S!==s&&k&&(Re(),le(k,1,1,()=>{e.blocks[S]===k&&(e.blocks[S]=null)}),Be())}):e.block.d(1),v.c(),ee(v,1),v.m(e.mount(),e.anchor),_=!0),e.block=v,e.blocks&&(e.blocks[s]=v),_&&Rs()}if(Vs(i)){const n=Os();if(i.then(s=>{Kt(n),t(e.then,1,e.value,s),Kt(null)},s=>{if(Kt(n),t(e.catch,2,e.error,s),Kt(null),!e.hasCatch)throw s}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,i),!0;e.resolved=i}}function nt(i,e,l){const t=e.slice(),{resolved:n}=i;i.current===i.then&&(t[i.value]=n),i.current===i.catch&&(t[i.error]=n),i.block.p(t,l)}function Ys(i){let e,l,t,n,s,o,r,f;return{c(){e=h("div"),l=h("details"),t=h("summary"),n=x(i[1]),s=L(),o=h("div"),r=h("pre"),f=x(i[0]),this.h()},l(v){e=d(v,"DIV",{class:!0});var _=p(e);l=d(_,"DETAILS",{class:!0});var k=p(l);t=d(k,"SUMMARY",{class:!0});var S=p(t);n=Z(S,i[1]),S.forEach(u),s=P(k),o=d(k,"DIV",{class:!0});var y=p(o);r=d(y,"PRE",{class:!0});var R=p(r);f=Z(R,i[0]),R.forEach(u),y.forEach(u),k.forEach(u),_.forEach(u),this.h()},h(){a(t,"class","summary svelte-1lx2w68"),a(r,"class","svelte-1lx2w68"),a(o,"class","steps svelte-1lx2w68"),l.open=i[2],a(l,"class","thinking-details svelte-1lx2w68"),a(e,"class","thinking-container svelte-1lx2w68")},m(v,_){b(v,e,_),c(e,l),c(l,t),c(t,n),c(l,s),c(l,o),c(o,r),c(r,f)},p(v,[_]){_&2&&fe(n,v[1]),_&1&&fe(f,v[0]),_&4&&(l.open=v[2])},i:m,o:m,d(v){v&&u(e)}}}function Ks(i,e,l){let{steps:t=""}=e,{label:n="ðŸ¤” Thinking..."}=e,{initiallyOpen:s=!0}=e;return i.$$set=o=>{"steps"in o&&l(0,t=o.steps),"label"in o&&l(1,n=o.label),"initiallyOpen"in o&&l(2,s=o.initiallyOpen)},[t,n,s]}class en extends jt{constructor(e){super(),zt(this,e,Ks,Ys,qt,{steps:0,label:1,initiallyOpen:2})}}function Yn(i){let e,l,t="â†© Replying to:",n,s,o=i[2].content.substring(0,60)+"",r,f=i[2].content.length>60?"...":"",v,_,k,S="âœ•",y,R;return{c(){e=h("div"),l=h("span"),l.textContent=t,n=L(),s=h("span"),r=x(o),v=x(f),_=L(),k=h("button"),k.textContent=S,this.h()},l(B){e=d(B,"DIV",{class:!0});var M=p(e);l=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1ha98va"&&(l.textContent=t),n=P(M),s=d(M,"SPAN",{class:!0});var C=p(s);r=Z(C,o),v=Z(C,f),C.forEach(u),_=P(M),k=d(M,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(k)!=="svelte-s7dt6v"&&(k.textContent=S),M.forEach(u),this.h()},h(){a(l,"class","reply-label"),a(s,"class","reply-preview"),a(k,"class","reply-cancel"),a(k,"title","Cancel reply"),a(e,"class","reply-indicator")},m(B,M){b(B,e,M),c(e,l),c(e,n),c(e,s),c(s,r),c(s,v),c(e,_),c(e,k),y||(R=de(k,"click",i[19]),y=!0)},p(B,M){M&4&&o!==(o=B[2].content.substring(0,60)+"")&&fe(r,o),M&4&&f!==(f=B[2].content.length>60?"...":"")&&fe(v,f)},d(B){B&&u(e),y=!1,R()}}}function Kn(i){let e,l,t="ðŸŽ¤",n,s,o;return{c(){e=h("div"),l=h("span"),l.textContent=t,n=L(),s=h("span"),o=x(i[8]),this.h()},l(r){e=d(r,"DIV",{class:!0});var f=p(e);l=d(f,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1adpdsz"&&(l.textContent=t),n=P(f),s=d(f,"SPAN",{class:!0});var v=p(s);o=Z(v,i[8]),v.forEach(u),f.forEach(u),this.h()},h(){a(l,"class","interim-icon svelte-9pfxv6"),a(s,"class","interim-text svelte-9pfxv6"),a(e,"class","interim-transcript svelte-9pfxv6")},m(r,f){b(r,e,f),c(e,l),c(e,n),c(e,s),c(s,o)},p(r,f){f&256&&fe(o,r[8])},d(r){r&&u(e)}}}function Xn(i){let e,l='<svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="6" width="12" height="12" rx="2"></rect></svg> <span class="stop-text">Stop</span>',t,n;return{c(){e=h("button"),e.innerHTML=l,this.h()},l(s){e=d(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(e)!=="svelte-gimvgw"&&(e.innerHTML=l),this.h()},h(){a(e,"class","input-stop-btn stop-thinking"),a(e,"title","Stop thinking")},m(s,o){b(s,e,o),t||(n=de(e,"click",i[12]),t=!0)},p:m,d(s){s&&u(e),t=!1,n()}}}function Zn(i){let e,l='<svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="6" width="12" height="12" rx="2"></rect></svg>',t,n;return{c(){e=h("button"),e.innerHTML=l,this.h()},l(s){e=d(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(e)!=="svelte-dmbseq"&&(e.innerHTML=l),this.h()},h(){a(e,"class","input-stop-btn"),a(e,"title","Stop speaking")},m(s,o){b(s,e,o),t||(n=de(e,"click",i[18]),t=!0)},p:m,d(s){s&&u(e),t=!1,n()}}}function Xs(i){let e,l;return{c(){e=ot("svg"),l=ot("path"),this.h()},l(t){e=st(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0});var n=p(e);l=st(n,"path",{d:!0}),p(l).forEach(u),n.forEach(u),this.h()},h(){a(l,"d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3zM19 10v2a7 7 0 0 1-14 0v-2M12 19v4M8 23h8"),a(e,"width","18"),a(e,"height","18"),a(e,"viewBox","0 0 24 24"),a(e,"fill","currentColor")},m(t,n){b(t,e,n),c(e,l)},d(t){t&&u(e)}}}function Zs(i){let e,l;return{c(){e=ot("svg"),l=ot("path"),this.h()},l(t){e=st(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0});var n=p(e);l=st(n,"path",{d:!0}),p(l).forEach(u),n.forEach(u),this.h()},h(){a(l,"d","M9 9c-.5-.5-1.5-1-3-1M9 15c-.5.5-1.5 1-3 1M15 9c.5-.5 1.5-1 3-1M15 15c.5.5 1.5 1 3 1M12 12v.01"),a(e,"width","20"),a(e,"height","20"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"class","waiting-icon")},m(t,n){b(t,e,n),c(e,l)},d(t){t&&u(e)}}}function xs(i){let e,l,t,n,s,o;return{c(){e=ot("svg"),l=ot("rect"),t=ot("rect"),n=ot("rect"),s=ot("rect"),o=ot("rect"),this.h()},l(r){e=st(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var f=p(e);l=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(l).forEach(u),t=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(t).forEach(u),n=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(n).forEach(u),s=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(s).forEach(u),o=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(o).forEach(u),f.forEach(u),this.h()},h(){a(l,"x","2"),a(l,"y","8"),a(l,"width","2"),a(l,"height","8"),a(l,"rx","1"),a(l,"class","svelte-9pfxv6"),a(t,"x","6"),a(t,"y","4"),a(t,"width","2"),a(t,"height","16"),a(t,"rx","1"),a(t,"class","svelte-9pfxv6"),a(n,"x","10"),a(n,"y","10"),a(n,"width","2"),a(n,"height","4"),a(n,"rx","1"),a(n,"class","svelte-9pfxv6"),a(s,"x","14"),a(s,"y","6"),a(s,"width","2"),a(s,"height","12"),a(s,"rx","1"),a(s,"class","svelte-9pfxv6"),a(o,"x","18"),a(o,"y","9"),a(o,"width","2"),a(o,"height","6"),a(o,"rx","1"),a(o,"class","svelte-9pfxv6"),a(e,"width","20"),a(e,"height","20"),a(e,"viewBox","0 0 24 24"),a(e,"fill","currentColor"),a(e,"class","recording-icon")},m(r,f){b(r,e,f),c(e,l),c(e,t),c(e,n),c(e,s),c(e,o)},d(r){r&&u(e)}}}function eo(i){let e,l;return{c(){e=ot("svg"),l=ot("path"),this.h()},l(t){e=st(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);l=st(n,"path",{d:!0}),p(l).forEach(u),n.forEach(u),this.h()},h(){a(l,"d","M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"),a(e,"width","20"),a(e,"height","20"),a(e,"viewBox","0 0 24 24"),a(e,"fill","currentColor"),a(e,"class","conversation-icon svelte-9pfxv6")},m(t,n){b(t,e,n),c(e,l)},d(t){t&&u(e)}}}function to(i){let e,l,t,n,s,o;return{c(){e=ot("svg"),l=ot("rect"),t=ot("rect"),n=ot("rect"),s=ot("rect"),o=ot("rect"),this.h()},l(r){e=st(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var f=p(e);l=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(l).forEach(u),t=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(t).forEach(u),n=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(n).forEach(u),s=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(s).forEach(u),o=st(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),p(o).forEach(u),f.forEach(u),this.h()},h(){a(l,"x","2"),a(l,"y","8"),a(l,"width","2"),a(l,"height","8"),a(l,"rx","1"),a(l,"class","svelte-9pfxv6"),a(t,"x","6"),a(t,"y","4"),a(t,"width","2"),a(t,"height","16"),a(t,"rx","1"),a(t,"class","svelte-9pfxv6"),a(n,"x","10"),a(n,"y","10"),a(n,"width","2"),a(n,"height","4"),a(n,"rx","1"),a(n,"class","svelte-9pfxv6"),a(s,"x","14"),a(s,"y","6"),a(s,"width","2"),a(s,"height","12"),a(s,"rx","1"),a(s,"class","svelte-9pfxv6"),a(o,"x","18"),a(o,"y","9"),a(o,"width","2"),a(o,"height","6"),a(o,"rx","1"),a(o,"class","svelte-9pfxv6"),a(e,"width","20"),a(e,"height","20"),a(e,"viewBox","0 0 24 24"),a(e,"fill","currentColor"),a(e,"class","recording-icon")},m(r,f){b(r,e,f),c(e,l),c(e,t),c(e,n),c(e,s),c(e,o)},d(r){r&&u(e)}}}function no(i){let e,l;return{c(){e=ot("svg"),l=ot("path"),this.h()},l(t){e=st(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,class:!0});var n=p(e);l=st(n,"path",{d:!0}),p(l).forEach(u),n.forEach(u),this.h()},h(){a(l,"d","M12 1C7.03 1 3 5.03 3 10v4c0 1.66 1.34 3 3 3h1v-7H5.5c.32-3.52 3.3-6.25 6.91-6.25s6.59 2.73 6.91 6.25H17v7h1c1.66 0 3-1.34 3-3v-4c0-4.97-4.03-9-9-9zm-1 17h2v2h-2v-2z"),a(e,"width","20"),a(e,"height","20"),a(e,"viewBox","0 0 24 24"),a(e,"fill","currentColor"),a(e,"class","wake-word-icon svelte-9pfxv6")},m(t,n){b(t,e,n),c(e,l)},d(t){t&&u(e)}}}function lo(i){let e,l,t,n,s,o,r,f,v,_,k,S,y,R,B,M,C,N,U,O=i[2]&&Yn(i),$=i[8]&&Kn(i),g=i[1]&&Xn(i),A=i[7]&&Zn(i);function D(T,Q){return T[5]?no:T[6]&&T[3]?to:T[6]?eo:T[4]&&T[3]?xs:T[4]?Zs:Xs}let E=D(i),I=E(i);return{c(){e=h("div"),O&&O.c(),l=L(),$&&$.c(),t=L(),n=h("div"),s=h("textarea"),o=L(),r=h("div"),g&&g.c(),f=L(),A&&A.c(),v=L(),_=h("button"),I.c(),y=L(),R=h("button"),B=ot("svg"),M=ot("path"),this.h()},l(T){e=d(T,"DIV",{class:!0});var Q=p(e);O&&O.l(Q),l=P(Q),$&&$.l(Q),t=P(Q),n=d(Q,"DIV",{class:!0});var W=p(n);s=d(W,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),p(s).forEach(u),o=P(W),r=d(W,"DIV",{class:!0});var j=p(r);g&&g.l(j),f=P(j),A&&A.l(j),v=P(j),_=d(j,"BUTTON",{class:!0,title:!0});var V=p(_);I.l(V),V.forEach(u),y=P(j),R=d(j,"BUTTON",{class:!0});var J=p(R);B=st(J,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ne=p(B);M=st(ne,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(M).forEach(u),ne.forEach(u),J.forEach(u),j.forEach(u),W.forEach(u),Q.forEach(u),this.h()},h(){a(s,"placeholder","Message your MetaHuman..."),a(s,"rows","1"),a(s,"class","chat-input"),s.disabled=i[1],a(_,"class",k="mic-btn "+(i[3]?"recording":"")+" "+(i[4]?"continuous":"")+" "+(i[6]?"conversation":"")+" "+(i[5]?"wake-word":"")+" "+(i[7]?"interrupt-ready":"")+" svelte-9pfxv6"),a(_,"title",S=i[7]?"Tap to interrupt and speak":i[5]?'Listening for "hey greg"â€¦':i[6]?i[3]?"Listeningâ€¦":"Conversation mode - just talk!":i[4]?i[3]?"Listening continuouslyâ€¦":"Continuous mode active":i[3]?"Listeningâ€¦ tap to stop":"Tap to speak, hold for conversation"),_.disabled=i[1],a(M,"stroke-linecap","round"),a(M,"stroke-linejoin","round"),a(M,"stroke-width","2"),a(M,"d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"),a(B,"class","w-5 h-5"),a(B,"fill","none"),a(B,"stroke","currentColor"),a(B,"viewBox","0 0 24 24"),a(R,"class","send-btn"),R.disabled=C=!i[0].trim()||i[1],a(r,"class","input-actions"),a(n,"class","input-row"),a(e,"class","input-wrapper")},m(T,Q){b(T,e,Q),O&&O.m(e,null),c(e,l),$&&$.m(e,null),c(e,t),c(e,n),c(n,s),Rt(s,i[0]),c(n,o),c(n,r),g&&g.m(r,null),c(r,f),A&&A.m(r,null),c(r,v),c(r,_),I.m(_,null),i[22](_),c(r,y),c(r,R),c(R,B),c(B,M),N||(U=[de(s,"input",i[21]),de(s,"keypress",i[10]),de(_,"click",i[13]),de(_,"contextmenu",i[14]),de(_,"touchstart",i[15]),de(_,"touchend",i[16]),de(_,"touchmove",i[17]),de(R,"click",i[11])],N=!0)},p(T,[Q]){T[2]?O?O.p(T,Q):(O=Yn(T),O.c(),O.m(e,l)):O&&(O.d(1),O=null),T[8]?$?$.p(T,Q):($=Kn(T),$.c(),$.m(e,t)):$&&($.d(1),$=null),Q&2&&(s.disabled=T[1]),Q&1&&Rt(s,T[0]),T[1]?g?g.p(T,Q):(g=Xn(T),g.c(),g.m(r,f)):g&&(g.d(1),g=null),T[7]?A?A.p(T,Q):(A=Zn(T),A.c(),A.m(r,v)):A&&(A.d(1),A=null),E!==(E=D(T))&&(I.d(1),I=E(T),I&&(I.c(),I.m(_,null))),Q&248&&k!==(k="mic-btn "+(T[3]?"recording":"")+" "+(T[4]?"continuous":"")+" "+(T[6]?"conversation":"")+" "+(T[5]?"wake-word":"")+" "+(T[7]?"interrupt-ready":"")+" svelte-9pfxv6")&&a(_,"class",k),Q&248&&S!==(S=T[7]?"Tap to interrupt and speak":T[5]?'Listening for "hey greg"â€¦':T[6]?T[3]?"Listeningâ€¦":"Conversation mode - just talk!":T[4]?T[3]?"Listening continuouslyâ€¦":"Continuous mode active":T[3]?"Listeningâ€¦ tap to stop":"Tap to speak, hold for conversation")&&a(_,"title",S),Q&2&&(_.disabled=T[1]),Q&3&&C!==(C=!T[0].trim()||T[1])&&(R.disabled=C)},i:m,o:m,d(T){T&&u(e),O&&O.d(),$&&$.d(),g&&g.d(),A&&A.d(),I.d(),i[22](null),N=!1,_t(U)}}}const so=500,xn=10;function oo(i,e,l){let{input:t=""}=e,{loading:n=!1}=e,{selectedMessage:s=null}=e,{isRecording:o=!1}=e,{isContinuousMode:r=!1}=e,{isWakeWordListening:f=!1}=e,{isConversationMode:v=!1}=e,{ttsIsPlaying:_=!1}=e,{lengthMode:k="auto"}=e,{interimTranscript:S=""}=e;const y=Ss();let R=null,B=!1,M;function C(V){y("keypress",{event:V})}function N(){y("send")}function U(){y("stop")}function O(){if(_){y("ttsStopAndListen");return}B||y("micClick"),B=!1}function $(V){V.preventDefault(),y("micContextMenu")}let g=0,A=0;function D(V){V.preventDefault(),console.log("[InputArea] touchstart - starting long-press timer"),B=!1,V.touches.length>0&&(g=V.touches[0].clientX,A=V.touches[0].clientY),R=setTimeout(()=>{console.log("[InputArea] Long press detected! Dispatching micLongPress"),B=!0,navigator.vibrate&&navigator.vibrate(50),y("micLongPress")},so)}function E(V){console.log("[InputArea] touchend - isLongPress:",B),R&&(clearTimeout(R),R=null,console.log("[InputArea] Short tap detected, dispatching micClick"),y("micClick")),V.preventDefault()}function I(V){if(R&&V.touches.length>0){const J=Math.abs(V.touches[0].clientX-g),ne=Math.abs(V.touches[0].clientY-A);(J>xn||ne>xn)&&(console.log("[InputArea] touchmove - finger moved too much, cancelling long-press"),clearTimeout(R),R=null)}}function T(){y("ttsStop")}function Q(){y("clearSelection")}Es(()=>{R&&clearTimeout(R)});function W(){t=this.value,l(0,t)}function j(V){Ut[V?"unshift":"push"](()=>{M=V,l(9,M)})}return i.$$set=V=>{"input"in V&&l(0,t=V.input),"loading"in V&&l(1,n=V.loading),"selectedMessage"in V&&l(2,s=V.selectedMessage),"isRecording"in V&&l(3,o=V.isRecording),"isContinuousMode"in V&&l(4,r=V.isContinuousMode),"isWakeWordListening"in V&&l(5,f=V.isWakeWordListening),"isConversationMode"in V&&l(6,v=V.isConversationMode),"ttsIsPlaying"in V&&l(7,_=V.ttsIsPlaying),"lengthMode"in V&&l(20,k=V.lengthMode),"interimTranscript"in V&&l(8,S=V.interimTranscript)},[t,n,s,o,r,f,v,_,S,M,C,N,U,O,$,D,E,I,T,Q,k,W,j]}class io extends jt{constructor(e){super(),zt(this,e,oo,lo,qt,{input:0,loading:1,selectedMessage:2,isRecording:3,isContinuousMode:4,isWakeWordListening:5,isConversationMode:6,ttsIsPlaying:7,lengthMode:20,interimTranscript:8})}}const{Map:ro}=Ds;function el(i,e,l){const t=i.slice();return t[19]=e[l],t}function tl(i,e,l){const t=i.slice();return t[22]=e[l],t[24]=l,t}function ao(i){const e=i.slice(),l=e[8](e[22]);return e[25]=l,e}function nl(i){let e,l,t,n;const s=[uo,co],o=[];function r(v,_){return v[22].role==="reasoning"?0:1}function f(v,_){return _===1?ao(v):v}return e=r(i),l=o[e]=s[e](f(i,e)),{c(){l.c(),t=H()},l(v){l.l(v),t=H()},m(v,_){o[e].m(v,_),b(v,t,_),n=!0},p(v,_){let k=e;e=r(v),e===k?o[e].p(f(v,e),_):(Re(),le(o[k],1,1,()=>{o[k]=null}),Be(),l=o[e],l?l.p(f(v,e),_):(l=o[e]=s[e](f(v,e)),l.c()),ee(l,1),l.m(t.parentNode,t))},i(v){n||(ee(l),n=!0)},o(v){le(l),n=!1},d(v){v&&u(t),o[e].d(v)}}}function co(i){let e,l,t,n,s,o,r=Ft(i[22].timestamp)+"",f,v,_,k,S=i[25].content+"",y,R,B,M='<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3zM19 10v2a7 7 0 01-14 0v-2M12 19v4M8 23h8"></path></svg>',C,N,U,O,$,g=i[25].thinking&&ll(i);function A(W,j){return W[22].role==="user"?mo:W[22].role==="assistant"?_o:W[22].role==="reflection"?vo:W[22].role==="dream"?ho:fo}let D=A(i),E=D(i),I=i[22].role==="assistant"&&i[22].relPath&&ol(i);function T(...W){return i[15](i[22],...W)}function Q(){return i[16](i[22],i[24])}return{c(){g&&g.c(),e=L(),l=h("div"),t=h("div"),n=h("span"),E.c(),s=L(),o=h("span"),f=x(r),v=L(),I&&I.c(),_=L(),k=h("div"),y=x(S),R=L(),B=h("button"),B.innerHTML=M,this.h()},l(W){g&&g.l(W),e=P(W),l=d(W,"DIV",{class:!0,"data-facet":!0,role:!0,tabindex:!0});var j=p(l);t=d(j,"DIV",{class:!0});var V=p(t);n=d(V,"SPAN",{class:!0});var J=p(n);E.l(J),J.forEach(u),s=P(V),o=d(V,"SPAN",{class:!0});var ne=p(o);f=Z(ne,r),ne.forEach(u),v=P(V),I&&I.l(V),V.forEach(u),_=P(j),k=d(j,"DIV",{class:!0});var re=p(k);y=Z(re,S),R=P(re),B=d(re,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(B)!=="svelte-1v2jgst"&&(B.innerHTML=M),re.forEach(u),j.forEach(u),this.h()},h(){a(n,"class","message-role"),a(o,"class","message-time"),a(t,"class","message-header"),a(B,"class","msg-mic-btn"),a(B,"title","Listen to this message"),a(k,"class","message-content"),a(l,"class",C="message message-"+i[22].role),a(l,"data-facet",N=i[22].meta?.facet||"default"),a(l,"role","button"),a(l,"tabindex","0"),ve(l,"message-selected",i[2]===i[24])},m(W,j){g&&g.m(W,j),b(W,e,j),b(W,l,j),c(l,t),c(t,n),E.m(n,null),c(t,s),c(t,o),c(o,f),c(t,v),I&&I.m(t,null),c(l,_),c(l,k),c(k,y),c(k,R),c(k,B),U=!0,O||($=[de(B,"click",T),de(l,"click",Q)],O=!0)},p(W,j){i=W,i[25].thinking?g?(g.p(i,j),j&1&&ee(g,1)):(g=ll(i),g.c(),ee(g,1),g.m(e.parentNode,e)):g&&(Re(),le(g,1,1,()=>{g=null}),Be()),D===(D=A(i))&&E?E.p(i,j):(E.d(1),E=D(i),E&&(E.c(),E.m(n,null))),(!U||j&1)&&r!==(r=Ft(i[22].timestamp)+"")&&fe(f,r),i[22].role==="assistant"&&i[22].relPath?I?I.p(i,j):(I=ol(i),I.c(),I.m(t,null)):I&&(I.d(1),I=null),(!U||j&1)&&S!==(S=i[25].content+"")&&fe(y,S),(!U||j&1&&C!==(C="message message-"+i[22].role))&&a(l,"class",C),(!U||j&1&&N!==(N=i[22].meta?.facet||"default"))&&a(l,"data-facet",N),(!U||j&5)&&ve(l,"message-selected",i[2]===i[24])},i(W){U||(ee(g),U=!0)},o(W){le(g),U=!1},d(W){W&&(u(e),u(l)),g&&g.d(W),E.d(),I&&I.d(),O=!1,_t($)}}}function uo(i){let e,l;return e=new en({props:{steps:i[22].content,label:i[22].meta?.label??(i[22].meta?.stage?Zt({...i[22].meta.stage,timestamp:i[22].timestamp}):"ðŸ¤” Reasoning Â· "+Ft(i[22].timestamp)),initiallyOpen:!1}}),{c(){ye(e.$$.fragment)},l(t){ze(e.$$.fragment,t)},m(t,n){we(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.steps=t[22].content),n&1&&(s.label=t[22].meta?.label??(t[22].meta?.stage?Zt({...t[22].meta.stage,timestamp:t[22].timestamp}):"ðŸ¤” Reasoning Â· "+Ft(t[22].timestamp))),e.$set(s)},i(t){l||(ee(e.$$.fragment,t),l=!0)},o(t){le(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function ll(i){let e,l;return e=new en({props:{steps:i[25].thinking,label:"ðŸ§  Reasoning Â· "+Ft(i[22].timestamp),initiallyOpen:!1}}),{c(){ye(e.$$.fragment)},l(t){ze(e.$$.fragment,t)},m(t,n){we(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.steps=t[25].thinking),n&1&&(s.label="ðŸ§  Reasoning Â· "+Ft(t[22].timestamp)),e.$set(s)},i(t){l||(ee(e.$$.fragment,t),l=!0)},o(t){le(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function fo(i){let e;return{c(){e=x("System")},l(l){e=Z(l,"System")},m(l,t){b(l,e,t)},p:m,d(l){l&&u(e)}}}function ho(i){let e;return{c(){e=x("ðŸŒ™ Dream")},l(l){e=Z(l,"ðŸŒ™ Dream")},m(l,t){b(l,e,t)},p:m,d(l){l&&u(e)}}}function vo(i){let e;return{c(){e=x("ðŸ’­ Idle Thought")},l(l){e=Z(l,"ðŸ’­ Idle Thought")},m(l,t){b(l,e,t)},p:m,d(l){l&&u(e)}}}function _o(i){let e;function l(s,o){return s[22].meta?.isCuriosityQuestion?go:po}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function mo(i){let e;return{c(){e=x("You")},l(l){e=Z(l,"You")},m(l,t){b(l,e,t)},p:m,d(l){l&&u(e)}}}function po(i){let e,l,t=i[22].meta?.facet&&i[22].meta.facet!=="default"&&sl(i);return{c(){e=x("MetaHuman"),t&&t.c(),l=H()},l(n){e=Z(n,"MetaHuman"),t&&t.l(n),l=H()},m(n,s){b(n,e,s),t&&t.m(n,s),b(n,l,s)},p(n,s){n[22].meta?.facet&&n[22].meta.facet!=="default"?t?t.p(n,s):(t=sl(n),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(n){n&&(u(e),u(l)),t&&t.d(n)}}}function go(i){let e,l="ðŸ’­ I'm curious:";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-8fwzhy"&&(e.textContent=l),this.h()},h(){a(e,"class","curiosity-label")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function sl(i){let e,l,t=i[22].meta.facet+"",n,s;return{c(){e=h("span"),l=x("Â· "),n=x(t),this.h()},l(o){e=d(o,"SPAN",{class:!0,title:!0});var r=p(e);l=Z(r,"Â· "),n=Z(r,t),r.forEach(u),this.h()},h(){a(e,"class","facet-indicator"),a(e,"title",s="Speaking as "+i[22].meta.facet+" facet")},m(o,r){b(o,e,r),c(e,l),c(e,n)},p(o,r){r&1&&t!==(t=o[22].meta.facet+"")&&fe(n,t),r&1&&s!==(s="Speaking as "+o[22].meta.facet+" facet")&&a(e,"title",s)},d(o){o&&u(e)}}}function ol(i){let e,l,t="âˆ’",n,s,o="+",r,f;function v(){return i[13](i[22])}function _(){return i[14](i[22])}return{c(){e=h("span"),l=h("button"),l.textContent=t,n=L(),s=h("button"),s.textContent=o,this.h()},l(k){e=d(k,"SPAN",{class:!0});var S=p(e);l=d(S,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(l)!=="svelte-1xa9sss"&&(l.textContent=t),n=P(S),s=d(S,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(s)!=="svelte-wzz1bn"&&(s.textContent=o),S.forEach(u),this.h()},h(){a(l,"class","msg-btn bad"),a(l,"title","Delete from memory"),a(s,"class","msg-btn good"),a(s,"title","Mark as correct"),a(e,"class","message-actions")},m(k,S){b(k,e,S),c(e,l),c(e,n),c(e,s),r||(f=[de(l,"click",v),de(s,"click",_)],r=!0)},p(k,S){i=k},d(k){k&&u(e),r=!1,_t(f)}}}function il(i){let e,l,t=(i[1]==="inner"?i[22].role==="reflection"||i[22].role==="dream"||i[22].role==="reasoning":i[22].role!=="reflection"&&i[22].role!=="dream")&&nl(i);return{c(){t&&t.c(),e=H()},l(n){t&&t.l(n),e=H()},m(n,s){t&&t.m(n,s),b(n,e,s),l=!0},p(n,s){(n[1]==="inner"?n[22].role==="reflection"||n[22].role==="dream"||n[22].role==="reasoning":n[22].role!=="reflection"&&n[22].role!=="dream")?t?(t.p(n,s),s&3&&ee(t,1)):(t=nl(n),t.c(),ee(t,1),t.m(e.parentNode,e)):t&&(Re(),le(t,1,1,()=>{t=null}),Be())},i(n){l||(ee(t),l=!0)},o(n){le(t),l=!1},d(n){n&&u(e),t&&t.d(n)}}}function rl(i){let e=[],l=new ro,t,n,s=Ge(i[4]);const o=r=>r[19].timestamp+"-"+r[19].round+"-"+r[19].stage;for(let r=0;r<s.length;r+=1){let f=el(i,s,r),v=o(f);l.set(v,e[r]=al(v,f))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=H()},l(r){for(let f=0;f<e.length;f+=1)e[f].l(r);t=H()},m(r,f){for(let v=0;v<e.length;v+=1)e[v]&&e[v].m(r,f);b(r,t,f),n=!0},p(r,f){f&16&&(s=Ge(r[4]),Re(),e=Ms(e,f,o,1,r,s,l,t.parentNode,Bs,al,t,el),Be())},i(r){if(!n){for(let f=0;f<s.length;f+=1)ee(e[f]);n=!0}},o(r){for(let f=0;f<e.length;f+=1)le(e[f]);n=!1},d(r){r&&u(t);for(let f=0;f<e.length;f+=1)e[f].d(r)}}}function al(i,e){let l,t,n;return t=new en({props:{steps:e[19].content,label:Zt(e[19]),initiallyOpen:!0}}),{key:i,first:null,c(){l=H(),ye(t.$$.fragment),this.h()},l(s){l=H(),ze(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,o){b(s,l,o),we(t,s,o),n=!0},p(s,o){e=s;const r={};o&16&&(r.steps=e[19].content),o&16&&(r.label=Zt(e[19])),t.$set(r)},i(s){n||(ee(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){s&&u(l),ke(t,s)}}}function cl(i){let e,l;return e=new en({props:{steps:i[6],label:i[7],initiallyOpen:!0}}),{c(){ye(e.$$.fragment)},l(t){ze(e.$$.fragment,t)},m(t,n){we(e,t,n),l=!0},p(t,n){const s={};n&64&&(s.steps=t[6]),n&128&&(s.label=t[7]),e.$set(s)},i(t){l||(ee(e.$$.fragment,t),l=!0)},o(t){le(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function ul(i){let e,l='<div class="message-header"><span class="message-role">MetaHuman</span></div> <div class="message-content typing"><span class="typing-dot"></span> <span class="typing-dot"></span> <span class="typing-dot"></span></div>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1kfcgg0"&&(e.innerHTML=l),this.h()},h(){a(e,"class","message message-assistant")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function bo(i){let e,l,t,n,s,o=Ge(i[0]),r=[];for(let S=0;S<o.length;S+=1)r[S]=il(tl(i,o,S));const f=S=>le(r[S],1,1,()=>{r[S]=null});let v=i[4].length>0&&rl(i),_=i[5]&&cl(i),k=i[3]&&i[4].length===0&&ul();return{c(){e=h("div");for(let S=0;S<r.length;S+=1)r[S].c();l=L(),v&&v.c(),t=L(),_&&_.c(),n=L(),k&&k.c(),this.h()},l(S){e=d(S,"DIV",{class:!0});var y=p(e);for(let R=0;R<r.length;R+=1)r[R].l(y);l=P(y),v&&v.l(y),t=P(y),_&&_.l(y),n=P(y),k&&k.l(y),y.forEach(u),this.h()},h(){a(e,"class","messages-list")},m(S,y){b(S,e,y);for(let R=0;R<r.length;R+=1)r[R]&&r[R].m(e,null);c(e,l),v&&v.m(e,null),c(e,t),_&&_.m(e,null),c(e,n),k&&k.m(e,null),s=!0},p(S,[y]){if(y&7943){o=Ge(S[0]);let R;for(R=0;R<o.length;R+=1){const B=tl(S,o,R);r[R]?(r[R].p(B,y),ee(r[R],1)):(r[R]=il(B),r[R].c(),ee(r[R],1),r[R].m(e,l))}for(Re(),R=o.length;R<r.length;R+=1)f(R);Be()}S[4].length>0?v?(v.p(S,y),y&16&&ee(v,1)):(v=rl(S),v.c(),ee(v,1),v.m(e,t)):v&&(Re(),le(v,1,1,()=>{v=null}),Be()),S[5]?_?(_.p(S,y),y&32&&ee(_,1)):(_=cl(S),_.c(),ee(_,1),_.m(e,n)):_&&(Re(),le(_,1,1,()=>{_=null}),Be()),S[3]&&S[4].length===0?k||(k=ul(),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i(S){if(!s){for(let y=0;y<o.length;y+=1)ee(r[y]);ee(v),ee(_),s=!0}},o(S){r=r.filter(Boolean);for(let y=0;y<r.length;y+=1)le(r[y]);le(v),le(_),s=!1},d(S){S&&u(e),bt(r,S),v&&v.d(),_&&_.d(),k&&k.d()}}}function fl(i){if(!i||typeof i!="string")return{thinking:null,content:String(i||"")};const e=/<think>([\s\S]*?)<\/think>/gi,l=i.match(e);if(!l||l.length===0)return{thinking:null,content:i.trim()};let t="";for(const s of l){const o=s.replace(/<\/?think>/gi,"").trim();o&&(t+=(t?`

`:"")+o)}const n=i.replace(e,"").replace(/^\s*\n+/,"").trim();return{thinking:t||null,content:n}}function Ft(i){return new Date(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function Zt(i){const e=String(i.stage||"plan").replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase());return`ðŸ¤” Round ${i.round}: ${e}`}function ko(i,e,l){let{messages:t=[]}=e,{mode:n="conversation"}=e,{selectedMessageIndex:s=null}=e,{loading:o=!1}=e,{reasoningStages:r=[]}=e,{showThinkingIndicator:f=!1}=e,{thinkingSteps:v=""}=e,{thinkingStatusLabel:_=""}=e;const k=Ss(),S=new Map;function y(g){const A=typeof g.content=="string"?g.content:String(g.content||"");if(g.role!=="assistant")return{thinking:null,content:A};const D=A;if(S.has(D))return S.get(D);const E=fl(A);return S.set(D,E),E}function R(g,A){k("messageClick",{message:g,index:A})}function B(g){k("deleteMessage",{relPath:g})}function M(g,A){k("validateMessage",{relPath:g,status:A})}function C(g,A){g.stopPropagation();const{content:D}=fl(A);k("speakMessage",{content:D})}const N=g=>B(g.relPath),U=g=>M(g.relPath,"correct"),O=(g,A)=>C(A,g.content),$=(g,A)=>R(g,A);return i.$$set=g=>{"messages"in g&&l(0,t=g.messages),"mode"in g&&l(1,n=g.mode),"selectedMessageIndex"in g&&l(2,s=g.selectedMessageIndex),"loading"in g&&l(3,o=g.loading),"reasoningStages"in g&&l(4,r=g.reasoningStages),"showThinkingIndicator"in g&&l(5,f=g.showThinkingIndicator),"thinkingSteps"in g&&l(6,v=g.thinkingSteps),"thinkingStatusLabel"in g&&l(7,_=g.thinkingStatusLabel)},[t,n,s,o,r,f,v,_,y,R,B,M,C,N,U,O,$]}class wo extends jt{constructor(e){super(),zt(this,e,ko,bo,qt,{messages:0,mode:1,selectedMessageIndex:2,loading:3,reasoningStages:4,showThinkingIndicator:5,thinkingSteps:6,thinkingStatusLabel:7})}}function An(i,e=150){const l=new Uint8Array(i.frequencyBinCount);i.getByteFrequencyData(l);const n=48e3/i.fftSize,s=Math.floor(80/n),o=Math.floor(3e3/n);let r=0,f=0;for(let _=s;_<=o&&_<l.length;_++)r+=l[_],f++;const v=f>0?r/f:0;return Math.min(100,v/255*e)}const yo=6e4,To=3e4;function dl(){return typeof window>"u"||typeof localStorage>"u"?!1:localStorage.getItem("mh-native-voice-mode")==="true"}function hl(){return typeof window>"u"?!1:"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}function Nn(i){if(!i)return"";let e=i;return e=e.replace(/<think>[\s\S]*?<\/think>/gi," "),e=e.replace(/```[\s\S]*?```/g," "),e=e.replace(/`([^`]+)`/g,"$1"),e=e.replace(/!\[[^\]]*\]\([^)]+\)/g," "),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,"$1"),e=e.replace(/[*_]{1,3}([^*_]+)[*_]{1,3}/g,"$1"),e=e.replace(/^#{1,6}\s*/gm,""),e=e.replace(/^\s*[-+*]\s+/gm,""),e=e.replace(/<\/?[^>]+>/g," "),e=e.replace(/[*/]{2,}/g," "),e=e.replace(/\s+/g," ").trim(),e}function Co(){let i=null,e=null,l=0,t=!1,n=null,s=null,o=0,r=null,f=0;const v=et(!1),_=et(!1),k=et(!1),S=et({current:0,total:0});let y=[],R=0,B=!1,M=null;const C=2;let N=!1;function U(){if(n){try{n.stop()}catch{}n=null}v.set(!1),O()}function O(){M&&(M.abort(),M=null);for(const Y of y)try{Y.audio.pause(),URL.revokeObjectURL(Y.audio.src)}catch{}y=[],R=0,B=!1,N=!1,k.set(!1),S.set({current:0,total:0})}function $(){e&&(e.abort(),e=null),_.set(!1)}async function g(){if(!t)try{i=i||new(window.AudioContext||window.webkitAudioContext);const Y=i.createBuffer(1,1,22050),G=i.createBufferSource();G.buffer=Y,G.connect(i.destination),G.start(0),await i.resume(),t=!0}catch(Y){console.warn("[useTTS] Failed to unlock audio:",Y)}}async function A(){const Y=Date.now();if(s&&Y-o<yo)return s;try{const G=await xe("/api/voice-models");if(G.ok){const ie=await G.json(),ae={multiVoice:!!ie.multiVoice&&Array.isArray(ie.models)&&ie.models.length>1,models:Array.isArray(ie.models)?ie.models:void 0};return s=ae,o=Y,ae}}catch(G){console.warn("[useTTS] Failed to fetch voice models:",G)}return{multiVoice:!1}}async function D(){const Y=Date.now();if(r&&Y-f<To)return r.provider;try{const G=await xe("/api/voice-settings");if(G.ok){const ie=await G.json();return r={provider:ie.provider},f=Y,ie.provider}}catch(G){console.warn("[useTTS] Failed to fetch voice provider:",G)}}function E(){Promise.all([A(),D()]).catch(Y=>{console.warn("[useTTS] Voice prefetch failed:",Y)})}async function I(Y){if(dl()&&hl())return console.log("[useTTS] Native voice mode enabled - routing to native TTS"),ne(Y);console.log("[useTTS] ðŸ”Š speakText called (WEB AUDIO API VERSION - no session steal)"),console.log("[useTTS] speakText called with text length:",Y.length);const G=Nn(Y);if(console.log("[useTTS] normalized text length:",G?.length||0),!G){console.log("[useTTS] No speech text after normalization, aborting");return}const ie=++l;U(),$();const ae=new AbortController;e=ae,_.set(!0);try{console.log("[useTTS] Fetching voice metadata...");const[{multiVoice:he,models:se},oe]=await Promise.all([A(),D()]);he&&se&&console.log(`[useTTS] Multi-voice mode active with ${se.length} voices`),console.log("[useTTS] Fetching TTS from /api/tts...");const z={text:G};oe&&(z.provider=oe),he&&se&&(z.models=se);const K=await xe("/api/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z),signal:ae.signal});if(ie!==l)return;if(e=null,_.set(!1),!K.ok){console.warn("[useTTS] TTS request failed:",K.status);return}const te=await K.arrayBuffer();if(ie!==l)return;i=i||new(window.AudioContext||window.webkitAudioContext),i.state==="suspended"&&await i.resume();const q=await i.decodeAudioData(te);if(ie!==l)return;n=i.createBufferSource(),n.buffer=q,n.connect(i.destination),v.set(!0),console.log("[useTTS] Playing via Web Audio API (no media session steal)"),n.onended=()=>{ie===l&&(console.log("[useTTS] Web Audio playback ended"),v.set(!1),n=null)},n.start(0)}catch(he){if(ae.signal.aborted)return;console.warn("[useTTS] speakText failed:",he),v.set(!1)}finally{e===ae&&(e=null),_.set(!1)}}async function T(Y,G){console.log("[useTTS] speakTextStreaming called with text length:",Y.length);const ie=Nn(Y);if(console.log("[useTTS] normalized text length:",ie?.length||0),!ie){console.log("[useTTS] No speech text after normalization, aborting");return}U(),$(),y=[],R=0,B=!1,N=!1,M=new AbortController,k.set(!0),_.set(!0);try{const ae=await D();console.log("[useTTS] Streaming with provider:",ae);const he={text:ie,provider:ae};G?.pitchShift!==void 0&&(he.pitchShift=G.pitchShift),G?.speed!==void 0&&(he.speed=G.speed);const se=await xe("/api/tts-stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he),signal:M.signal});if(!se.ok)throw new Error(`Streaming TTS request failed: ${se.status}`);if(!se.body)throw new Error("No response body for streaming");const oe=se.body.getReader(),z=new TextDecoder;let K="";for(console.log("[useTTS] SSE stream started");;){const{done:te,value:q}=await oe.read();if(te){console.log("[useTTS] SSE stream ended");break}K+=z.decode(q,{stream:!0});const ce=K.split(`

`);K=ce.pop()||"";for(const ue of ce)if(ue.startsWith("data: "))try{const Ie=JSON.parse(ue.slice(6));if(Ie.event==="complete"){console.log("[useTTS] Stream complete:",Ie.total_chunks,"chunks"),N=!0,_.set(!1),Q();continue}if(Ie.event==="error")throw console.error("[useTTS] Stream error:",Ie.error),new Error(Ie.error);if(Ie.audio_base64){console.log(`[useTTS] Received chunk ${Ie.chunk_index+1}/${Ie.total_sentences}`),S.set({current:Ie.chunk_index+1,total:Ie.total_sentences});const pe=atob(Ie.audio_base64),De=new Uint8Array(pe.length);for(let Ae=0;Ae<pe.length;Ae++)De[Ae]=pe.charCodeAt(Ae);const Ne=new Blob([De],{type:"audio/wav"}),$e=URL.createObjectURL(Ne),qe=new Audio($e);y.push({index:Ie.chunk_index,audio:qe,played:!1});const Le=y.filter(Ae=>!Ae.played).length;console.log(`[useTTS] Buffered chunks: ${Le}/${C}`);const Te=Le>=C||Ie.is_final;Te&&!Ue(v)&&(console.log("[useTTS] Buffer threshold reached, starting playback"),_.set(!1),v.set(!0)),Te&&Q()}}catch(Ie){console.warn("[useTTS] Failed to parse SSE event:",Ie)}}await W()}catch(ae){if(ae.name==="AbortError"){console.log("[useTTS] Streaming aborted");return}console.warn("[useTTS] Streaming failed:",ae),console.log("[useTTS] Falling back to non-streaming TTS"),O(),await I(Y)}finally{_.set(!1),k.set(!1)}}function Q(){if(B)return;const Y=y.find(ie=>ie.index===R&&!ie.played);if(!Y)return;const G=y.filter(ie=>!ie.played).length;if(G<C&&!N){console.log(`[useTTS] Waiting for buffer: ${G}/${C} chunks`);return}B=!0,Y.played=!0,console.log(`[useTTS] Playing chunk ${Y.index} (buffer: ${G-1} remaining)`),Y.audio.onended=()=>{console.log(`[useTTS] Chunk ${Y.index} finished`),URL.revokeObjectURL(Y.audio.src),B=!1,R++,Q(),y.every(ae=>ae.played)&&N&&v.set(!1)},Y.audio.onerror=()=>{console.warn(`[useTTS] Chunk ${Y.index} playback error`),URL.revokeObjectURL(Y.audio.src),B=!1,R++,Q()},Y.audio.play().catch(ie=>{console.warn(`[useTTS] Failed to play chunk ${Y.index}:`,ie),B=!1,R++,Q()})}function W(){return new Promise(Y=>{const G=()=>{y.length>0&&y.every(ae=>ae.played)&&!B&&N?(v.set(!1),Y()):setTimeout(G,100)};G()})}function j(){if($(),U(),O(),J(),i){try{i.close()}catch{}i=null}}let V=null;function J(){typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel(),V=null}async function ne(Y){const G=Nn(Y);if(!G){console.log("[useTTS] No speech text after normalization, aborting");return}return U(),J(),console.log("[useTTS] ðŸ”Š Using Web Speech API"),new Promise((ie,ae)=>{try{V=new SpeechSynthesisUtterance(G),V.rate=1,V.pitch=1,V.volume=1;const he=window.speechSynthesis.getVoices();if(he.length>0){const se=he.find(oe=>oe.name.includes("Google")&&oe.lang.startsWith("en"))||he.find(oe=>oe.lang.startsWith("en"))||he[0];se&&(V.voice=se,console.log("[useTTS] Using voice:",se.name))}V.onstart=()=>{console.log("[useTTS] Native TTS started"),v.set(!0)},V.onend=()=>{console.log("[useTTS] Native TTS ended"),v.set(!1),V=null,ie()},V.onerror=se=>{console.warn("[useTTS] Native TTS error:",se.error),v.set(!1),V=null,ae(new Error(se.error))},window.speechSynthesis.speak(V)}catch(he){console.error("[useTTS] Native TTS failed:",he),v.set(!1),ae(he)}})}async function re(Y,G){return dl()&&hl()?(console.log("[useTTS] Native voice mode enabled - using device TTS"),ne(Y)):G?.streaming?T(Y,{pitchShift:G.pitchShift,speed:G.speed}):I(Y)}return{isPlaying:v,isLoading:_,isStreaming:k,streamProgress:S,speak:re,speakText:I,speakTextStreaming:T,speakTextNative:ne,stopActiveAudio:U,stopNativeTTS:J,stopStreaming:O,cancelInFlightTts:$,ensureAudioUnlocked:g,prefetchVoiceResources:E,cleanup:j}}const Bn=typeof window<"u"?window.SpeechRecognition||window.webkitSpeechRecognition:null;function Pn(){return!!Bn}function Ln(){xe("/api/activity-ping",{method:"POST"}).catch(()=>{})}function So(i){const{getTTSPlaying:e,onTranscript:l,onSystemMessage:t,isComponentMounted:n}=i;let s=null,o=null,r=[],f=null,v=null,_=null,k=null,S=!1,y=!1,R=12,B=1400,M=500;const C=5,N=1200,U=200,O=900,$=3e4;let g=!1,A=null,D=null,E="IDLE";function I(_e){const be=E;switch(!{IDLE:["READY"],READY:["LISTENING","IDLE"],LISTENING:["PROCESSING","READY","IDLE"],PROCESSING:["SPEAKING","READY","IDLE"],SPEAKING:["COOLDOWN","IDLE"],COOLDOWN:["READY","IDLE"]}[be].includes(_e)&&_e!=="IDLE"&&console.warn(`[ConversationState] Invalid transition: ${be} â†’ ${_e}`),E=_e,_e){case"IDLE":dt(),Je();break;case"READY":break;case"LISTENING":break;case"PROCESSING":dt(),Je();break;case"SPEAKING":dt(),Je();break}}let T=null,Q=null,W=null,j=!1,V=null,J=0,ne=!1,re=null,Y=null,G=null,ie=null,ae=null,he=!1,se=0,oe=0,z="",K=0,te=!1,q=0;const ce=et(!1),ue=et(!1),Ie=et(""),pe=et(!1),De=et(""),Ne=et("unknown"),$e=et(!1),qe=et(!1),Le=et(!1);let Te=null,Ae=!1;function Ee(){return Ae?"native":"whisper"}function Oe(_e){_e==="auto"?Ae=Pn():_e==="native"?Pn()?Ae=!0:(console.warn("[useMicrophone] Native speech recognition not available, falling back to Whisper"),Ae=!1):Ae=!1,console.log("[useMicrophone] STT backend set to:",Ee())}async function Ye(){try{const _e=await xe("/api/voice-settings");if(_e.ok){const be=await _e.json();be.stt?.vad&&(R=be.stt.vad.voiceThreshold??12,B=be.stt.vad.silenceDelay??5e3,M=be.stt.vad.minDuration??500,console.log("[useMicrophone] Loaded VAD settings (desktop):",{MIC_VOICE_THRESHOLD:R,MIC_SILENCE_DELAY:B,MIC_MIN_DURATION:M}));const Fe=be.stt?.serverStatus;Fe==="running"?(Ne.set("ready"),console.log("[useMicrophone] Whisper server ready")):Fe==="starting"||Fe==="loading"?(Ne.set("loading"),console.log("[useMicrophone] Whisper server starting...")):Fe==="stopped"||Fe==="disabled"?Ne.set("stopped"):Ne.set("unknown")}}catch(_e){console.error("[useMicrophone] Failed to load VAD settings:",_e),Ne.set("error")}}function lt(){console.log("[useMicrophone] Exiting conversation mode"),g=!1,$e.set(!1),I("IDLE"),A&&(clearTimeout(A),A=null),D&&(clearTimeout(D),D=null)}function Pe(){A&&clearTimeout(A),A=setTimeout(()=>{console.log("[useMicrophone] Conversation mode timed out"),lt()},$)}function kt(){if(!g||!n())return;D&&(clearTimeout(D),D=null),K=Date.now(),I("PROCESSING");const _e=Math.max(700,N),be=te?_e:_e+400,Fe=te?800:1100;console.log("[useMicrophone] State=PROCESSING, waiting for TTS (minWait="+Fe+"ms, cooldown="+be+"ms, gotTranscript:",te,")"),te=!1;const Ve=()=>{if(!g||!n()){I("IDLE");return}const je=Date.now()-K,ht=e();switch(E){case"PROCESSING":ht?(I("SPEAKING"),D=setTimeout(Ve,200)):je<Fe?D=setTimeout(Ve,200):(console.log("[useMicrophone] No TTS after",Fe,"ms, going to COOLDOWN"),I("COOLDOWN"),D=setTimeout(Ve,100));break;case"SPEAKING":ht?D=setTimeout(Ve,200):(console.log("[useMicrophone] TTS finished, entering COOLDOWN ("+be+"ms)"),I("COOLDOWN"),D=setTimeout(Ve,be));break;case"COOLDOWN":ht?(console.log("[useMicrophone] TTS restarted during cooldown, back to SPEAKING"),I("SPEAKING"),D=setTimeout(Ve,200)):(console.log("[useMicrophone] Cooldown complete, entering READY state"),I("READY"),Pe(),at());break;default:console.warn("[useMicrophone] Unexpected state in restart loop:",E);break}};D=setTimeout(Ve,100)}async function at(){if(!(!g||!n())&&!j){console.log("[useMicrophone] Starting conversation VAD (threshold:",R,", sustainedFrames:",C,")"),J=0;try{T=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),Q=new AudioContext;const _e=Q.createMediaStreamSource(T);W=Q.createAnalyser(),W.fftSize=256,_e.connect(W),j=!0,q=Date.now(),Ze()}catch(_e){console.error("[useMicrophone] Failed to start conversation VAD:",_e),j=!1}}}function dt(){if(j=!1,V&&(cancelAnimationFrame(V),V=null),T&&(T.getTracks().forEach(_e=>_e.stop()),T=null),Q){try{Q.close()}catch{}Q=null}W=null}async function Tt(){if(!ne){console.log("[useMicrophone] Starting conversation silence monitor (silenceDelay:",B,"ms)");try{Y=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),G=new AudioContext;const _e=G.createMediaStreamSource(Y);ie=G.createAnalyser(),ie.fftSize=256,_e.connect(ie),ne=!0,he=!1,Qe()}catch(_e){console.error("[useMicrophone] Failed to start silence monitor:",_e)}}}function Je(){if(ne=!1,re&&(clearTimeout(re),re=null),ae&&(cancelAnimationFrame(ae),ae=null),Y&&(Y.getTracks().forEach(_e=>_e.stop()),Y=null),G){try{G.close()}catch{}G=null}ie=null,he=!1,se=0}function Qe(){if(!ne||!ie)return;if(E!=="LISTENING"){Je();return}if(e()){re&&(clearTimeout(re),re=null),console.warn("[useMicrophone] TTS playing during LISTENING state - stopping monitor"),Je();return}if(An(ie,150)>R)he||(se=Date.now()),he=!0,re&&(clearTimeout(re),re=null);else if(he&&!re){if((se?Date.now()-se:0)<O){ae=requestAnimationFrame(Qe);return}console.log("[useMicrophone] Silence detected, starting timer ("+B+"ms)"),re=setTimeout(async()=>{console.log("[useMicrophone] Silence timer expired");const Fe=Ue(De);let Ve=z;if(Fe.trim()&&(Ve+=" "+Fe.trim()),Ve=Ve.trim(),console.log("[useMicrophone] Full transcript to send:",Ve),Te)try{Te.stop()}catch{}Je(),Ve?(console.log("[useMicrophone] Conversation mode: sending accumulated transcript:",Ve),z="",te=!0,l(Ve),oe=0):(console.log("[useMicrophone] Conversation mode: no transcript detected, backing off"),z="",oe+=1,oe>=2&&Se())},B)}ae=requestAnimationFrame(Qe)}function Ze(){if(!j||!W||!g){dt();return}if(E!=="READY"){console.log("[useMicrophone] VAD blocked - state is",E,"(not READY)"),dt();return}if(e()){J=0,console.log("[useMicrophone] TTS detected during VAD, transitioning to SPEAKING"),I("SPEAKING"),dt(),kt();return}if(Date.now()-q<U){J=0,V=requestAnimationFrame(Ze);return}const be=An(W,150);if(be>R){if(J++,J>=C){console.log("[useMicrophone] Sustained voice detected (vol:",be,", frames:",J,"), starting speech recognition"),J=0,dt(),I("LISTENING"),gt(!0),Tt();return}}else J=0;V=requestAnimationFrame(Ze)}function Se(){lt(),dt(),Je(),ct()}function Ke(){console.log("[useMicrophone] Long-press/right-click: using Whisper continuous mode"),ut()}function gt(_e=!1){if(typeof window<"u"&&!window.isSecureContext){console.warn("[useMicrophone] Not in secure context (HTTPS required for microphone)"),t("ðŸ”’ Microphone requires HTTPS. Access via https:// instead of http://");return}if(!Bn){console.warn("[useMicrophone] Native speech recognition not available"),t("âš ï¸ Native speech recognition not available on this device");return}if(e()){console.log("[useMicrophone] TTS playing, not starting speech recognition");return}if(Te){try{Te.abort()}catch{}Te=null}try{Te=new Bn,Te.continuous=_e,Te.interimResults=!0,Te.lang="en-US",Te.onstart=()=>{console.log("[useMicrophone] Native speech recognition started (continuous:",_e,")"),ce.set(!0),pe.set(!0),De.set(""),z="",Ln()},Te.onresult=be=>{let Fe="",Ve="";for(let je=be.resultIndex;je<be.results.length;je++){const ht=be.results[je];ht.isFinal?Ve+=ht[0].transcript:Fe+=ht[0].transcript}if(Ve.trim()&&(z+=" "+Ve.trim(),z=z.trim()),Fe&&De.set(Fe),Ve.trim())if(console.log("[useMicrophone] Native transcript (final):",Ve,"accumulated:",z),De.set(""),te=!0,g&&Te?.continuous)console.log("[useMicrophone] Conversation mode: accumulating, not sending yet");else{const je=Ve.trim(),ht=je.split(/\s+/).length;Ue(ue)&&ht<3&&je.length<15?console.log("[useMicrophone] Continuous mode: ignoring short transcript (likely noise):",je):l(je)}},Te.onerror=be=>{if(console.error("[useMicrophone] Native speech error:",be.error,be.message),be.error==="no-speech")console.log("[useMicrophone] No speech detected");else if(be.error!=="aborted")if(be.error==="not-allowed"){const Fe=typeof window<"u"&&window.isSecureContext;t(Fe?"ðŸŽ¤ Microphone access denied. Please allow microphone in browser settings.":"ðŸ”’ Microphone requires HTTPS.")}else be.error==="network"?t("ðŸŒ Network error during speech recognition. Check your connection."):t(`âš ï¸ Speech recognition error: ${be.error}`);ct()},Te.onend=()=>{if(console.log("[useMicrophone] Native speech recognition ended"),_e&&Ue(ue)&&n())if(!e())console.log("[useMicrophone] Restarting continuous native speech recognition..."),setTimeout(()=>{Ue(ue)&&n()&&!e()&&gt(!0)},200);else{console.log("[useMicrophone] TTS playing, waiting to restart continuous mode...");const be=()=>{!Ue(ue)||!n()||(e()?setTimeout(be,200):(console.log("[useMicrophone] TTS finished, waiting for cooldown before restart"),setTimeout(()=>{Ue(ue)&&n()&&!e()&&(console.log("[useMicrophone] Cooldown complete, restarting continuous mode"),gt(!0))},800)))};setTimeout(be,200)}else if(g&&n()){console.log("[useMicrophone] Conversation mode: recognition ended"),Je();const be=Ue(De);let Fe=z;be.trim()&&(Fe+=" "+be.trim()),Fe=Fe.trim(),Fe&&(console.log("[useMicrophone] Sending transcript from onend:",Fe),te=!0,l(Fe)),z="",ce.set(!1),pe.set(!1),De.set(""),kt()}else ce.set(!1),pe.set(!1),De.set("")},Te.onspeechend=()=>{console.log("[useMicrophone] Speech ended (user stopped talking)")},Te.start()}catch(be){console.error("[useMicrophone] Failed to start native speech:",be),t("âš ï¸ Failed to start speech recognition"),ce.set(!1),pe.set(!1)}}function ct(){if(D&&(clearTimeout(D),D=null),Te){try{Te.abort()}catch{}Te=null}ce.set(!1),pe.set(!1),De.set("")}async function wt(_e=!1){if(Ue(ce))return;const be=_e||Ue(ue);Ae?(console.log("[useMicrophone] Using native speech recognition"),gt(be)):(console.log("[useMicrophone] Using Whisper backend"),await ge())}function mt(){if(Te){ct();return}Et()}function Et(){if(Ue(ce)){console.log("[useMicrophone] Stopping Whisper recording, chunks collected:",r.length);try{o&&o.state!=="inactive"&&o.stop()}catch(_e){console.error("[useMicrophone] Error stopping recorder:",_e)}if(k&&(clearTimeout(k),k=null),ce.set(!1),S=!1,y=!1,!Ue(ue)){try{s?.getTracks().forEach(_e=>_e.stop())}catch{}s=null;try{_?.close()}catch{}_=null,v=null}}}async function ge(){if(!Ue(ce))try{if(!(typeof window<"u"&&window.isSecureContext&&!!navigator.mediaDevices?.getUserMedia)){console.warn("[useMicrophone] getUserMedia unavailable (insecure context or unsupported browser)");return}s=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),_=new AudioContext;const be=_.createMediaStreamSource(s);v=_.createAnalyser(),v.fftSize=256,be.connect(v),r=[];const Fe=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm";o=new MediaRecorder(s,{mimeType:Fe}),o.ondataavailable=Ve=>{Ve.data?.size&&r.push(Ve.data)},o.onstop=()=>{Me()},Ue(ue)||(o.start(),ce.set(!0),f=Date.now(),Ln()),it()}catch(_e){console.error("[useMicrophone] Failed to start mic:",_e)}}async function Me(){try{const _e=new Blob(r,{type:"audio/webm"}),be=f?Date.now()-f:0;if(console.log("[useMicrophone] Finalizing recording:",be,"ms, blob size:",_e.size,"bytes"),be<M){console.log(`[useMicrophone] Recording too short (${be}ms), ignoring`);return}if(_e.size===0){console.log("[useMicrophone] Recording has no data (0 bytes), ignoring");return}const Fe=await _e.arrayBuffer(),Ve=await xe(`/api/stt?format=webm&collect=1&dur=${be}`,{method:"POST",headers:{"Content-Type":"audio/webm"},body:Fe});if(Ve.ok){const je=await Ve.json();if(console.log("[useMicrophone] STT response:",je),je?.transcript&&je.transcript.trim()){const ht=je.transcript.trim(),At=ht.split(/\s+/).length;Ue(ue)&&At<3&&ht.length<15?console.log("[useMicrophone] Continuous mode: ignoring short transcript (likely noise):",ht):l(ht)}else console.log("[useMicrophone] No transcript detected (empty or null response)")}else{const je=await Ve.text();Ve.status===500&&je.includes("WHISPER_LOADING")?(console.log("[useMicrophone] Whisper model still loading..."),t("â³ Voice recognition is still loading... please wait a moment and try again.")):console.error("[useMicrophone] STT request failed:",Ve.status,Ve.statusText)}}catch(_e){console.error("[useMicrophone] STT failed:",_e)}finally{if(r=[],f=null,ce.set(!1),S=!1,Ue(ue)&&n())if(!e())console.log("[useMicrophone] Continuous mode: restarting VAD..."),it();else{console.log("[useMicrophone] Continuous mode: waiting for TTS to finish...");const _e=()=>{!Ue(ue)||!n()||(e()?setTimeout(_e,200):(console.log("[useMicrophone] TTS finished, cooldown before VAD restart..."),setTimeout(()=>{Ue(ue)&&n()&&!e()&&(console.log("[useMicrophone] Restarting VAD after cooldown"),it())},800)))};setTimeout(_e,200)}}}function it(){const _e=v;if(!_e)return;const be=()=>{if(!n()||!v)return;if(e()){if(Ue(ce)){const Ve=f?Date.now()-f:0;Ve<M?(S=!1,k&&(clearTimeout(k),k=null,y=!1)):(console.log("[useMicrophone] TTS started, stopping recording (had",Ve,"ms)"),mt())}else S=!1;requestAnimationFrame(be);return}if(An(_e,150)>R){if(!S&&(console.log("[useMicrophone] Speech started"),S=!0,y=!1,Ue(ue)&&!Ue(ce)&&s)){if(o&&o.state==="recording"){console.log("[useMicrophone] WARNING: Recorder already recording, skipping start"),ce.set(!0),requestAnimationFrame(be);return}console.log("[useMicrophone] Auto-starting recording (continuous mode)");const Ve=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm";r=[],o=new MediaRecorder(s,{mimeType:Ve}),o.ondataavailable=je=>{je.data?.size&&r.push(je.data)},o.onstop=()=>{Me()};try{o.start(),ce.set(!0),f=Date.now(),Ln()}catch(je){console.error("[useMicrophone] Failed to start recorder:",je),ce.set(!1)}}k&&(clearTimeout(k),k=null,y=!1)}else S&&Ue(ce)&&!k&&(f?Date.now()-f:0)>=M&&(y||(console.log("[useMicrophone] Silence detected, starting timer..."),y=!0),k=window.setTimeout(()=>{console.log("[useMicrophone] Silence timer expired, stopping recording"),S=!1,y=!1,mt()},B));requestAnimationFrame(be)};requestAnimationFrame(be)}function ut(){if(Ue(ue)){ue.set(!1),Te&&ct(),Ue(ce)&&mt();try{s?.getTracks().forEach(be=>be.stop())}catch{}s=null;try{_?.close()}catch{}_=null,v=null}else ue.set(!0),wt(!0)}function pt(){if(A&&(clearTimeout(A),A=null),D&&(clearTimeout(D),D=null),g=!1,dt(),Je(),Te){try{Te.abort()}catch{}Te=null}k&&(clearTimeout(k),k=null);try{s?.getTracks().forEach(_e=>_e.stop())}catch{}s=null;try{_?.close()}catch{}_=null,v=null,ce.set(!1),pe.set(!1),De.set(""),$e.set(!1)}let Ct=!1;function Dt(){if(typeof navigator>"u"||!("mediaSession"in navigator)){console.warn("[MediaSession] API not available in this browser");return}if(Ct){console.log("[MediaSession] Already enabled");return}const _e=new Audio;_e.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",_e.loop=!0,_e.volume=.001,navigator.mediaSession.metadata=new MediaMetadata({title:"MetaHuman Voice Input",artist:"Ready to listen",album:"Voice Assistant"}),navigator.mediaSession.setActionHandler("play",()=>{console.log("[MediaSession] Play pressed - starting mic"),_e.play().catch(()=>{}),Ue(ce)||g||Ke(),navigator.mediaSession.playbackState="playing",navigator.mediaSession.metadata=new MediaMetadata({title:"MetaHuman Voice Input",artist:"Listening...",album:"Voice Assistant"})}),navigator.mediaSession.setActionHandler("pause",()=>{console.log("[MediaSession] Pause pressed - toggling mic"),Ue(ce)?(mt(),navigator.mediaSession.metadata=new MediaMetadata({title:"MetaHuman Voice Input",artist:"Ready to listen",album:"Voice Assistant"})):(g||Ke(),navigator.mediaSession.metadata=new MediaMetadata({title:"MetaHuman Voice Input",artist:"Listening...",album:"Voice Assistant"})),navigator.mediaSession.playbackState=Ue(ce)?"playing":"paused"}),navigator.mediaSession.setActionHandler("stop",()=>{console.log("[MediaSession] Stop pressed - stopping mic"),Ue(ce)&&mt(),g&&Ke(),_e.pause(),navigator.mediaSession.playbackState="none",navigator.mediaSession.metadata=new MediaMetadata({title:"MetaHuman Voice Input",artist:"Stopped",album:"Voice Assistant"})}),_e.play().then(()=>{console.log("[MediaSession] Enabled - hardware buttons will trigger mic"),Ct=!0,navigator.mediaSession.playbackState="paused"}).catch(be=>{console.warn("[MediaSession] Could not start - user interaction required first:",be.message)})}function Mt(){typeof navigator>"u"||!("mediaSession"in navigator)||(navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("stop",null),navigator.mediaSession.metadata=null,Ct=!1,console.log("[MediaSession] Disabled"))}return{isRecording:ce,isContinuousMode:ue,queuedMessage:Ie,isNativeMode:pe,interimTranscript:De,whisperStatus:Ne,isConversationMode:$e,isWakeWordListening:qe,wakeWordDetected:Le,loadVADSettings:Ye,startMic:wt,stopMic:mt,toggleContinuousMode:ut,toggleConversationMode:Ke,cleanup:pt,setupMediaSession:Dt,disableMediaSession:Mt,getSTTBackend:Ee,setSTTBackend:Oe,isNativeSpeechAvailable:Pn}}function Eo(i){const{getCurrentMode:e,getReasoningDepth:l,getConversationSessionId:t,getReasoningStagesCount:n}=i;let s=null;const o=et([]),r=et("ðŸ¤” Thinkingâ€¦"),f=et(!1),v=et(!1),_=Rn(o,I=>I.join(`

`)),k=Rn([f,o],([I,T])=>I&&n()===0&&T.length>0);function S(){s&&(s.close(),s=null),s=new EventSource("/api/monitor/stream"),s.onmessage=I=>{try{const T=JSON.parse(I.data);y(T)}catch(T){console.warn("[thinking-trace] Failed to parse audit event",T)}},s.onerror=I=>{console.warn("[thinking-trace] Audit stream disconnected",I)}}function y(I){if(!Ue(f))return;const T=t();if(!(I.details?.sessionId===T||I.details?.conversationId===T||I.details?.taskId===T))return;const W=R(I),j=Ue(v)?[]:Ue(o);v.set(!1),o.set([...j,W].slice(-40))}function R(I){const T=B(I.event),Q=M(I.details||{});return Q?`${T} ${Q}`:T}function B(I){return I.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase())}function M(I){const T=["goal","action","skill","iteration","reason","summary","model","modelId","provider","latencyMs","tokens","path","inputs","outputs","message","status"],Q=[];for(const W of T){if(!(W in I))continue;const j=I[W];if(j!=null)if(typeof j=="object"){const V=JSON.stringify(j,null,2);Q.push(`${W}: ${C(V)}`)}else Q.push(`${W}: ${C(String(j))}`)}if(Q.length===0){const W=Object.entries(I).filter(([,j])=>typeof j!="object"||j===null).map(([j,V])=>`${j}: ${C(String(V??""))}`);Q.push(...W)}return Q.join(" Â· ")}function C(I,T=320){return I.length<=T?I:`${I.slice(0,T)}â€¦`}function N(){if((e()||"dual")==="emulation")r.set("ðŸ¤” Processing..."),o.set(["Generating response..."]);else{const T=l();r.set(T>0?"ðŸ§  Operator planningâ€¦":"ðŸ¤” Thinkingâ€¦"),o.set(["Awaiting operator telemetryâ€¦"])}f.set(!0),v.set(!0),S()}function U(){f.set(!1),v.set(!1),o.set([])}function O(I){o.set(I)}function $(I){r.set(I)}function g(I){f.set(I)}function A(I,T=10){o.update(Q=>[...Q,I].slice(-T))}function D(){return Ue(o)}function E(){s&&(s.close(),s=null)}return{trace:o,statusLabel:r,active:f,steps:_,showIndicator:k,start:N,stop:U,setTrace:O,setStatusLabel:$,setActive:g,appendTrace:A,getTrace:D,cleanup:E}}function Mo(i){const{getMode:e,onMessagesChange:l}=i,t=et([]),n=et(null),s=et(null),o=et("");l&&t.subscribe(l);function r(C,N,U,O=null){const $=(N||"").trim();if(!$||C!=="reasoning"&&Ue(t).slice(-3).some(E=>E.role===C&&(E.content||"").trim()===$))return;const g={role:C,content:$,timestamp:Date.now(),relPath:U,meta:O};t.update(A=>[...A,g])}async function f(){const C=e();try{return(await xe(`/api/conversation-buffer?mode=${C}`,{method:"DELETE"})).ok?(console.log(`[useMessages] Cleared server buffer (mode: ${C})`),!0):(console.error("[useMessages] Failed to clear server buffer"),!1)}catch(N){return console.error("[useMessages] Error clearing server buffer:",N),!1}}async function v(C){try{const N=await xe("/api/memories/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relPath:C})}),U=await N.json();if(!N.ok||!U.success)throw new Error(U.error||"Failed to delete");return t.update(O=>O.filter($=>$.relPath!==C)),!0}catch(N){return console.error("[useMessages] Failed to delete message:",N),!1}}function _(){t.set([]),n.set(null),s.set(null)}function k(C,N){n.set(C),s.set(N)}function S(){const C=Ue(n);return{questionId:C?.meta?.curiosityQuestionId||null,content:C?.content||null}}function y(){n.set(null),s.set(null)}function R(){const C=`${Date.now()}-${Math.random().toString(36).substring(7)}`;return o.set(C),C}function B(C){return new Date(C).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function M(C){const N=String(C.stage||"plan").replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase());return`ðŸ¤” Round ${C.round}: ${N}`}return{messages:t,selectedMessage:n,selectedMessageIndex:s,conversationSessionId:o,pushMessage:r,clearServerBuffer:f,deleteMessage:v,clearMessages:_,selectMessage:k,getReplyToMetadata:S,clearSelection:y,generateSessionId:R,formatTime:B,formatReasoningLabel:M}}function Io(){let i=null;function e(){i&&clearTimeout(i),i=window.setTimeout(()=>{xe("/api/activity-ping",{method:"POST"}).then(t=>{t.ok||console.error("[activity] Failed to signal activity")}).catch(t=>console.error("[activity] Error signaling activity:",t))},3e3)}function l(){i&&(clearTimeout(i),i=null)}return{signalActivity:e,clearActivity:l}}function Do(){const i=et(!0),e=et(!0),l=et(0),t=et(null),n=et("ollama");async function s(){try{const r=await xe("/api/boot");if(!r.ok)return;const f=await r.json(),v=f.backendStatus||f.ollamaStatus;v&&(i.set(v.running),e.set(v.hasModels),l.set(v.modelCount||0),t.set(v.error||null),v.activeBackend&&n.set(v.activeBackend))}catch(r){console.error("[backend] Failed to check status:",r),t.set("Failed to check backend status")}}function o(){return Ue(i)&&Ue(e)}return{running:i,hasModels:e,modelCount:l,error:t,activeBackend:n,checkStatus:s,isReady:o}}const Lt={offline:{id:"offline",name:"On-Device",description:"Qwen3-1.7B running locally via llama.cpp",model:"qwen3-1.7b",maxTokens:2048,capabilities:["chat","memory-search"],minBatteryPercent:5,requiresNetwork:!1,priority:3},server:{id:"server",name:"Home Server",description:"Qwen3:14B on local Ollama server",model:"qwen3:14b",maxTokens:8192,capabilities:["chat","code","analysis","creative","memory-search","task-planning"],minBatteryPercent:10,requiresNetwork:!0,priority:1},cloud:{id:"cloud",name:"Cloud",description:"Qwen3-Coder-30B on RunPod",model:"qwen3-coder-30b",maxTokens:32768,capabilities:["chat","code","analysis","creative","memory-search","task-planning","long-context"],minBatteryPercent:15,requiresNetwork:!0,priority:2}},Hn={mode:"auto",lowBatteryThreshold:15,offlineLatencyThreshold:2e3,enableCloudFallback:!0},$n=et(Hn),As=et({offline:{tier:"offline",available:!1,lastCheck:new Date},server:{tier:"server",available:!1,lastCheck:new Date},cloud:{tier:"cloud",available:!1,lastCheck:new Date}}),Ns=et({batteryLevel:100,batteryCharging:!1,networkType:"unknown",saveDataMode:!1}),xt=et("server");Rn(xt,i=>Lt[i]);async function Ao(){const i={batteryLevel:100,batteryCharging:!1,networkType:"unknown",saveDataMode:!1};if("getBattery"in navigator)try{const l=await navigator.getBattery();i.batteryLevel=Math.round(l.level*100),i.batteryCharging=l.charging}catch{}const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e&&(i.networkEffectiveType=e.effectiveType,i.saveDataMode=e.saveData||!1,e.type))switch(e.type){case"wifi":i.networkType="wifi";break;case"cellular":i.networkType="cellular";break;case"ethernet":i.networkType="ethernet";break;case"none":i.networkType="none";break;default:i.networkType="unknown"}return navigator.onLine||(i.networkType="none"),i}async function No(){const i={tier:"offline",available:!1,lastCheck:new Date};return i.error="Offline mode not available - use server mode",i}async function Po(){const i={tier:"server",available:!1,lastCheck:new Date};try{const e=await Us()||window.location.origin,l=Date.now(),t=await fetch(`${e}/api/boot`,{method:"GET",credentials:"include",signal:AbortSignal.timeout(5e3)});i.latencyMs=Date.now()-l,t.ok?i.available=!0:i.error=`Server returned ${t.status}`}catch(e){i.error=e instanceof Error?e.message:"Connection failed"}return i}async function Lo(){const i={tier:"cloud",available:!1,lastCheck:new Date};try{const e="https://api.metahuman.cloud",l=Date.now(),t=await fetch(`${e}/health`,{method:"GET",signal:AbortSignal.timeout(1e4)});i.latencyMs=Date.now()-l,t.ok?i.available=!0:i.error=`Cloud returned ${t.status}`}catch(e){i.error=e instanceof Error?e.message:"Cloud connection failed"}return i}async function Bt(i=["chat"]){const e=await Ao();Ns.set(e);const[l,t,n]=await Promise.all([No(),Po(),Lo()]),s={offline:l,server:t,cloud:n};As.set(s);let o=Hn;if($n.subscribe(k=>o=k)(),o.mode==="manual"&&o.manualTier&&s[o.manualTier].available)return xt.set(o.manualTier),{selectedTier:o.manualTier,reason:"Manual selection",alternatives:vl(o.manualTier,s,e,i),deviceStatus:e,tierStatuses:s};const f=Object.keys(Lt).filter(k=>{const S=Lt[k];return i.every(y=>S.capabilities.includes(y))}).filter(k=>{const S=Lt[k];return!(!s[k].available||e.batteryLevel<S.minBatteryPercent&&!e.batteryCharging||S.requiresNetwork&&e.networkType==="none")});let v,_;return f.length===0?(v="offline",_="No tiers available - offline fallback"):o.mode==="prefer-offline"&&f.includes("offline")?(v="offline",_="User preference: offline mode"):o.mode==="prefer-server"&&f.includes("server")?(v="server",_="User preference: home server"):o.mode==="prefer-cloud"&&f.includes("cloud")?(v="cloud",_="User preference: cloud mode"):(v=Vo(f,s,e,o),_=Oo(v,s,e,o)),xt.set(v),{selectedTier:v,reason:_,alternatives:vl(v,s,e,i),deviceStatus:e,tierStatuses:s}}function Vo(i,e,l,t){if(l.batteryLevel<t.lowBatteryThreshold&&!l.batteryCharging&&i.includes("offline"))return"offline";if(l.saveDataMode){if(i.includes("offline"))return"offline";if(i.includes("server"))return"server"}if((l.networkEffectiveType==="slow-2g"||l.networkEffectiveType==="2g")&&i.includes("offline"))return"offline";const n=e.server.latencyMs||0;if(n>t.offlineLatencyThreshold){if(t.enableCloudFallback&&i.includes("cloud")&&(e.cloud.latencyMs||1/0)<n)return"cloud";if(i.includes("offline"))return"offline"}return i.sort((s,o)=>Lt[s].priority-Lt[o].priority)[0]}function Oo(i,e,l,t){if(i==="offline"){if(l.batteryLevel<t.lowBatteryThreshold)return`Low battery (${l.batteryLevel}%) - using offline mode`;if(l.networkType==="none")return"No network connection - using offline mode";if(l.saveDataMode)return"Data saver enabled - using offline mode";const n=e.server.latencyMs||0;if(n>t.offlineLatencyThreshold)return`High server latency (${n}ms) - using offline mode`}if(i==="server"){const n=e.server.latencyMs;return n?`Home server connected (${n}ms)`:"Home server connected"}if(i==="cloud"){if(!e.server.available)return"Home server unavailable - using cloud";const n=e.server.latencyMs||0,s=e.cloud.latencyMs||0;return s<n?`Cloud faster than server (${s}ms vs ${n}ms)`:"Using cloud backend"}return"Auto-selected"}function vl(i,e,l,t){return Object.keys(Lt).filter(n=>{if(n===i)return!1;const s=Lt[n],o=e[n];return t.every(r=>s.capabilities.includes(r))?o.available:!1}).sort((n,s)=>Lt[n].priority-Lt[s].priority)}async function Ro(){}async function Bo(i){$n.set(i)}async function Nc(i,e){let l=Hn;$n.subscribe(t=>l=t)(),await Bo({...l,mode:i,manualTier:i==="manual"?e:void 0}),await Bt()}let Un=!1,Xt=null;async function Pc(){if(Un){let e="server";xt.subscribe(n=>e=n)();let l={batteryLevel:100,batteryCharging:!1,networkType:"unknown",saveDataMode:!1};Ns.subscribe(n=>l=n)();let t={};return As.subscribe(n=>t=n)(),{selectedTier:e,reason:"Previously selected",alternatives:[],deviceStatus:l,tierStatuses:t}}await Ro();const i=await Bt();return Xt=setInterval(async()=>{await Bt()},6e4),typeof window<"u"&&(window.addEventListener("online",()=>Bt()),window.addEventListener("offline",()=>Bt())),Un=!0,i}function Lc(){Xt&&(clearInterval(Xt),Xt=null),Un=!1}function Vc(i){switch(i){case"offline":return"ðŸ“±";case"server":return"ðŸ ";case"cloud":return"â˜ï¸"}}function Oc(i){switch(i){case"chat":return"ðŸ’¬";case"code":return"ðŸ’»";case"analysis":return"ðŸ”";case"creative":return"ðŸŽ¨";case"memory-search":return"ðŸ§ ";case"task-planning":return"ðŸ“‹";case"long-context":return"ðŸ“š"}}class Uo{conversationHistory=[];maxHistoryLength=10;async sendMessage(e,l){const t=Date.now();let n;l?.forceTier?n=l.forceTier:n=(await Bt(["chat"])).selectedTier;let s,o;try{switch(n){case"offline":const _=await this.executeOffline(e,l);s=_.response,o=_.model;break;case"server":const k=await this.executeServer(e,l);s=k.response,o=k.model;break;case"cloud":const S=await this.executeCloud(e,l);s=S.response,o=S.model;break;default:throw new Error(`Unknown tier: ${n}`)}}catch(_){const k=await this.executeFallback(e,n,l,_);s=k.response,o=k.model,n=k.tier}this.conversationHistory.push({role:"user",content:e}),this.conversationHistory.push({role:"assistant",content:s}),this.conversationHistory.length>this.maxHistoryLength*2&&(this.conversationHistory=this.conversationHistory.slice(-this.maxHistoryLength*2));const r=crypto.randomUUID(),f=new Date().toISOString();await Js({id:r,type:"conversation",content:`User: ${e}

Assistant: ${s}`,timestamp:f,metadata:{tier:n,model:o,latencyMs:Date.now()-t,cognitiveMode:"dual"}});const v=Date.now()-t;return{response:s,tier:n,model:o,memoryId:r,latencyMs:v}}async executeOffline(e,l){throw new Error("Offline mode not available. Use server mode instead.")}async executeServer(e,l){if(!Ue(Gs).connected)throw new Error("Server not connected");const n={message:e};l?.includeHistory&&this.conversationHistory.length>0&&(n.history=this.conversationHistory.slice(-(l.historyLimit||6)));const s=await xe("/api/persona_chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error(`Server returned ${s.status}`);const o=await s.json();return{response:o.response||o.content||"",model:o.model||"qwen3:14b"}}async executeCloud(e,l){const t={message:e,useCloud:!0};l?.includeHistory&&this.conversationHistory.length>0&&(t.history=this.conversationHistory.slice(-(l.historyLimit||6)));const n=await xe("/api/persona_chat?tier=cloud",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Cloud returned ${n.status}`);const s=await n.json();return{response:s.response||s.content||"",model:s.model||"qwen3-coder-30b"}}async executeFallback(e,l,t,n){console.warn(`Tier ${l} failed:`,n);const s=["server","cloud","offline"].filter(o=>o!==l);for(const o of s)try{switch(o){case"offline":return{...await this.executeOffline(e,t),tier:o};case"server":return{...await this.executeServer(e,t),tier:o};case"cloud":return{...await this.executeCloud(e,t),tier:o}}}catch(r){console.warn(`Fallback tier ${o} also failed:`,r);continue}throw new Error("All tiers unavailable. Check your connection or download an offline model.")}clearHistory(){this.conversationHistory=[]}getHistory(){return[...this.conversationHistory]}setHistory(e){this.conversationHistory=[...e]}async getBatteryStatus(){if("getBattery"in navigator)try{const e=await navigator.getBattery();return{level:e.level,charging:e.charging}}catch{}return{level:1,charging:!0}}}const Fo=new Uo;function _l(i){let e,l="On";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-14bk6vo"&&(e.textContent=l),this.h()},h(){a(e,"class","thinking-badge")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function ml(i){let e;function l(s,o){return s[6]?jo:s[7]?$o:Ho}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t!==(t=l(s))&&(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Ho(i){let e,l="BB";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1s63u7m"&&(e.textContent=l),this.h()},h(){a(e,"class","big-brother-badge")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function $o(i){let e,l="â‹¯";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-6qneaz"&&(e.textContent=l),this.h()},h(){a(e,"class","big-brother-badge checking")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function jo(i){let e,l="â—";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1ntkvuq"&&(e.textContent=l),this.h()},h(){a(e,"class","big-brother-badge ready")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function pl(i){let e,l,t="ðŸ’­",n,s,o,r,f,v=i[12]&&gl();return{c(){e=h("button"),l=h("span"),l.textContent=t,n=L(),v&&v.c(),this.h()},l(_){e=d(_,"BUTTON",{class:!0,title:!0});var k=p(e);l=d(k,"SPAN",{style:!0,"data-svelte-h":!0}),X(l)!=="svelte-129qiy9"&&(l.textContent=t),n=P(k),v&&v.l(k),k.forEach(u),this.h()},h(){Wn(l,"font-size","18px"),Wn(l,"line-height","1"),a(e,"class",s="icon-btn "+(i[12]?"active":"")),a(e,"title",o=i[12]?"Disable inner dialog voice (boredom service)":"Enable inner dialog voice (boredom service)")},m(_,k){b(_,e,k),c(e,l),c(e,n),v&&v.m(e,null),r||(f=de(e,"click",i[73]),r=!0)},p(_,k){_[12]?v||(v=gl(),v.c(),v.m(e,null)):v&&(v.d(1),v=null),k[0]&4096&&s!==(s="icon-btn "+(_[12]?"active":""))&&a(e,"class",s),k[0]&4096&&o!==(o=_[12]?"Disable inner dialog voice (boredom service)":"Enable inner dialog voice (boredom service)")&&a(e,"title",o)},d(_){_&&u(e),v&&v.d(),r=!1,f()}}}function gl(i){let e,l="Inner On";return{c(){e=h("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1q6666b"&&(e.textContent=l),this.h()},h(){a(e,"class","badge")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function bl(i){let e,l='<span class="clear-icon" aria-hidden="true">ðŸ—‘ï¸</span> <span class="clear-text">Clear</span>',t,n;return{c(){e=h("button"),e.innerHTML=l,this.h()},l(s){e=d(s,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(e)!=="svelte-11uw8e3"&&(e.innerHTML=l),this.h()},h(){a(e,"class","clear-btn"),a(e,"title","Clear chat history")},m(s,o){b(s,e,o),t||(n=de(e,"click",i[64]),t=!0)},p:m,d(s){s&&u(e),t=!1,n()}}}function kl(i){let e,l,t="âš ï¸",n,s,o,r,f,v,_,k,S="Recheck Status",y,R;function B(g,A){return g[18]?zo:qo}let M=B(i),C=M(i);function N(g,A){if(!g[18])return Go;if(g[21]===0)return Wo}let U=N(i),O=U&&U(i),$=i[22]&&wl(i);return{c(){e=h("div"),l=h("div"),l.textContent=t,n=L(),s=h("div"),o=h("div"),C.c(),r=L(),f=h("div"),O&&O.c(),v=L(),$&&$.c(),_=L(),k=h("button"),k.textContent=S,this.h()},l(g){e=d(g,"DIV",{class:!0});var A=p(e);l=d(A,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-dwi5dc"&&(l.textContent=t),n=P(A),s=d(A,"DIV",{class:!0});var D=p(s);o=d(D,"DIV",{class:!0});var E=p(o);C.l(E),E.forEach(u),r=P(D),f=d(D,"DIV",{class:!0});var I=p(f);O&&O.l(I),v=P(I),$&&$.l(I),I.forEach(u),_=P(D),k=d(D,"BUTTON",{class:!0,"data-svelte-h":!0}),X(k)!=="svelte-zs5dv"&&(k.textContent=S),D.forEach(u),A.forEach(u),this.h()},h(){a(l,"class","warning-icon"),a(o,"class","warning-title"),a(f,"class","warning-message"),a(k,"class","warning-refresh-btn"),a(s,"class","warning-content"),a(e,"class","ollama-warning-banner")},m(g,A){b(g,e,A),c(e,l),c(e,n),c(e,s),c(s,o),C.m(o,null),c(s,r),c(s,f),O&&O.m(f,null),c(f,v),$&&$.m(f,null),c(s,_),c(s,k),y||(R=de(k,"click",i[65]),y=!0)},p(g,A){M===(M=B(g))&&C?C.p(g,A):(C.d(1),C=M(g),C&&(C.c(),C.m(o,null))),U===(U=N(g))&&O?O.p(g,A):(O&&O.d(1),O=U&&U(g),O&&(O.c(),O.m(f,v))),g[22]?$?$.p(g,A):($=wl(g),$.c(),$.m(f,null)):$&&($.d(1),$=null)},d(g){g&&u(e),C.d(),O&&O.d(),$&&$.d(),y=!1,R()}}}function zo(i){let e;return{c(){e=x("No Language Models Loaded")},l(l){e=Z(l,"No Language Models Loaded")},m(l,t){b(l,e,t)},p:m,d(l){l&&u(e)}}}function qo(i){let e=i[20]==="vllm"?"vLLM Server Not Running":"Ollama Service Not Running",l;return{c(){l=x(e)},l(t){l=Z(t,e)},m(t,n){b(t,l,n)},p(t,n){n[0]&1048576&&e!==(e=t[20]==="vllm"?"vLLM Server Not Running":"Ollama Service Not Running")&&fe(l,e)},d(t){t&&u(l)}}}function Wo(i){let e;function l(s,o){return s[20]==="vllm"?Qo:Jo}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t!==(t=l(s))&&(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Go(i){let e;function l(s,o){return s[20]==="vllm"?Ko:Yo}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t!==(t=l(s))&&(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Jo(i){let e,l,t="ollama pull";return{c(){e=x("No models are currently loaded. Please install a model using: "),l=h("code"),l.textContent=t},l(n){e=Z(n,"No models are currently loaded. Please install a model using: "),l=d(n,"CODE",{"data-svelte-h":!0}),X(l)!=="svelte-5p5hjb"&&(l.textContent=t)},m(n,s){b(n,e,s),b(n,l,s)},d(n){n&&(u(e),u(l))}}}function Qo(i){let e;return{c(){e=x("No model is loaded in vLLM. Configure and start the server from Settings â†’ Backend.")},l(l){e=Z(l,"No model is loaded in vLLM. Configure and start the server from Settings â†’ Backend.")},m(l,t){b(l,e,t)},d(l){l&&u(e)}}}function Yo(i){let e,l,t="systemctl start ollama";return{c(){e=x("The Ollama service is not running. Please start it using: "),l=h("code"),l.textContent=t},l(n){e=Z(n,"The Ollama service is not running. Please start it using: "),l=d(n,"CODE",{"data-svelte-h":!0}),X(l)!=="svelte-1xt8pl4"&&(l.textContent=t)},m(n,s){b(n,e,s),b(n,l,s)},d(n){n&&(u(e),u(l))}}}function Ko(i){let e;return{c(){e=x("The vLLM server is not running. Start it from Settings â†’ Backend or use the vLLM control panel.")},l(l){e=Z(l,"The vLLM server is not running. Start it from Settings â†’ Backend or use the vLLM control panel.")},m(l,t){b(l,e,t)},d(l){l&&u(e)}}}function wl(i){let e,l,t;return{c(){e=h("div"),l=x("Error: "),t=x(i[22]),this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);l=Z(s,"Error: "),t=Z(s,i[22]),s.forEach(u),this.h()},h(){a(e,"class","warning-error")},m(n,s){b(n,e,s),c(e,l),c(e,t)},p(n,s){s[0]&4194304&&fe(t,n[22])},d(n){n&&u(e)}}}function Xo(i){let e,l,t,n;return e=new wo({props:{messages:i[17],mode:i[8],selectedMessageIndex:i[23],loading:i[0],reasoningStages:i[1],showThinkingIndicator:i[3],thinkingSteps:i[2],thinkingStatusLabel:i[24]}}),e.$on("messageClick",i[77]),e.$on("deleteMessage",i[78]),e.$on("validateMessage",i[79]),e.$on("speakMessage",i[80]),{c(){ye(e.$$.fragment),l=L(),t=h("div"),this.h()},l(s){ze(e.$$.fragment,s),l=P(s),t=d(s,"DIV",{class:!0}),p(t).forEach(u),this.h()},h(){a(t,"class","scroll-sentinel")},m(s,o){we(e,s,o),b(s,l,o),b(s,t,o),i[81](t),n=!0},p(s,o){const r={};o[0]&131072&&(r.messages=s[17]),o[0]&256&&(r.mode=s[8]),o[0]&8388608&&(r.selectedMessageIndex=s[23]),o[0]&1&&(r.loading=s[0]),o[0]&2&&(r.reasoningStages=s[1]),o[0]&8&&(r.showThinkingIndicator=s[3]),o[0]&4&&(r.thinkingSteps=s[2]),o[0]&16777216&&(r.thinkingStatusLabel=s[24]),e.$set(r)},i(s){n||(ee(e.$$.fragment,s),n=!0)},o(s){le(e.$$.fragment,s),n=!1},d(s){s&&(u(l),u(t)),ke(e,s),i[81](null)}}}function Zo(i){let e,l,t="ðŸ§  => ðŸ’»",n,s,o="MetaHuman OS",r,f,v,_,k,S="Tell me how you will take over the world?",y,R,B="Wimmy wham wham wozzle!?",M,C,N="Tell me about yourself in the most technical way possible.",U,O;function $(D,E){return D[8]==="conversation"?ei:xo}let g=$(i),A=g(i);return{c(){e=h("div"),l=h("div"),l.textContent=t,n=L(),s=h("h2"),s.textContent=o,r=L(),f=h("p"),A.c(),v=L(),_=h("div"),k=h("button"),k.textContent=S,y=L(),R=h("button"),R.textContent=B,M=L(),C=h("button"),C.textContent=N,this.h()},l(D){e=d(D,"DIV",{class:!0});var E=p(e);l=d(E,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1kmro46"&&(l.textContent=t),n=P(E),s=d(E,"H2",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-7oad52"&&(s.textContent=o),r=P(E),f=d(E,"P",{class:!0});var I=p(f);A.l(I),I.forEach(u),v=P(E),_=d(E,"DIV",{class:!0});var T=p(_);k=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(k)!=="svelte-1b04yno"&&(k.textContent=S),y=P(T),R=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(R)!=="svelte-hgcz1m"&&(R.textContent=B),M=P(T),C=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(C)!=="svelte-9ob4gq"&&(C.textContent=N),T.forEach(u),E.forEach(u),this.h()},h(){a(l,"class","welcome-icon"),a(s,"class","welcome-title"),a(f,"class","welcome-subtitle"),a(k,"class","suggestion"),a(R,"class","suggestion"),a(C,"class","suggestion"),a(_,"class","welcome-suggestions"),a(e,"class","welcome-screen")},m(D,E){b(D,e,E),c(e,l),c(e,n),c(e,s),c(e,r),c(e,f),A.m(f,null),c(e,v),c(e,_),c(_,k),c(_,y),c(_,R),c(_,M),c(_,C),U||(O=[de(k,"click",i[74]),de(R,"click",i[75]),de(C,"click",i[76])],U=!0)},p(D,E){g!==(g=$(D))&&(A.d(1),A=g(D),A&&(A.c(),A.m(f,null)))},i:m,o:m,d(D){D&&u(e),A.d(),U=!1,_t(O)}}}function xo(i){let e;return{c(){e=x("Explore your MetaHuman's inner dialogue")},l(l){e=Z(l,"Explore your MetaHuman's inner dialogue")},m(l,t){b(l,e,t)},d(l){l&&u(e)}}}function ei(i){let e;return{c(){e=x("Start a conversation with your digital personality extension")},l(l){e=Z(l,"Start a conversation with your digital personality extension")},m(l,t){b(l,e,t)},d(l){l&&u(e)}}}function ti(i){let e,l,t,n,s,o="ðŸ’¬",r,f,v="Conversation",_,k,S,y,R="ðŸ’­",B,M,C="Inner Dialogue",N,U,O,$,g='<span class="control-icon" aria-hidden="true">ðŸ“</span>',A,D,E,I="Auto",T,Q="Concise",W,j="Detailed",V,J,ne,re="ðŸ§ ",Y,G,ie,ae,he,se,oe="ðŸ¤–",z,K,te,q,ce,ue,Ie,pe,De,Ne,$e,qe,Le,Te,Ae,Ee,Oe,Ye,lt,Pe,kt,at,dt,Tt,Je=i[13]&&_l(),Qe=i[5]&&ml(i),Ze=i[8]==="inner"&&pl(i),Se=i[17].length>0&&bl(i),Ke=(!i[18]||!i[19])&&kl(i);const gt=[Zo,Xo],ct=[];function wt(ge,Me){return ge[17].length===0?0:1}Ee=wt(i),Oe=ct[Ee]=gt[Ee](i);function mt(ge){i[83](ge)}let Et={loading:i[0],selectedMessage:i[16],isRecording:i[25],isContinuousMode:i[26],isWakeWordListening:i[27],isConversationMode:i[28],ttsIsPlaying:i[29],interimTranscript:i[30],lengthMode:i[9]};return i[4]!==void 0&&(Et.input=i[4]),Pe=new io({props:Et}),Ut.push(()=>Vn(Pe,"input",mt)),Pe.$on("send",i[58]),Pe.$on("stop",i[59]),Pe.$on("keypress",i[84]),Pe.$on("micClick",i[85]),Pe.$on("micLongPress",i[86]),Pe.$on("micContextMenu",i[87]),Pe.$on("ttsStop",i[88]),Pe.$on("ttsStopAndListen",i[89]),Pe.$on("clearSelection",i[90]),Pe.$on("lengthModeChange",i[91]),{c(){e=h("div"),l=h("div"),t=h("div"),n=h("button"),s=h("span"),s.textContent=o,r=L(),f=h("span"),f.textContent=v,k=L(),S=h("button"),y=h("span"),y.textContent=R,B=L(),M=h("span"),M.textContent=C,U=L(),O=h("div"),$=h("label"),$.innerHTML=g,A=L(),D=h("select"),E=h("option"),E.textContent=I,T=h("option"),T.textContent=Q,W=h("option"),W.textContent=j,V=L(),J=h("button"),ne=h("span"),ne.textContent=re,Y=L(),Je&&Je.c(),ae=L(),he=h("button"),se=h("span"),se.textContent=oe,z=L(),Qe&&Qe.c(),q=L(),ce=h("div"),ue=h("button"),Ie=ot("svg"),pe=ot("path"),$e=L(),Ze&&Ze.c(),qe=L(),Se&&Se.c(),Le=L(),Ke&&Ke.c(),Te=L(),Ae=h("div"),Oe.c(),Ye=L(),lt=h("div"),ye(Pe.$$.fragment),this.h()},l(ge){e=d(ge,"DIV",{class:!0});var Me=p(e);l=d(Me,"DIV",{class:!0});var it=p(l);t=d(it,"DIV",{class:!0});var ut=p(t);n=d(ut,"BUTTON",{class:!0,"aria-label":!0});var pt=p(n);s=d(pt,"SPAN",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),X(s)!=="svelte-128n1j6"&&(s.textContent=o),r=P(pt),f=d(pt,"SPAN",{class:!0,"data-svelte-h":!0}),X(f)!=="svelte-xu1zj8"&&(f.textContent=v),pt.forEach(u),k=P(ut),S=d(ut,"BUTTON",{class:!0,"aria-label":!0});var Ct=p(S);y=d(Ct,"SPAN",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),X(y)!=="svelte-47j4pn"&&(y.textContent=R),B=P(Ct),M=d(Ct,"SPAN",{class:!0,"data-svelte-h":!0}),X(M)!=="svelte-21j9l3"&&(M.textContent=C),Ct.forEach(u),ut.forEach(u),U=P(it),O=d(it,"DIV",{class:!0});var Dt=p(O);$=d(Dt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X($)!=="svelte-1ia38n4"&&($.innerHTML=g),A=P(Dt),D=d(Dt,"SELECT",{id:!0,"aria-label":!0});var Mt=p(D);E=d(Mt,"OPTION",{"data-svelte-h":!0}),X(E)!=="svelte-13uzty"&&(E.textContent=I),T=d(Mt,"OPTION",{"data-svelte-h":!0}),X(T)!=="svelte-inqhtm"&&(T.textContent=Q),W=d(Mt,"OPTION",{"data-svelte-h":!0}),X(W)!=="svelte-11okfe6"&&(W.textContent=j),Mt.forEach(u),Dt.forEach(u),V=P(it),J=d(it,"BUTTON",{class:!0,title:!0});var _e=p(J);ne=d(_e,"SPAN",{class:!0,"data-svelte-h":!0}),X(ne)!=="svelte-yn5zhx"&&(ne.textContent=re),Y=P(_e),Je&&Je.l(_e),_e.forEach(u),ae=P(it),he=d(it,"BUTTON",{class:!0,title:!0});var be=p(he);se=d(be,"SPAN",{class:!0,"data-svelte-h":!0}),X(se)!=="svelte-d85pym"&&(se.textContent=oe),z=P(be),Qe&&Qe.l(be),be.forEach(u),q=P(it),ce=d(it,"DIV",{class:!0});var Fe=p(ce);ue=d(Fe,"BUTTON",{class:!0,title:!0});var Ve=p(ue);Ie=st(Ve,"svg",{width:!0,height:!0,viewBox:!0,fill:!0});var je=p(Ie);pe=st(je,"path",{d:!0}),p(pe).forEach(u),je.forEach(u),Ve.forEach(u),$e=P(Fe),Ze&&Ze.l(Fe),Fe.forEach(u),qe=P(it),Se&&Se.l(it),it.forEach(u),Le=P(Me),Ke&&Ke.l(Me),Te=P(Me),Ae=d(Me,"DIV",{class:!0});var ht=p(Ae);Oe.l(ht),ht.forEach(u),Ye=P(Me),lt=d(Me,"DIV",{class:!0});var At=p(lt);ze(Pe.$$.fragment,At),At.forEach(u),Me.forEach(u),this.h()},h(){a(s,"class","mode-icon"),a(s,"aria-hidden","true"),a(f,"class","mode-label"),a(n,"class",_=i[8]==="conversation"?"mode-btn active":"mode-btn"),a(n,"aria-label","Conversation mode"),a(y,"class","mode-icon"),a(y,"aria-hidden","true"),a(M,"class","mode-label"),a(S,"class",N=i[8]==="inner"?"mode-btn active":"mode-btn"),a(S,"aria-label","Inner dialogue mode"),a(t,"class","mode-toggle"),a($,"class","control-label"),a($,"for","length-select"),E.__value="auto",Rt(E,E.__value),T.__value="concise",Rt(T,T.__value),W.__value="detailed",Rt(W,W.__value),a(D,"id","length-select"),a(D,"aria-label","Response length"),i[9]===void 0&&Fs(()=>i[71].call(D)),a(O,"class","length-toggle"),a(ne,"class","thinking-icon"),a(J,"class",G="thinking-toggle "+(i[13]?"active":"")),a(J,"title",ie=i[13]?"Thinking ON - Model reasons before answering (click to disable)":"Thinking OFF - Direct responses (click to enable reasoning)"),J.disabled=i[14],ve(J,"loading",i[14]),a(se,"class","big-brother-icon"),a(he,"class",K="big-brother-toggle "+(i[5]?"active":"")+" "+(i[6]?"ready":"")),a(he,"title",te=i[5]?i[6]?"Big Brother active - Claude CLI ready âœ“":i[7]?"Big Brother active - Starting Claude CLI...":"Big Brother active - Claude CLI not ready":"Big Brother mode off - Click to enable CLI escalation"),a(pe,"d","M3 10v4h4l5 5V5L7 10H3zM16.5 12a4.5 4.5 0 00-1.5-3.356V15.356A4.5 4.5 0 0016.5 12z"),a(Ie,"width","18"),a(Ie,"height","18"),a(Ie,"viewBox","0 0 24 24"),a(Ie,"fill","currentColor"),a(ue,"class",De="icon-btn "+(i[11]?"tts-active":"")),a(ue,"title",Ne=i[11]?"Disable speech":"Enable speech"),a(ce,"class","quick-audio"),a(l,"class","mode-toggle-container sm:gap-3"),a(Ae,"class","messages-container"),a(lt,"class","input-container"),a(e,"class","chat-interface")},m(ge,Me){b(ge,e,Me),c(e,l),c(l,t),c(t,n),c(n,s),c(n,r),c(n,f),c(t,k),c(t,S),c(S,y),c(S,B),c(S,M),c(l,U),c(l,O),c(O,$),c(O,A),c(O,D),c(D,E),c(D,T),c(D,W),zn(D,i[9],!0),c(l,V),c(l,J),c(J,ne),c(J,Y),Je&&Je.m(J,null),c(l,ae),c(l,he),c(he,se),c(he,z),Qe&&Qe.m(he,null),c(l,q),c(l,ce),c(ce,ue),c(ue,Ie),c(Ie,pe),c(ce,$e),Ze&&Ze.m(ce,null),c(l,qe),Se&&Se.m(l,null),c(e,Le),Ke&&Ke.m(e,null),c(e,Te),c(e,Ae),ct[Ee].m(Ae,null),i[82](Ae),c(e,Ye),c(e,lt),we(Pe,lt,null),at=!0,dt||(Tt=[de(n,"click",i[69]),de(S,"click",i[70]),de(D,"change",i[71]),de(J,"click",i[56]),de(he,"click",i[62]),de(ue,"click",i[72])],dt=!0)},p(ge,Me){(!at||Me[0]&256&&_!==(_=ge[8]==="conversation"?"mode-btn active":"mode-btn"))&&a(n,"class",_),(!at||Me[0]&256&&N!==(N=ge[8]==="inner"?"mode-btn active":"mode-btn"))&&a(S,"class",N),Me[0]&512&&zn(D,ge[9]),ge[13]?Je||(Je=_l(),Je.c(),Je.m(J,null)):Je&&(Je.d(1),Je=null),(!at||Me[0]&8192&&G!==(G="thinking-toggle "+(ge[13]?"active":"")))&&a(J,"class",G),(!at||Me[0]&8192&&ie!==(ie=ge[13]?"Thinking ON - Model reasons before answering (click to disable)":"Thinking OFF - Direct responses (click to enable reasoning)"))&&a(J,"title",ie),(!at||Me[0]&16384)&&(J.disabled=ge[14]),(!at||Me[0]&24576)&&ve(J,"loading",ge[14]),ge[5]?Qe?Qe.p(ge,Me):(Qe=ml(ge),Qe.c(),Qe.m(he,null)):Qe&&(Qe.d(1),Qe=null),(!at||Me[0]&96&&K!==(K="big-brother-toggle "+(ge[5]?"active":"")+" "+(ge[6]?"ready":"")))&&a(he,"class",K),(!at||Me[0]&224&&te!==(te=ge[5]?ge[6]?"Big Brother active - Claude CLI ready âœ“":ge[7]?"Big Brother active - Starting Claude CLI...":"Big Brother active - Claude CLI not ready":"Big Brother mode off - Click to enable CLI escalation"))&&a(he,"title",te),(!at||Me[0]&2048&&De!==(De="icon-btn "+(ge[11]?"tts-active":"")))&&a(ue,"class",De),(!at||Me[0]&2048&&Ne!==(Ne=ge[11]?"Disable speech":"Enable speech"))&&a(ue,"title",Ne),ge[8]==="inner"?Ze?Ze.p(ge,Me):(Ze=pl(ge),Ze.c(),Ze.m(ce,null)):Ze&&(Ze.d(1),Ze=null),ge[17].length>0?Se?Se.p(ge,Me):(Se=bl(ge),Se.c(),Se.m(l,null)):Se&&(Se.d(1),Se=null),!ge[18]||!ge[19]?Ke?Ke.p(ge,Me):(Ke=kl(ge),Ke.c(),Ke.m(e,Te)):Ke&&(Ke.d(1),Ke=null);let it=Ee;Ee=wt(ge),Ee===it?ct[Ee].p(ge,Me):(Re(),le(ct[it],1,1,()=>{ct[it]=null}),Be(),Oe=ct[Ee],Oe?Oe.p(ge,Me):(Oe=ct[Ee]=gt[Ee](ge),Oe.c()),ee(Oe,1),Oe.m(Ae,null));const ut={};Me[0]&1&&(ut.loading=ge[0]),Me[0]&65536&&(ut.selectedMessage=ge[16]),Me[0]&33554432&&(ut.isRecording=ge[25]),Me[0]&67108864&&(ut.isContinuousMode=ge[26]),Me[0]&134217728&&(ut.isWakeWordListening=ge[27]),Me[0]&268435456&&(ut.isConversationMode=ge[28]),Me[0]&536870912&&(ut.ttsIsPlaying=ge[29]),Me[0]&1073741824&&(ut.interimTranscript=ge[30]),Me[0]&512&&(ut.lengthMode=ge[9]),!kt&&Me[0]&16&&(kt=!0,ut.input=ge[4],Is(()=>kt=!1)),Pe.$set(ut)},i(ge){at||(ee(Oe),ee(Pe.$$.fragment,ge),at=!0)},o(ge){le(Oe),le(Pe.$$.fragment,ge),at=!1},d(ge){ge&&u(e),Je&&Je.d(),Qe&&Qe.d(),Ze&&Ze.d(),Se&&Se.d(),Ke&&Ke.d(),ct[Ee].d(),i[82](null),ke(Pe),dt=!1,_t(Tt)}}}function ni(i,e,l){let t,n,s,o,r,f,v,_,k,S,y,R,B,M,C,N,U,O,$,g,A,D;ft(i,qs,w=>l(101,_=w));let E="",I=!1,T=[],Q=0;const W=["Off","Quick","Focused","Deep"],j=w=>Math.max(0,Math.min(W.length-1,Math.round(w)));let V=!1,J=!1,ne=!1,re=null,Y=null,G="conversation",ie="auto",ae,he=!0,se=null,oe=!1,z=!1,K=!1,te=!1,q=!1;const ce=Co(),{isPlaying:ue,isLoading:Ie}=ce;ft(i,ue,w=>l(29,A=w));const pe=Mo({getMode:()=>G,onMessagesChange:w=>{}}),{messages:De,selectedMessage:Ne,selectedMessageIndex:$e,conversationSessionId:qe}=pe;ft(i,De,w=>l(17,k=w)),ft(i,Ne,w=>l(16,s=w)),ft(i,$e,w=>l(23,C=w)),ft(i,qe,w=>l(100,n=w));const Le=Io(),Te=Do(),{running:Ae,hasModels:Ee,modelCount:Oe,error:Ye,activeBackend:lt}=Te;ft(i,Ae,w=>l(18,S=w)),ft(i,Ee,w=>l(19,y=w)),ft(i,Oe,w=>l(21,B=w)),ft(i,Ye,w=>l(22,M=w)),ft(i,lt,w=>l(20,R=w));const Pe=So({getTTSPlaying:()=>Ue(ue),onTranscript:w=>{Ue(Pe.isContinuousMode)||Ue(Pe.isConversationMode)?I?(console.log("[chat-queue] LLM busy, queueing message:",w.substring(0,50)+(w.length>50?"...":"")),Pe.queuedMessage.set(w)):(console.log("[chat-mic] Transcribed & sending:",w.substring(0,50)+(w.length>50?"...":"")),l(4,E=w),je()):(console.log("[chat-mic] Transcribed:",w.substring(0,50)+(w.length>50?"...":"")),l(4,E=w),je())},onSystemMessage:w=>{pe.pushMessage("system",w)},isComponentMounted:()=>it}),{isRecording:kt,isContinuousMode:at,queuedMessage:dt,interimTranscript:Tt,isNativeMode:Je,isWakeWordListening:Qe,isConversationMode:Ze}=Pe;ft(i,kt,w=>l(25,U=w)),ft(i,at,w=>l(26,O=w)),ft(i,dt,w=>l(66,t=w)),ft(i,Tt,w=>l(30,D=w)),ft(i,Qe,w=>l(27,$=w)),ft(i,Ze,w=>l(28,g=w));const Se=Eo({getCurrentMode:()=>_||"dual",getReasoningDepth:()=>Q,getConversationSessionId:()=>n,getReasoningStagesCount:()=>T.length}),{trace:Ke,statusLabel:gt,active:ct,steps:wt,showIndicator:mt}=Se;ft(i,Ke,w=>l(67,r=w)),ft(i,gt,w=>l(24,N=w)),ft(i,ct,w=>l(68,f=w)),ft(i,wt,w=>l(2,o=w)),ft(i,mt,w=>l(3,v=w));const Et=Ls.subscribe(w=>{q=w});let ge,Me=null,it=!0;function ut(){try{const w=localStorage.getItem("chatPrefs");if(!w){l(11,oe=!1);return}const F=JSON.parse(w);typeof F.ttsEnabled=="boolean"&&l(11,oe=F.ttsEnabled),typeof F.reasoningDepth=="number"?Q=j(F.reasoningDepth):typeof F.reasoningEnabled=="boolean"&&(Q=F.reasoningEnabled?2:0),typeof F.boredomTtsEnabled=="boolean"&&l(12,z=F.boredomTtsEnabled),typeof F.bigBrotherEnabled=="boolean"&&l(5,V=F.bigBrotherEnabled)}catch{}}function pt(){try{const w={ttsEnabled:oe,reasoningDepth:Q,reasoningEnabled:Q>0,bigBrotherEnabled:V,boredomTtsEnabled:z};localStorage.setItem("chatPrefs",JSON.stringify(w))}catch{}}async function Ct(){try{const w=await xe("/api/llm-backend/status");if(w.ok){const F=await w.json();F.config?.vllm?.enableThinking!==void 0&&l(13,K=F.config.vllm.enableThinking)}}catch(w){console.error("[thinking-mode] Failed to load status:",w)}}async function Dt(){if(!te){l(14,te=!0);try{const w=!K;(await xe("/api/llm-backend/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({vllm:{enableThinking:w}})})).ok?(l(13,K=w),console.log(`[thinking-mode] ${w?"Enabled":"Disabled"} - model will ${w?"show <think> tags":"respond directly"}`)):console.error("[thinking-mode] Failed to update config")}catch(w){console.error("[thinking-mode] Error toggling:",w)}finally{l(14,te=!1)}}}Hs(async()=>{ut(),Ct(),Pe.loadVADSettings(),localStorage.getItem("mh-hardware-buttons")==="true"&&(console.log("[chat] Hardware button capture enabled by user preference"),Pe.setupMediaSession()),oe&&ce.prefetchVoiceResources();try{const me=await xe("/api/big-brother-config");if(me.ok){const Xe=await me.json();if(Xe.success&&Xe.config&&(l(5,V=Xe.config.enabled??!1),pt(),V)){const Nt=await Gt();!Nt?.ready&&Nt?.installed?await Jt():Nt?.ready&&l(6,J=!0)}}}catch(me){console.error("[big-brother] Failed to load config:",me)}setInterval(async()=>{V&&await Gt()},1e4),Te.checkStatus();try{const me=localStorage.getItem("mh_conversation_session_id");if(me)qe.set(me);else{const Xe=pe.generateSessionId();localStorage.setItem("mh_conversation_session_id",Xe)}}catch{pe.generateSessionId()}be(G),console.log(`[ChatInterface] Connected to ${G} buffer stream`),Me=new IntersectionObserver(me=>{he=me[0].isIntersecting},{threshold:.1}),ge&&Me.observe(ge);const F=()=>{!document.hidden&&(!Y||Y.readyState===EventSource.CLOSED)&&(console.log("[chat] Tab visible, reconnecting buffer stream"),be(G))};document.addEventListener("visibilitychange",F),se=()=>{document.removeEventListener("visibilitychange",F)},window.addEventListener("voice-settings-updated",Mt)});function Mt(){console.log("[chat-mic] Voice settings updated, reloading..."),Pe.loadVADSettings()}async function _e(w){try{console.log(`[chat] Fetching ${w} buffer from server...`);const F=await xe(`/api/buffer?mode=${w}`);if(F.ok){const me=await F.json();if(Array.isArray(me.messages)){console.log(`[chat] Loaded ${me.messages.length} messages from ${w} buffer`),De.set(me.messages);return}}console.warn("[chat] Buffer fetch returned non-OK status:",F.status)}catch(F){console.warn("[chat] Server buffer fetch failed, trying local storage:",F)}try{console.log(`[chat] Fetching ${w} from local storage...`);const F=await Qs(w);console.log(`[chat] Loaded ${F.length} messages from local storage`);const me=F.map(Xe=>({role:Xe.role,content:Xe.content,timestamp:Xe.timestamp,meta:Xe.meta}));De.set(me)}catch(F){console.error("[chat] Local buffer fetch also failed:",F),De.set([])}}function be(w){_e(w),Y&&Y.close(),console.log(`[chat] Connecting to ${w} buffer stream...`),Y=qn(`/api/buffer-stream?mode=${w}`),Y.onmessage=F=>{try{const me=JSON.parse(F.data);if(console.log(`[chat] Buffer stream message type: ${me.type}`),me.type==="error"){console.error("[chat] Buffer stream auth error:",me.error),pe.pushMessage("system",`âš ï¸ ${me.error}`);return}if(me.type==="connected"){console.log(`[chat] Buffer stream connected, watching: ${me.bufferPath}`);return}me.type==="update"&&Array.isArray(me.messages)&&(console.log(`[chat] Buffer update (${w}): ${me.messages.length} messages`),De.set(me.messages))}catch(me){console.error("[chat] Buffer stream parse error:",me)}},Y.onerror=F=>{if(console.error("[chat] Buffer stream error - connection may have been reset:",F),!Ue(Gn)){console.log("[chat] Now offline, switching to local storage mode"),_e(w);return}setTimeout(()=>{console.log("[chat] Attempting buffer stream reconnection..."),be(w)},3e3)}}function Fe(){Y&&(console.log("[chat] Disconnecting buffer stream"),Y.close(),Y=null)}Es(()=>{it=!1,se?.(),re?.close(),Fe(),Le.clearActivity(),ce.cleanup(),Se.cleanup(),Et(),Me&&(Me.disconnect(),Me=null),typeof window<"u"&&window.removeEventListener("voice-settings-updated",Mt),Pe.disableMediaSession(),Pe.cleanup()}),$s(()=>{he&&ae&&l(10,ae.scrollTop=ae.scrollHeight,ae)});async function Ve(){const w=E.trim();if(w){l(4,E=""),pe.clearSelection(),pe.pushMessage("user",w),await Qn(G,{role:"user",content:w}),l(0,I=!0),Se.start(),Se.setStatusLabel("ðŸ”„ Selecting best tier...");try{console.log("[sendMessage-offline] Using UnifiedChat for offline/tiered routing");const F=await Fo.sendMessage(w);console.log(`[sendMessage-offline] Response from tier: ${F.tier} (${F.model})`),pe.pushMessage("assistant",F.response,void 0,{tier:F.tier,model:F.model,latencyMs:F.latencyMs}),await Qn(G,{role:"assistant",content:F.response,meta:{tier:F.tier,model:F.model}}),oe&&F.response&&ce.speakText(F.response),Se.stop()}catch(F){console.error("[sendMessage-offline] Error:",F);const me=F instanceof Error?F.message:"Failed to get response";pe.pushMessage("system",`âš ï¸ ${me}`),Se.stop()}finally{l(0,I=!1)}}}async function je(){if(!E.trim()||I)return;let w=Ue(Gn);if((On()||!w)&&(w=(await Jn()).connected),!w){await Ve();return}if(!Te.isReady()){const It=Ue(lt)==="vllm"?"Cannot send message: vLLM server is not running. Please start vLLM from Settings â†’ Backend.":"Cannot send message: Ollama is not running or no models are loaded. Please start Ollama and load a model first.";alert(It);return}await ce.ensureAudioUnlocked(),oe&&ce.prefetchVoiceResources(),Le.signalActivity();const F=E.trim();l(4,E="");const me=pe.getReplyToMetadata(),Xe=me.questionId,Nt=me.content;pe.clearSelection(),pe.pushMessage("user",F),l(0,I=!0),l(1,T=[]),Se.start(),console.log("[sendMessage] Step 1: Set loading state");try{console.log("[sendMessage] Step 2: Entered try block");let Ot={};try{const rt=localStorage.getItem("llmOptions");rt&&(Ot=JSON.parse(rt))}catch{}console.log("[sendMessage] Step 3: Got llm_opts");const It=new URLSearchParams({message:F,mode:G,length:ie,reason:String(Q>0),reasoningDepth:String(Q),llm:JSON.stringify(Ot),sessionId:n});console.log("[sendMessage] Step 4: Created URLSearchParams"),It.set("yolo",String(q)),Xe&&(It.set("replyToQuestionId",Xe),console.log("[reply-to] Replying to curiosity question:",Xe)),Nt&&(It.set("replyToContent",Nt.substring(0,500)),console.log("[reply-to] Replying to message:",Nt.substring(0,100))),console.log("[sendMessage] Step 5: Setting up chat request"),console.log("[sendMessage] URL:",`/api/persona_chat?${It.toString()}`),It.set("graph","true"),re&&(console.log("[sendMessage] Closing existing EventSource..."),re.close(),re=null),re=qn(`/api/persona_chat?${It.toString()}`),console.log("[sendMessage] Step 6: EventSource created!"),re.onmessage=rt=>{console.log("[EventSource] onmessage fired, raw event.data:",rt.data.substring(0,200));try{const{type:yt,data:He}=JSON.parse(rt.data);if(console.log("[EventSource] Parsed type:",yt,"data keys:",Object.keys(He)),yt==="progress"){if(He&&He.message){Se.setActive(!0);const vt=He.message;console.log("[Progress Event] step:",He.step,"message:",vt.substring(0,100)),He.step==="loading_graph"?(Se.setStatusLabel("ðŸ“‹ Loading workflow..."),Se.setTrace([vt])):He.step==="graph_loaded"?(Se.setStatusLabel("âš™ï¸ Executing pipeline..."),Se.setTrace([vt])):He.step==="node_executing"?(Se.setStatusLabel("ðŸ”„ Processing..."),Se.appendTrace(`â–¸ ${vt}`,10)):He.step==="thinking"?(console.log("[Thinking Event] Appending to trace:",vt.substring(0,150)),console.log("[Thinking Event] Current trace length:",Se.getTrace().length),console.log("[Thinking Event] reasoningStages.length:",T.length),Se.setStatusLabel("ðŸ§  Thinking..."),Se.appendTrace(vt,10),console.log("[Thinking Event] New trace length:",Se.getTrace().length)):He.step==="node_error"?(Se.setStatusLabel("âš ï¸ Error detected..."),Se.appendTrace(`âœ— ${vt}`,10)):(He.step==="graph_complete"&&Se.setStatusLabel("âœ“ Completed, finalizing..."),Se.appendTrace(vt,10))}}else if(yt==="cancelled")Se.stop(),pe.pushMessage("system",He.message||"â¸ï¸ Request cancelled"),l(0,I=!1),l(1,T=[]),re?.close();else if(yt==="reasoning"){if(Se.stop(),typeof He=="string")l(1,T=[{round:1,stage:"plan",content:He,timestamp:Date.now()}]);else if(He&&typeof He=="object"){const vt={round:Number(He.round)>0?Number(He.round):1,stage:String(He.stage||"plan"),content:String(He.content||""),timestamp:Date.now()};l(1,T=[...T,vt])}}else if(yt==="answer")Se.stop(),T.length>0&&(G==="inner"&&T.forEach(vt=>{const Yt=`${pe.formatReasoningLabel(vt)} Â· ${pe.formatTime(vt.timestamp)}`;pe.pushMessage("reasoning",vt.content,void 0,{stage:vt,label:Yt})}),l(1,T=[])),He.duplicate||pe.pushMessage("assistant",He.response,He?.saved?.assistantRelPath,{facet:He.facet}),console.log("[chat-tts] Auto-TTS check - ttsEnabled:",oe,"hasResponse:",!!He.response,"responseLength:",He.response?.length||0),oe&&He.response?(console.log("[chat-tts] Auto-TTS FIRING - speaking response:",He.response.substring(0,50)),ce.speakText(He.response)):console.log("[chat-tts] Auto-TTS SKIPPED - enabled:",oe,"mode:",G,"hasResponse:",!!He.response),l(0,I=!1),re?.close();else if(yt==="system_message")He.content&&pe.pushMessage("system",He.content);else if(yt==="error"){const vt=He.message||"Unknown error occurred",Yt=He.suggestion||"",Ps=He.isGPUError||vt.includes("GPU")||vt.includes("memory");console.error("[chat] Server error:",vt);let Dn=`âš ï¸ ${vt}`;Yt?Dn+=`

ðŸ’¡ ${Yt}`:Ps&&(Dn+=`

ðŸ’¡ Try refreshing the page or wait a moment for GPU memory to clear.`),pe.pushMessage("system",Dn),Se.stop(),l(0,I=!1),l(1,T=[]),re?.close();return}}catch(yt){console.error("Chat stream error:",yt),pe.pushMessage("system",`Error: ${yt.message||"Failed to process server response."}`),Se.stop(),l(0,I=!1),l(1,T=[]),re?.close()}},re.onerror=async rt=>{if(console.error("[EventSource] onerror fired! Error:",rt),console.error("[EventSource] ReadyState:",re?.readyState),re?.close(),!(await Jn()).connected){console.log("[EventSource] Server confirmed offline, falling back to UnifiedChat");const He=Ue(De);He.length>0&&He[He.length-1].role==="user"&&De.set(He.slice(0,-1)),l(4,E=F),Se.stop(),l(0,I=!1),l(1,T=[]),await Ve();return}pe.pushMessage("system","Error: Connection to the server was lost. Try again or check server status."),Se.stop(),l(0,I=!1),l(1,T=[])}}catch(Ot){console.error("Chat setup error:",Ot),pe.pushMessage("system","Error: Could not send message."),Se.stop(),l(0,I=!1),l(1,T=[])}}async function ht(){if(!(!I||!n))try{console.log("[stop-request] Cancelling session:",n);const w=await xe("/api/cancel-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:n,reason:"User clicked stop button"})});w.ok?console.log("[stop-request] Cancellation requested successfully"):console.error("[stop-request] Failed to cancel:",await w.text())}catch(w){console.error("[stop-request] Error cancelling request:",w)}}async function At(w){Le.signalActivity(),w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),await je())}async function Wt(w){await pe.deleteMessage(w)||alert("Failed to delete message")}async function Gt(){try{const w=await xe("/api/claude-session");if(w.ok){const F=await w.json();if(F.success&&F.status)return l(6,J=F.status.ready),F.status}}catch(w){console.error("[claude-session] Failed to check status:",w)}return null}async function Jt(){if(!ne){l(7,ne=!0);try{console.log("[claude-session] Starting Claude CLI session...");const F=await(await xe("/api/claude-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"start"})})).json();if(F.success&&F.status){if(l(6,J=F.status.ready),console.log("[claude-session] Status:",F.message),J){const{openBigBrotherTerminal:me}=await We(async()=>{const{openBigBrotherTerminal:Xe}=await import("./bigBrotherTerminal.CirdKcu0.js");return{openBigBrotherTerminal:Xe}},__vite__mapDeps([0,1,2]));me()}}else console.error("[claude-session] Failed to start:",F.error)}catch(w){console.error("[claude-session] Error starting session:",w)}finally{l(7,ne=!1)}}}async function tn(){try{await xe("/api/claude-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"stop"})}),l(6,J=!1)}catch(w){console.error("[claude-session] Error stopping session:",w)}}async function nn(){const w=V;l(5,V=!V),pt();try{const F=await xe("/api/big-brother-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:V,provider:"claude-code",escalateOnStuck:!0,escalateOnRepeatedFailures:!0,maxRetries:1,includeFullScratchpad:!0,autoApplySuggestions:!1})});if(!F.ok){const me=await F.json();console.error("[big-brother] Failed to update config:",me.error),l(5,V=w),pt();return}V?await Jt():await tn()}catch(F){console.error("[big-brother] Error updating config:",F),l(5,V=w),pt()}}async function Qt(w,F){try{const me=await xe("/api/memories/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relPath:w,status:F})}),Xe=await me.json();if(!me.ok||!Xe.success)throw new Error(Xe.error||"Failed to validate")}catch(me){alert(me.message)}}async function ln(){pe.clearMessages(),l(1,T=[]),Se.stop();try{const F=pe.generateSessionId();localStorage.setItem("mh_conversation_session_id",F)}catch{pe.generateSessionId()}Ws();try{const F=await xe("/api/audit/clear",{method:"DELETE"});if(!F.ok)console.warn("Failed to clear audit logs:",F.statusText);else{const me=await F.json();console.log("Audit logs cleared:",me.message)}}catch(F){console.warn("Error clearing audit logs:",F)}await pe.clearServerBuffer()?console.log("[ChatInterface] Server buffer cleared successfully"):console.warn("[ChatInterface] Failed to clear server buffer")}function sn(){Te.checkStatus()}const on=()=>{l(8,G="conversation"),be("conversation")},rn=()=>{l(8,G="inner"),be("inner")};function an(){ie=js(this),l(9,ie)}const cn=()=>{l(11,oe=!oe),oe&&ce.prefetchVoiceResources(),pt()},un=()=>{l(12,z=!z),pt()},fn=()=>{l(4,E="Tell me how you will take over the world?"),je()},dn=()=>{l(4,E="Wimmy wham wham wozzle!?"),je()},hn=()=>{l(4,E="Tell me about yourself in the most technical way possible"),je()},vn=w=>{C===w.detail.index?pe.clearSelection():pe.selectMessage(w.detail.message,w.detail.index)},_n=w=>Wt(w.detail.relPath),mn=w=>Qt(w.detail.relPath,w.detail.status),pn=w=>{oe&&ce.speakText(w.detail.content)};function gn(w){Ut[w?"unshift":"push"](()=>{ge=w,l(15,ge)})}function bn(w){Ut[w?"unshift":"push"](()=>{ae=w,l(10,ae)})}function kn(w){E=w,l(4,E),l(0,I),l(66,t)}const wn=w=>At(w.detail.event),yn=()=>{if($){console.log("[chat-mic] Stopping wake word detection"),Pe.stopWakeWordDetection();return}if(g){console.log("[chat-mic] Stopping conversation mode"),Pe.toggleConversationMode();return}if(O){Pe.toggleContinuousMode();return}U?Pe.stopMic():Pe.startMic()},Tn=()=>{console.log("[chat-mic] Long press detected, toggling conversation mode"),Pe.toggleConversationMode()},Cn=()=>{console.log("[chat-mic] Right-click detected, toggling conversation mode"),Pe.toggleConversationMode()},Sn=()=>{ce.stopActiveAudio(),ce.cancelInFlightTts()},En=()=>{console.log("[chat-mic] Tap-to-interrupt: stopping TTS and starting to listen"),ce.stopActiveAudio(),ce.cancelInFlightTts(),g||Pe.toggleConversationMode()},Mn=()=>pe.clearSelection(),In=w=>{l(9,ie=w.detail.mode)};return i.$$.update=()=>{if(i.$$.dirty[0]&14|i.$$.dirty[2]&96&&console.log("[ThinkingIndicator] showIndicator:",v,"active:",f,"trace.length:",r.length,"reasoningStages.length:",T.length,"steps:",o.substring(0,100)),i.$$.dirty[0]&1|i.$$.dirty[2]&16&&!I&&t.trim()){console.log("[chat-queue] LLM finished, sending queued message:",t.substring(0,50)+(t.length>50?"...":""));const w=t;dt.set(""),l(4,E=w),je()}},[I,T,o,v,E,V,J,ne,G,ie,ae,oe,z,K,te,ge,s,k,S,y,R,B,M,C,N,U,O,$,g,A,D,ce,ue,pe,De,Ne,$e,qe,Ae,Ee,Oe,Ye,lt,Pe,kt,at,dt,Tt,Qe,Ze,Ke,gt,ct,wt,mt,pt,Dt,be,je,ht,At,Wt,nn,Qt,ln,sn,t,r,f,on,rn,an,cn,un,fn,dn,hn,vn,_n,mn,pn,gn,bn,kn,wn,yn,Tn,Cn,Sn,En,Mn,In]}class li extends jt{constructor(e){super(),zt(this,e,ni,ti,qt,{},null,[-1,-1,-1,-1])}}const{Map:si}=Ds;function yl(i,e,l){const t=i.slice();return t[157]=e[l],t}function Tl(i,e,l){const t=i.slice();return t[160]=e[l],t}function Cl(i,e,l){const t=i.slice();return t[154]=e[l],t}function Sl(i,e,l){const t=i.slice();t[122]=e[l];const n=Vt(t[122]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function El(i,e,l){const t=i.slice();return t[151]=e[l],t}function Ml(i,e,l){const t=i.slice();t[122]=e[l];const n=Vt(t[122]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function Il(i,e,l){const t=i.slice();return t[137]=e[l],t}function Dl(i,e,l){const t=i.slice();return t[140]=e[l],t}function Al(i,e,l){const t=i.slice();t[122]=e[l];const n=Vt(t[122]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function Nl(i,e,l){const t=i.slice();return t[137]=e[l],t}function Pl(i,e,l){const t=i.slice();return t[140]=e[l],t}function Ll(i,e,l){const t=i.slice();t[132]=e[l];const n=Vt(t[132]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function Vl(i,e,l){const t=i.slice();t[129]=e[l];const n=Vt(t[129]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function Ol(i,e,l){const t=i.slice();t[122]=e[l];const n=Vt(t[122]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function Rl(i,e,l){const t=i.slice();t[122]=e[l];const n=Vt(t[122]);t[123]=n;const s=t[123]?!!t[21][t[123]]:!1;return t[124]=s,t}function oi(i){let e,l,t='<h2 class="view-title">ðŸ”§ System Coder</h2> <p class="view-subtitle">Self-healing code maintenance agent</p>',n,s,o,r={ctx:i,current:null,token:null,hasCatch:!1,pending:mi,then:_i,catch:vi,value:121,blocks:[,,,]};return tt(i[35]("SystemCoderDashboard"),r),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),r.block.c(),this.h()},l(f){e=d(f,"DIV",{class:!0});var v=p(e);l=d(v,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1a9twdg"&&(l.innerHTML=t),n=P(v),s=d(v,"DIV",{class:!0});var _=p(s);r.block.l(_),_.forEach(u),v.forEach(u),this.h()},h(){a(l,"class","view-header"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container")},m(f,v){b(f,e,v),c(e,l),c(e,n),c(e,s),r.block.m(s,r.anchor=null),r.mount=()=>s,r.anchor=null,o=!0},p(f,v){i=f,nt(r,i,v)},i(f){o||(ee(r.block),o=!0)},o(f){for(let v=0;v<3;v+=1){const _=r.blocks[v];le(_)}o=!1},d(f){f&&u(e),r.block.d(),r.token=null,r=null}}}function ii(i){let e,l,t='<h2 class="view-title">ðŸŽ¯ Agency</h2> <p class="view-subtitle">Autonomous desires and intentions</p>',n,s,o,r={ctx:i,current:null,token:null,hasCatch:!1,pending:bi,then:gi,catch:pi,value:121,blocks:[,,,]};return tt(i[35]("AgencyDashboard"),r),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),r.block.c(),this.h()},l(f){e=d(f,"DIV",{class:!0});var v=p(e);l=d(v,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-194kjlz"&&(l.innerHTML=t),n=P(v),s=d(v,"DIV",{class:!0});var _=p(s);r.block.l(_),_.forEach(u),v.forEach(u),this.h()},h(){a(l,"class","view-header"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container")},m(f,v){b(f,e,v),c(e,l),c(e,n),c(e,s),r.block.m(s,r.anchor=null),r.mount=()=>s,r.anchor=null,o=!0},p(f,v){i=f,nt(r,i,v)},i(f){o||(ee(r.block),o=!0)},o(f){for(let v=0;v<3;v+=1){const _=r.blocks[v];le(_)}o=!1},d(f){f&&u(e),r.block.d(),r.token=null,r=null}}}function ri(i){let e,l,t='<h2 class="view-title">ðŸ’» Terminal</h2> <p class="view-subtitle">Multiple terminals with tab management</p>',n,s,o,r={ctx:i,current:null,token:null,hasCatch:!1,pending:yi,then:wi,catch:ki,value:121,blocks:[,,,]};return tt(i[35]("TerminalManager"),r),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),r.block.c(),this.h()},l(f){e=d(f,"DIV",{class:!0});var v=p(e);l=d(v,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-yv8rjl"&&(l.innerHTML=t),n=P(v),s=d(v,"DIV",{class:!0});var _=p(s);r.block.l(_),_.forEach(u),v.forEach(u),this.h()},h(){a(l,"class","view-header svelte-amswgv"),a(s,"class","view-content terminal-iframe-container svelte-amswgv"),a(e,"class","view-container terminal-view svelte-amswgv")},m(f,v){b(f,e,v),c(e,l),c(e,n),c(e,s),r.block.m(s,r.anchor=null),r.mount=()=>s,r.anchor=null,o=!0},p(f,v){i=f,nt(r,i,v)},i(f){o||(ee(r.block),o=!0)},o(f){for(let v=0;v<3;v+=1){const _=r.blocks[v];le(_)}o=!1},d(f){f&&u(e),r.block.d(),r.token=null,r=null}}}function ai(i){let e,l,t='<h2 class="view-title">âš™ï¸ System</h2> <p class="view-subtitle">Tools &amp; settings</p>',n,s,o,r,f="Chat",v,_,k="Settings",S,y,R="Backend",B,M,C="Security",N,U,O="Storage",$,g,A="Network",D,E,I,T="Addons",Q,W,j="Scheduler",V,J,ne="Lifeline",re,Y,G,ie,ae,he,se=i[10]&&Bl(i);const oe=[Pi,Ni,Ai,Di,Ii,Mi,Ei,Si,Ci,Ti],z=[];function K(te,q){return te[18]==="chat"?0:te[18]==="settings"?1:te[18]==="backend"?2:te[18]==="security"?3:te[18]==="storage"?4:te[18]==="network"?5:te[18]==="addons"?6:te[18]==="lifeline"?7:te[18]==="scheduler"?8:te[18]==="server"?9:-1}return~(Y=K(i))&&(G=z[Y]=oe[Y](i)),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),o=h("div"),r=h("button"),r.textContent=f,v=L(),_=h("button"),_.textContent=k,S=L(),y=h("button"),y.textContent=R,B=L(),M=h("button"),M.textContent=C,N=L(),U=h("button"),U.textContent=O,$=L(),g=h("button"),g.textContent=A,D=L(),se&&se.c(),E=L(),I=h("button"),I.textContent=T,Q=L(),W=h("button"),W.textContent=j,V=L(),J=h("button"),J.textContent=ne,re=L(),G&&G.c(),this.h()},l(te){e=d(te,"DIV",{class:!0});var q=p(e);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-ab0pen"&&(l.innerHTML=t),n=P(q),s=d(q,"DIV",{class:!0});var ce=p(s);o=d(ce,"DIV",{class:!0});var ue=p(o);r=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-kbqfmk"&&(r.textContent=f),v=P(ue),_=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-x5g7up"&&(_.textContent=k),S=P(ue),y=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-11e33s0"&&(y.textContent=R),B=P(ue),M=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(M)!=="svelte-1y4wyt0"&&(M.textContent=C),N=P(ue),U=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(U)!=="svelte-ewycoj"&&(U.textContent=O),$=P(ue),g=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(g)!=="svelte-1iwgxk6"&&(g.textContent=A),D=P(ue),se&&se.l(ue),E=P(ue),I=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(I)!=="svelte-1eph9j3"&&(I.textContent=T),Q=P(ue),W=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(W)!=="svelte-hnkeaz"&&(W.textContent=j),V=P(ue),J=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),X(J)!=="svelte-7zuu2a"&&(J.textContent=ne),ue.forEach(u),re=P(ce),G&&G.l(ce),ce.forEach(u),q.forEach(u),this.h()},h(){a(l,"class","view-header svelte-amswgv"),a(r,"class","tab-button"),ve(r,"active",i[18]==="chat"),a(_,"class","tab-button"),ve(_,"active",i[18]==="settings"),a(y,"class","tab-button"),ve(y,"active",i[18]==="backend"),a(M,"class","tab-button"),ve(M,"active",i[18]==="security"),a(U,"class","tab-button"),ve(U,"active",i[18]==="storage"),a(g,"class","tab-button"),ve(g,"active",i[18]==="network"),a(I,"class","tab-button"),ve(I,"active",i[18]==="addons"),a(W,"class","tab-button"),ve(W,"active",i[18]==="scheduler"),a(J,"class","tab-button"),ve(J,"active",i[18]==="lifeline"),a(o,"class","tab-group"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container svelte-amswgv"),ve(e,"terminal-view",i[18]==="terminal")},m(te,q){b(te,e,q),c(e,l),c(e,n),c(e,s),c(s,o),c(o,r),c(o,v),c(o,_),c(o,S),c(o,y),c(o,B),c(o,M),c(o,N),c(o,U),c(o,$),c(o,g),c(o,D),se&&se.m(o,null),c(o,E),c(o,I),c(o,Q),c(o,W),c(o,V),c(o,J),c(s,re),~Y&&z[Y].m(s,null),ie=!0,ae||(he=[de(r,"click",i[103]),de(_,"click",i[104]),de(y,"click",i[105]),de(M,"click",i[106]),de(U,"click",i[107]),de(g,"click",i[108]),de(I,"click",i[110]),de(W,"click",i[111]),de(J,"click",i[112])],ae=!0)},p(te,q){(!ie||q[0]&262144)&&ve(r,"active",te[18]==="chat"),(!ie||q[0]&262144)&&ve(_,"active",te[18]==="settings"),(!ie||q[0]&262144)&&ve(y,"active",te[18]==="backend"),(!ie||q[0]&262144)&&ve(M,"active",te[18]==="security"),(!ie||q[0]&262144)&&ve(U,"active",te[18]==="storage"),(!ie||q[0]&262144)&&ve(g,"active",te[18]==="network"),te[10]?se?se.p(te,q):(se=Bl(te),se.c(),se.m(o,E)):se&&(se.d(1),se=null),(!ie||q[0]&262144)&&ve(I,"active",te[18]==="addons"),(!ie||q[0]&262144)&&ve(W,"active",te[18]==="scheduler"),(!ie||q[0]&262144)&&ve(J,"active",te[18]==="lifeline");let ce=Y;Y=K(te),Y===ce?~Y&&z[Y].p(te,q):(G&&(Re(),le(z[ce],1,1,()=>{z[ce]=null}),Be()),~Y?(G=z[Y],G?G.p(te,q):(G=z[Y]=oe[Y](te),G.c()),ee(G,1),G.m(s,null)):G=null),(!ie||q[0]&262144)&&ve(e,"terminal-view",te[18]==="terminal")},i(te){ie||(ee(G),ie=!0)},o(te){le(G),ie=!1},d(te){te&&u(e),se&&se.d(),~Y&&z[Y].d(),ae=!1,_t(he)}}}function ci(i){let e,l,t='<h2 class="view-title">ðŸ‘¤ Persona</h2> <p class="view-subtitle">Identity, personality &amp; memory</p>',n,s,o,r,f="Editor",v,_,k="Memory",S,y,R="Generator",B,M,C,N,U,O;const $=[fr,ur,cr],g=[];function A(D,E){return D[6]==="editor"?0:D[6]==="memory"?1:D[6]==="generator"?2:-1}return~(M=A(i))&&(C=g[M]=$[M](i)),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),o=h("div"),r=h("button"),r.textContent=f,v=L(),_=h("button"),_.textContent=k,S=L(),y=h("button"),y.textContent=R,B=L(),C&&C.c(),this.h()},l(D){e=d(D,"DIV",{class:!0});var E=p(e);l=d(E,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1ix6u14"&&(l.innerHTML=t),n=P(E),s=d(E,"DIV",{class:!0});var I=p(s);o=d(I,"DIV",{class:!0});var T=p(o);r=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-aqqw5f"&&(r.textContent=f),v=P(T),_=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-1bn6f11"&&(_.textContent=k),S=P(T),y=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-1mmp5yz"&&(y.textContent=R),T.forEach(u),B=P(I),C&&C.l(I),I.forEach(u),E.forEach(u),this.h()},h(){a(l,"class","view-header"),a(r,"class","tab-button"),ve(r,"active",i[6]==="editor"),a(_,"class","tab-button"),ve(_,"active",i[6]==="memory"),a(y,"class","tab-button"),ve(y,"active",i[6]==="generator"),a(o,"class","tab-group"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container")},m(D,E){b(D,e,E),c(e,l),c(e,n),c(e,s),c(s,o),c(o,r),c(o,v),c(o,_),c(o,S),c(o,y),c(s,B),~M&&g[M].m(s,null),N=!0,U||(O=[de(r,"click",i[65]),de(_,"click",i[66]),de(y,"click",i[67])],U=!0)},p(D,E){(!N||E[0]&64)&&ve(r,"active",D[6]==="editor"),(!N||E[0]&64)&&ve(_,"active",D[6]==="memory"),(!N||E[0]&64)&&ve(y,"active",D[6]==="generator");let I=M;M=A(D),M===I?~M&&g[M].p(D,E):(C&&(Re(),le(g[I],1,1,()=>{g[I]=null}),Be()),~M?(C=g[M],C?C.p(D,E):(C=g[M]=$[M](D),C.c()),ee(C,1),C.m(s,null)):C=null)},i(D){N||(ee(C),N=!0)},o(D){le(C),N=!1},d(D){D&&u(e),~M&&g[M].d(),U=!1,_t(O)}}}function ui(i){let e,l,t='<h2 class="view-title">ðŸ§  AI Training</h2> <p class="view-subtitle">LoRA datasets, training &amp; adapters</p>',n,s,o,r,f="ðŸ§™ Training Wizard",v,_,k="ðŸ“œ Training History",S,y,R="ðŸ“Š Dataset Management",B,M,C="âš™ï¸ System Controls",N,U,O="ðŸ“¡ Training Monitor",$,g,A,D,E,I;const T=[Aa,Da,Ia,Ma,Ea],Q=[];function W(j,V){return j[17]==="wizard"?0:j[17]==="datasets"?1:j[17]==="manage"?2:j[17]==="system"?3:j[17]==="monitor"?4:-1}return~(g=W(i))&&(A=Q[g]=T[g](i)),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),o=h("div"),r=h("button"),r.textContent=f,v=L(),_=h("button"),_.textContent=k,S=L(),y=h("button"),y.textContent=R,B=L(),M=h("button"),M.textContent=C,N=L(),U=h("button"),U.textContent=O,$=L(),A&&A.c(),this.h()},l(j){e=d(j,"DIV",{class:!0});var V=p(e);l=d(V,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1bu4zpl"&&(l.innerHTML=t),n=P(V),s=d(V,"DIV",{class:!0});var J=p(s);o=d(J,"DIV",{class:!0});var ne=p(o);r=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1j352r6"&&(r.textContent=f),v=P(ne),_=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-9q04f"&&(_.textContent=k),S=P(ne),y=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-remxgk"&&(y.textContent=R),B=P(ne),M=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),X(M)!=="svelte-8xkll"&&(M.textContent=C),N=P(ne),U=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),X(U)!=="svelte-1fg8q5s"&&(U.textContent=O),ne.forEach(u),$=P(J),A&&A.l(J),J.forEach(u),V.forEach(u),this.h()},h(){a(l,"class","view-header"),a(r,"class","tab-button"),ve(r,"active",i[17]==="wizard"),a(_,"class","tab-button"),ve(_,"active",i[17]==="datasets"),a(y,"class","tab-button"),ve(y,"active",i[17]==="manage"),a(M,"class","tab-button"),ve(M,"active",i[17]==="system"),a(U,"class","tab-button"),ve(U,"active",i[17]==="monitor"),a(o,"class","tab-group"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container")},m(j,V){b(j,e,V),c(e,l),c(e,n),c(e,s),c(s,o),c(o,r),c(o,v),c(o,_),c(o,S),c(o,y),c(o,B),c(o,M),c(o,N),c(o,U),c(s,$),~g&&Q[g].m(s,null),D=!0,E||(I=[de(r,"click",i[60]),de(_,"click",i[61]),de(y,"click",i[62]),de(M,"click",i[63]),de(U,"click",i[64])],E=!0)},p(j,V){(!D||V[0]&131072)&&ve(r,"active",j[17]==="wizard"),(!D||V[0]&131072)&&ve(_,"active",j[17]==="datasets"),(!D||V[0]&131072)&&ve(y,"active",j[17]==="manage"),(!D||V[0]&131072)&&ve(M,"active",j[17]==="system"),(!D||V[0]&131072)&&ve(U,"active",j[17]==="monitor");let J=g;g=W(j),g===J?~g&&Q[g].p(j,V):(A&&(Re(),le(Q[J],1,1,()=>{Q[J]=null}),Be()),~g?(A=Q[g],A?A.p(j,V):(A=Q[g]=T[g](j),A.c()),ee(A,1),A.m(s,null)):A=null)},i(j){D||(ee(A),D=!0)},o(j){le(A),D=!1},d(j){j&&u(e),~g&&Q[g].d(),E=!1,_t(I)}}}function fi(i){let e,l,t='<h2 class="view-title">ðŸŽ¤ Voice</h2> <p class="view-subtitle">Audio upload, transcription &amp; voice training</p>',n,s,o,r,f="Upload & Transcribe",v,_,k="Voice Clone Training",S,y,R="Voice Settings",B,M,C,N,U,O;const $=[Qa,Ja,Ga],g=[];function A(D,E){return D[8]==="upload"?0:D[8]==="training"?1:D[8]==="settings"?2:-1}return~(M=A(i))&&(C=g[M]=$[M](i)),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),o=h("div"),r=h("button"),r.textContent=f,v=L(),_=h("button"),_.textContent=k,S=L(),y=h("button"),y.textContent=R,B=L(),C&&C.c(),this.h()},l(D){e=d(D,"DIV",{class:!0});var E=p(e);l=d(E,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-fhb5gv"&&(l.innerHTML=t),n=P(E),s=d(E,"DIV",{class:!0});var I=p(s);o=d(I,"DIV",{class:!0});var T=p(o);r=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1fnw5nm"&&(r.textContent=f),v=P(T),_=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-1eipdgv"&&(_.textContent=k),S=P(T),y=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-17pgivl"&&(y.textContent=R),T.forEach(u),B=P(I),C&&C.l(I),I.forEach(u),E.forEach(u),this.h()},h(){a(l,"class","view-header"),a(r,"class","tab-button"),ve(r,"active",i[8]==="upload"),a(_,"class","tab-button"),ve(_,"active",i[8]==="training"),a(y,"class","tab-button"),ve(y,"active",i[8]==="settings"),a(o,"class","tab-group"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container")},m(D,E){b(D,e,E),c(e,l),c(e,n),c(e,s),c(s,o),c(o,r),c(o,v),c(o,_),c(o,S),c(o,y),c(s,B),~M&&g[M].m(s,null),N=!0,U||(O=[de(r,"click",i[57]),de(_,"click",i[58]),de(y,"click",i[59])],U=!0)},p(D,E){(!N||E[0]&256)&&ve(r,"active",D[8]==="upload"),(!N||E[0]&256)&&ve(_,"active",D[8]==="training"),(!N||E[0]&256)&&ve(y,"active",D[8]==="settings");let I=M;M=A(D),M===I?~M&&g[M].p(D,E):(C&&(Re(),le(g[I],1,1,()=>{g[I]=null}),Be()),~M?(C=g[M],C?C.p(D,E):(C=g[M]=$[M](D),C.c()),ee(C,1),C.m(s,null)):C=null)},i(D){N||(ee(C),N=!0)},o(D){le(C),N=!1},d(D){D&&u(e),~M&&g[M].d(),U=!1,_t(O)}}}function di(i){let e,l,t='<h2 class="view-title">ðŸ“Š Dashboard</h2> <p class="view-subtitle">Overview, tasks &amp; approvals</p>',n,s,o,r,f="Overview",v,_,k="Tasks",S,y,R="Approvals",B,M,C,N,U,O;const $=[cc,ac,rc],g=[];function A(D,E){return D[19]==="overview"?0:D[19]==="tasks"?1:D[19]==="approvals"?2:-1}return~(M=A(i))&&(C=g[M]=$[M](i)),{c(){e=h("div"),l=h("div"),l.innerHTML=t,n=L(),s=h("div"),o=h("div"),r=h("button"),r.textContent=f,v=L(),_=h("button"),_.textContent=k,S=L(),y=h("button"),y.textContent=R,B=L(),C&&C.c(),this.h()},l(D){e=d(D,"DIV",{class:!0});var E=p(e);l=d(E,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1klzbjm"&&(l.innerHTML=t),n=P(E),s=d(E,"DIV",{class:!0});var I=p(s);o=d(I,"DIV",{class:!0});var T=p(o);r=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-2xssqd"&&(r.textContent=f),v=P(T),_=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-11xas10"&&(_.textContent=k),S=P(T),y=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-95z69q"&&(y.textContent=R),T.forEach(u),B=P(I),C&&C.l(I),I.forEach(u),E.forEach(u),this.h()},h(){a(l,"class","view-header"),a(r,"class","tab-button"),ve(r,"active",i[19]==="overview"),a(_,"class","tab-button"),ve(_,"active",i[19]==="tasks"),a(y,"class","tab-button"),ve(y,"active",i[19]==="approvals"),a(o,"class","tab-group"),a(s,"class","view-content svelte-amswgv"),a(e,"class","view-container")},m(D,E){b(D,e,E),c(e,l),c(e,n),c(e,s),c(s,o),c(o,r),c(o,v),c(o,_),c(o,S),c(o,y),c(s,B),~M&&g[M].m(s,null),N=!0,U||(O=[de(r,"click",i[54]),de(_,"click",i[55]),de(y,"click",i[56])],U=!0)},p(D,E){(!N||E[0]&524288)&&ve(r,"active",D[19]==="overview"),(!N||E[0]&524288)&&ve(_,"active",D[19]==="tasks"),(!N||E[0]&524288)&&ve(y,"active",D[19]==="approvals");let I=M;M=A(D),M===I?~M&&g[M].p(D,E):(C&&(Re(),le(g[I],1,1,()=>{g[I]=null}),Be()),~M?(C=g[M],C?C.p(D,E):(C=g[M]=$[M](D),C.c()),ee(C,1),C.m(s,null)):C=null)},i(D){N||(ee(C),N=!0)},o(D){le(C),N=!1},d(D){D&&u(e),~M&&g[M].d(),U=!1,_t(O)}}}function hi(i){let e,l;return e=new li({}),{c(){ye(e.$$.fragment)},l(t){ze(e.$$.fragment,t)},m(t,n){we(e,t,n),l=!0},p:m,i(t){l||(ee(e.$$.fragment,t),l=!0)},o(t){le(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function vi(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function _i(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function mi(i){let e,l="Loading system coder dashboard...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-19gfzo1"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function pi(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function gi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function bi(i){let e,l="Loading agency dashboard...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1eesfs0"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function ki(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function wi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function yi(i){let e,l="Loading terminal manager...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-mi55us"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Bl(i){let e,l="ðŸ“¡ Server",t,n;return{c(){e=h("button"),e.textContent=l,this.h()},l(s){e=d(s,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-p4vh7b"&&(e.textContent=l),this.h()},h(){a(e,"class","tab-button"),ve(e,"active",i[18]==="server")},m(s,o){b(s,e,o),t||(n=de(e,"click",i[109]),t=!0)},p(s,o){o[0]&262144&&ve(e,"active",s[18]==="server")},d(s){s&&u(e),t=!1,n()}}}function Ti(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Oi,then:Vi,catch:Li,value:121,blocks:[,,,]};return tt(i[35]("ServerSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ci(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Ui,then:Bi,catch:Ri,value:121,blocks:[,,,]};return tt(i[35]("SchedulerSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Si(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:$i,then:Hi,catch:Fi,value:121,blocks:[,,,]};return tt(i[35]("Lifeline"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ei(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:qi,then:zi,catch:ji,value:121,blocks:[,,,]};return tt(i[35]("AddonsManager"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Mi(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Ji,then:Gi,catch:Wi,value:121,blocks:[,,,]};return tt(i[35]("NetworkSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ii(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Ki,then:Yi,catch:Qi,value:121,blocks:[,,,]};return tt(i[35]("ProfileLocation"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Di(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:xi,then:Zi,catch:Xi,value:121,blocks:[,,,]};return tt(i[35]("SecuritySettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ai(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:nr,then:tr,catch:er,value:121,blocks:[,,,]};return tt(i[35]("BackendSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ni(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:or,then:sr,catch:lr,value:121,blocks:[,,,]};return tt(i[35]("SystemSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Pi(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:ar,then:rr,catch:ir,value:121,blocks:[,,,]};return tt(i[35]("ChatSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Li(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Vi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Oi(i){let e,l="Loading server settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-r5w61v"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Ri(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Bi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Ui(i){let e,l="Loading scheduler settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1fvappz"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Fi(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Hi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function $i(i){let e,l="Loading lifeline...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1teu3vt"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function ji(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function zi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function qi(i){let e,l="Loading addons manager...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1qv8469"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Wi(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Gi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Ji(i){let e,l="Loading network settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-12p8k38"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Qi(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Yi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Ki(i){let e,l="Loading storage settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1ta3bif"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Xi(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Zi(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function xi(i){let e,l="Loading security settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-ho38bw"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function er(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function tr(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function nr(i){let e,l="Loading backend settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-c28zhu"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function lr(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function sr(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function or(i){let e,l="Loading system settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-y8dk61"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function ir(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function rr(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function ar(i){let e,l="Loading chat settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-i6ncvo"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function cr(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:vr,then:hr,catch:dr,value:121,blocks:[,,,]};return tt(i[35]("PersonaGenerator"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function ur(i){let e,l,t,n,s="Episodic",o,r,f="Reflections",v,_,k="Tasks",S,y,R="Curated",B,M,C="AI Ingestor",N,U,O="Audio",$,g,A="Dreams ðŸ’­",D,E,I="Curiosity â“",T,Q,W="Functions ðŸ”§",j,V=!["tasks","curated","curiosity","functions"].includes(i[7]),J,ne,re,Y,G,ie={ctx:i,current:null,token:null,hasCatch:!1,pending:pr,then:mr,catch:_r,value:121,blocks:[,,,]};tt(i[35]("MemoryControls"),ie);let ae=V&&Ul(i);function he(z,K){if(z[15])return Dr;if(z[16])return Ir;if(z[7]==="episodic"&&z[0].length===0)return Mr;if(z[7]==="episodic")return Er;if(z[7]==="reflections")return Sr;if(z[7]==="tasks")return Cr;if(z[7]==="curated")return Tr;if(z[7]==="ai-ingestor")return yr;if(z[7]==="audio")return wr;if(z[7]==="dreams")return kr;if(z[7]==="curiosity")return br;if(z[7]==="functions")return gr}let se=he(i),oe=se&&se(i);return{c(){e=h("div"),ie.block.c(),l=L(),t=h("div"),n=h("button"),n.textContent=s,o=L(),r=h("button"),r.textContent=f,v=L(),_=h("button"),_.textContent=k,S=L(),y=h("button"),y.textContent=R,B=L(),M=h("button"),M.textContent=C,N=L(),U=h("button"),U.textContent=O,$=L(),g=h("button"),g.textContent=A,D=L(),E=h("button"),E.textContent=I,T=L(),Q=h("button"),Q.textContent=W,j=L(),ae&&ae.c(),J=L(),oe&&oe.c(),ne=H(),this.h()},l(z){e=d(z,"DIV",{class:!0});var K=p(e);ie.block.l(K),K.forEach(u),l=P(z),t=d(z,"DIV",{class:!0});var te=p(t);n=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-1uo0o50"&&(n.textContent=s),o=P(te),r=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1jn0666"&&(r.textContent=f),v=P(te),_=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-j68gpi"&&(_.textContent=k),S=P(te),y=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-cnqisy"&&(y.textContent=R),B=P(te),M=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(M)!=="svelte-15nxnvv"&&(M.textContent=C),N=P(te),U=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(U)!=="svelte-1oan0xe"&&(U.textContent=O),$=P(te),g=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(g)!=="svelte-10ahhug"&&(g.textContent=A),D=P(te),E=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(E)!=="svelte-z0auoe"&&(E.textContent=I),T=P(te),Q=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),X(Q)!=="svelte-1kvbbv"&&(Q.textContent=W),te.forEach(u),j=P(z),ae&&ae.l(z),J=P(z),oe&&oe.l(z),ne=H(),this.h()},h(){a(e,"class","memory-section"),a(n,"class","tab-button"),ve(n,"active",i[7]==="episodic"),a(r,"class","tab-button"),ve(r,"active",i[7]==="reflections"),a(_,"class","tab-button"),ve(_,"active",i[7]==="tasks"),a(y,"class","tab-button"),ve(y,"active",i[7]==="curated"),a(M,"class","tab-button"),ve(M,"active",i[7]==="ai-ingestor"),a(U,"class","tab-button"),ve(U,"active",i[7]==="audio"),a(g,"class","tab-button"),ve(g,"active",i[7]==="dreams"),a(E,"class","tab-button"),ve(E,"active",i[7]==="curiosity"),a(Q,"class","tab-button"),ve(Q,"active",i[7]==="functions"),a(t,"class","tab-group")},m(z,K){b(z,e,K),ie.block.m(e,ie.anchor=null),ie.mount=()=>e,ie.anchor=null,b(z,l,K),b(z,t,K),c(t,n),c(t,o),c(t,r),c(t,v),c(t,_),c(t,S),c(t,y),c(t,B),c(t,M),c(t,N),c(t,U),c(t,$),c(t,g),c(t,D),c(t,E),c(t,T),c(t,Q),b(z,j,K),ae&&ae.m(z,K),b(z,J,K),oe&&oe.m(z,K),b(z,ne,K),re=!0,Y||(G=[de(n,"click",i[68]),de(r,"click",i[69]),de(_,"click",i[70]),de(y,"click",i[71]),de(M,"click",i[72]),de(U,"click",i[73]),de(g,"click",i[74]),de(E,"click",i[75]),de(Q,"click",i[76])],Y=!0)},p(z,K){i=z,nt(ie,i,K),(!re||K[0]&128)&&ve(n,"active",i[7]==="episodic"),(!re||K[0]&128)&&ve(r,"active",i[7]==="reflections"),(!re||K[0]&128)&&ve(_,"active",i[7]==="tasks"),(!re||K[0]&128)&&ve(y,"active",i[7]==="curated"),(!re||K[0]&128)&&ve(M,"active",i[7]==="ai-ingestor"),(!re||K[0]&128)&&ve(U,"active",i[7]==="audio"),(!re||K[0]&128)&&ve(g,"active",i[7]==="dreams"),(!re||K[0]&128)&&ve(E,"active",i[7]==="curiosity"),(!re||K[0]&128)&&ve(Q,"active",i[7]==="functions"),K[0]&128&&(V=!["tasks","curated","curiosity","functions"].includes(i[7])),V?ae?ae.p(i,K):(ae=Ul(i),ae.c(),ae.m(J.parentNode,J)):ae&&(ae.d(1),ae=null),se===(se=he(i))&&oe?oe.p(i,K):(oe&&oe.d(1),oe=se&&se(i),oe&&(oe.c(),oe.m(ne.parentNode,ne)))},i(z){re||(ee(ie.block),re=!0)},o(z){for(let K=0;K<3;K+=1){const te=ie.blocks[K];le(te)}re=!1},d(z){z&&(u(e),u(l),u(t),u(j),u(J),u(ne)),ie.block.d(),ie.token=null,ie=null,ae&&ae.d(z),oe&&oe.d(z),Y=!1,_t(G)}}}function fr(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Sa,then:Ca,catch:Ta,value:121,blocks:[,,,]};return tt(i[35]("PersonaEditor"),t),{c(){e=h("div"),t.block.c(),this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);t.block.l(s),s.forEach(u),this.h()},h(){a(e,"class","persona-editor-wrapper svelte-amswgv")},m(n,s){b(n,e,s),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(),t.token=null,t=null}}}function dr(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function hr(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function vr(i){let e,l="Loading persona generator...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1pczhi2"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function _r(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function mr(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s()),e.$on("captured",i[37])),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),e.$on("captured",o[37]),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function pr(i){let e,l="Loading memory controls...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-n7aryk"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Ul(i){let e,l,t,n,s,o,r,f,v,_,k,S,y,R,B=i[4]&&Fl(i),M=i[28]>0&&Hl(i),C=i[29]>1&&jl(i);return{c(){e=h("div"),l=h("div"),t=ot("svg"),n=ot("circle"),s=ot("path"),o=L(),r=h("input"),f=L(),B&&B.c(),v=L(),_=h("div"),M&&M.c(),k=L(),C&&C.c(),S=H(),this.h()},l(N){e=d(N,"DIV",{class:!0});var U=p(e);l=d(U,"DIV",{class:!0});var O=p(l);t=st(O,"svg",{class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var $=p(t);n=st($,"circle",{cx:!0,cy:!0,r:!0}),p(n).forEach(u),s=st($,"path",{d:!0}),p(s).forEach(u),$.forEach(u),o=P(O),r=d(O,"INPUT",{type:!0,placeholder:!0,class:!0}),f=P(O),B&&B.l(O),O.forEach(u),v=P(U),_=d(U,"DIV",{class:!0});var g=p(_);M&&M.l(g),g.forEach(u),U.forEach(u),k=P(N),C&&C.l(N),S=H(),this.h()},h(){a(n,"cx","11"),a(n,"cy","11"),a(n,"r","8"),a(s,"d","m21 21-4.35-4.35"),a(t,"class","search-icon svelte-amswgv"),a(t,"viewBox","0 0 24 24"),a(t,"fill","none"),a(t,"stroke","currentColor"),a(t,"stroke-width","2"),a(r,"type","text"),a(r,"placeholder","Search memories..."),a(r,"class","search-input svelte-amswgv"),a(l,"class","search-box svelte-amswgv"),a(_,"class","pagination-info svelte-amswgv"),a(e,"class","memory-controls-bar svelte-amswgv")},m(N,U){b(N,e,U),c(e,l),c(l,t),c(t,n),c(t,s),c(l,o),c(l,r),Rt(r,i[4]),c(l,f),B&&B.m(l,null),c(e,v),c(e,_),M&&M.m(_,null),b(N,k,U),C&&C.m(N,U),b(N,S,U),y||(R=de(r,"input",i[77]),y=!0)},p(N,U){U[0]&16&&r.value!==N[4]&&Rt(r,N[4]),N[4]?B?B.p(N,U):(B=Fl(N),B.c(),B.m(l,null)):B&&(B.d(1),B=null),N[28]>0?M?M.p(N,U):(M=Hl(N),M.c(),M.m(_,null)):M&&(M.d(1),M=null),N[29]>1?C?C.p(N,U):(C=jl(N),C.c(),C.m(S.parentNode,S)):C&&(C.d(1),C=null)},d(N){N&&(u(e),u(k),u(S)),B&&B.d(),M&&M.d(),C&&C.d(N),y=!1,R()}}}function Fl(i){let e,l="Ã—",t,n;return{c(){e=h("button"),e.textContent=l,this.h()},l(s){e=d(s,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1s44031"&&(e.textContent=l),this.h()},h(){a(e,"class","search-clear svelte-amswgv")},m(s,o){b(s,e,o),t||(n=de(e,"click",i[78]),t=!0)},p:m,d(s){s&&u(e),t=!1,n()}}}function Hl(i){let e,l,t,n=i[28]===1?"memory":"memories",s,o,r=i[4]&&$l();return{c(){e=h("span"),l=x(i[28]),t=L(),s=x(n),o=L(),r&&r.c(),this.h()},l(f){e=d(f,"SPAN",{class:!0});var v=p(e);l=Z(v,i[28]),t=P(v),s=Z(v,n),o=P(v),r&&r.l(v),v.forEach(u),this.h()},h(){a(e,"class","item-count svelte-amswgv")},m(f,v){b(f,e,v),c(e,l),c(e,t),c(e,s),c(e,o),r&&r.m(e,null)},p(f,v){v[0]&268435456&&fe(l,f[28]),v[0]&268435456&&n!==(n=f[28]===1?"memory":"memories")&&fe(s,n),f[4]?r||(r=$l(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(f){f&&u(e),r&&r.d()}}}function $l(i){let e;return{c(){e=x("(filtered)")},l(l){e=Z(l,"(filtered)")},m(l,t){b(l,e,t)},d(l){l&&u(e)}}}function jl(i){let e,l,t,n,s,o,r,f,v,_,k,S,y,R,B,M,C,N,U,O,$,g,A,D;return{c(){e=h("div"),l=h("button"),t=x("Â«Â«"),s=L(),o=h("button"),r=x("Â«"),v=L(),_=h("span"),k=x("Page "),S=x(i[5]),y=x(" of "),R=x(i[29]),B=L(),M=h("button"),C=x("Â»"),U=L(),O=h("button"),$=x("Â»Â»"),this.h()},l(E){e=d(E,"DIV",{class:!0});var I=p(e);l=d(I,"BUTTON",{class:!0,title:!0});var T=p(l);t=Z(T,"Â«Â«"),T.forEach(u),s=P(I),o=d(I,"BUTTON",{class:!0,title:!0});var Q=p(o);r=Z(Q,"Â«"),Q.forEach(u),v=P(I),_=d(I,"SPAN",{class:!0});var W=p(_);k=Z(W,"Page "),S=Z(W,i[5]),y=Z(W," of "),R=Z(W,i[29]),W.forEach(u),B=P(I),M=d(I,"BUTTON",{class:!0,title:!0});var j=p(M);C=Z(j,"Â»"),j.forEach(u),U=P(I),O=d(I,"BUTTON",{class:!0,title:!0});var V=p(O);$=Z(V,"Â»Â»"),V.forEach(u),I.forEach(u),this.h()},h(){a(l,"class","page-btn svelte-amswgv"),l.disabled=n=i[5]===1,a(l,"title","First page"),a(o,"class","page-btn svelte-amswgv"),o.disabled=f=i[5]===1,a(o,"title","Previous page"),a(_,"class","page-indicator svelte-amswgv"),a(M,"class","page-btn svelte-amswgv"),M.disabled=N=i[5]===i[29],a(M,"title","Next page"),a(O,"class","page-btn svelte-amswgv"),O.disabled=g=i[5]===i[29],a(O,"title","Last page"),a(e,"class","pagination-controls svelte-amswgv")},m(E,I){b(E,e,I),c(e,l),c(l,t),c(e,s),c(e,o),c(o,r),c(e,v),c(e,_),c(_,k),c(_,S),c(_,y),c(_,R),c(e,B),c(e,M),c(M,C),c(e,U),c(e,O),c(O,$),A||(D=[de(l,"click",i[79]),de(o,"click",i[80]),de(M,"click",i[81]),de(O,"click",i[82])],A=!0)},p(E,I){I[0]&32&&n!==(n=E[5]===1)&&(l.disabled=n),I[0]&32&&f!==(f=E[5]===1)&&(o.disabled=f),I[0]&32&&fe(S,E[5]),I[0]&536870912&&fe(R,E[29]),I[0]&536870944&&N!==(N=E[5]===E[29])&&(M.disabled=N),I[0]&536870944&&g!==(g=E[5]===E[29])&&(O.disabled=g)},d(E){E&&u(e),A=!1,_t(D)}}}function gr(i){let e;function l(s,o){return s[14].length>0?Nr:Ar}let t=l(i),n=t(i);return{c(){e=h("div"),n.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","functions-list svelte-amswgv")},m(s,o){b(s,e,o),n.m(e,null)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function br(i){let e;function l(s,o){return s[13].length>0?Lr:Pr}let t=l(i),n=t(i);return{c(){e=h("div"),n.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","memory-list")},m(s,o){b(s,e,o),n.m(e,null)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function kr(i){let e;function l(s,o){return s[32].length>0?Or:Vr}let t=l(i),n=t(i);return{c(){e=h("div"),n.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(s,o){b(s,e,o),n.m(e,null)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function wr(i){let e;function l(s,o){return s[2].length===0?jr:$r}let t=l(i),n=t(i);return{c(){e=h("div"),n.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(s,o){b(s,e,o),n.m(e,null)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function yr(i){let e;function l(s,o){return s[1].length===0?Yr:Qr}let t=l(i),n=t(i);return{c(){e=h("div"),n.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(s,o){b(s,e,o),n.m(e,null)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function Tr(i){let e,l,t=Ge(i[12]),n=[];for(let o=0;o<t.length;o+=1)n[o]=hs(Ll(i,t,o));let s=i[12].length===0&&vs();return{c(){e=h("div");for(let o=0;o<n.length;o+=1)n[o].c();l=L(),s&&s.c(),this.h()},l(o){e=d(o,"DIV",{class:!0});var r=p(e);for(let f=0;f<n.length;f+=1)n[f].l(r);l=P(r),s&&s.l(r),r.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(o,r){b(o,e,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);c(e,l),s&&s.m(e,null)},p(o,r){if(r[0]&6295552|r[1]&128){t=Ge(o[12]);let f;for(f=0;f<t.length;f+=1){const v=Ll(o,t,f);n[f]?n[f].p(v,r):(n[f]=hs(v),n[f].c(),n[f].m(e,l))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}o[12].length===0?s||(s=vs(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&u(e),bt(n,o),s&&s.d()}}}function Cr(i){let e,l,t=Ge(i[11]),n=[];for(let o=0;o<t.length;o+=1)n[o]=ms(Vl(i,t,o));let s=i[11].length===0&&ps();return{c(){e=h("div");for(let o=0;o<n.length;o+=1)n[o].c();l=L(),s&&s.c(),this.h()},l(o){e=d(o,"DIV",{class:!0});var r=p(e);for(let f=0;f<n.length;f+=1)n[f].l(r);l=P(r),s&&s.l(r),r.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(o,r){b(o,e,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);c(e,l),s&&s.m(e,null)},p(o,r){if(r[0]&6293504|r[1]&128){t=Ge(o[11]);let f;for(f=0;f<t.length;f+=1){const v=Vl(o,t,f);n[f]?n[f].p(v,r):(n[f]=ms(v),n[f].c(),n[f].m(e,l))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}o[11].length===0?s||(s=ps(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(o){o&&u(e),bt(n,o),s&&s.d()}}}function Sr(i){let e;function l(s,o){return s[3].length===0?da:fa}let t=l(i),n=t(i);return{c(){e=h("div"),n.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(s,o){b(s,e,o),n.m(e,null)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function Er(i){let e,l=Ge(i[34]),t=[];for(let n=0;n<l.length;n+=1)t[n]=Ts(Rl(i,l,n));return{c(){e=h("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);for(let o=0;o<t.length;o+=1)t[o].l(s);s.forEach(u),this.h()},h(){a(e,"class","events-list svelte-amswgv")},m(n,s){b(n,e,s);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,s){if(s[0]&207618048|s[1]&3464){l=Ge(n[34]);let o;for(o=0;o<l.length;o+=1){const r=Rl(n,l,o);t[o]?t[o].p(r,s):(t[o]=Ts(r),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function Mr(i){let e,l='<div class="empty-icon">ðŸ§©</div> <div class="empty-title">No memories yet</div> <div class="empty-description">Capture observations using the <code>mh capture</code> command</div>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-eilwb9"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Ir(i){let e,l,t="âš ï¸",n,s,o="Failed to load memories",r,f,v;return{c(){e=h("div"),l=h("div"),l.textContent=t,n=L(),s=h("div"),s.textContent=o,r=L(),f=h("div"),v=x(i[16]),this.h()},l(_){e=d(_,"DIV",{class:!0});var k=p(e);l=d(k,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-hw6j07"&&(l.textContent=t),n=P(k),s=d(k,"DIV",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-c4bcr4"&&(s.textContent=o),r=P(k),f=d(k,"DIV",{class:!0});var S=p(f);v=Z(S,i[16]),S.forEach(u),k.forEach(u),this.h()},h(){a(l,"class","empty-icon"),a(s,"class","empty-title"),a(f,"class","empty-description"),a(e,"class","empty-state")},m(_,k){b(_,e,k),c(e,l),c(e,n),c(e,s),c(e,r),c(e,f),c(f,v)},p(_,k){k[0]&65536&&fe(v,_[16])},d(_){_&&u(e)}}}function Dr(i){let e,l="Loading memories...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-r2ft8c"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Ar(i){let e,l=`<div class="empty-icon">ðŸ”§</div> <div class="empty-title">No Functions Yet</div> <div class="empty-description">Functions are automatically learned from successful operator executions.
                  The system will create draft functions as it discovers multi-step patterns.</div>`;return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-6yxgs1"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Nr(i){let e,l=Ge(i[14]),t=[];for(let n=0;n<l.length;n+=1)t[n]=ql(yl(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=H()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=H()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);b(n,e,s)},p(n,s){if(s[0]&16384){l=Ge(n[14]);let o;for(o=0;o<l.length;o+=1){const r=yl(n,l,o);t[o]?t[o].p(r,s):(t[o]=ql(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function zl(i){let e,l=i[160]+"",t;return{c(){e=h("span"),t=x(l),this.h()},l(n){e=d(n,"SPAN",{class:!0});var s=p(e);t=Z(s,l),s.forEach(u),this.h()},h(){a(e,"class","skill-tag svelte-amswgv")},m(n,s){b(n,e,s),c(e,t)},p(n,s){s[0]&16384&&l!==(l=n[160]+"")&&fe(t,l)},d(n){n&&u(e)}}}function ql(i){let e,l,t,n,s,o=i[157].trustLevel==="verified"?"âœ“":"ðŸ“",r,f,v,_=i[157].title+"",k,S,y,R=i[157].trustLevel+"",B,M,C,N,U=i[157].summary+"",O,$,g,A,D,E,I="Uses:",T,Q,W=i[157].usageCount+"",j,V,J,ne,re="Quality:",Y,G,ie=i[157].qualityScore?(i[157].qualityScore*100).toFixed(0)+"%":"N/A",ae,he,se,oe,z="Skills:",K,te,q=i[157].skillsUsed.length+"",ce,ue,Ie,pe,De,Ne,$e=new Date(i[157].createdAt).toLocaleString()+"",qe,Le,Te=Ge(i[157].skillsUsed),Ae=[];for(let Ee=0;Ee<Te.length;Ee+=1)Ae[Ee]=zl(Tl(i,Te,Ee));return{c(){e=h("div"),l=h("div"),t=h("div"),n=h("div"),s=h("span"),r=x(o),f=L(),v=h("span"),k=x(_),S=L(),y=h("span"),B=x(R),C=L(),N=h("div"),O=x(U),$=L(),g=h("div"),A=h("div"),D=h("div"),E=h("span"),E.textContent=I,T=L(),Q=h("span"),j=x(W),V=L(),J=h("div"),ne=h("span"),ne.textContent=re,Y=L(),G=h("span"),ae=x(ie),he=L(),se=h("div"),oe=h("span"),oe.textContent=z,K=L(),te=h("span"),ce=x(q),ue=L(),Ie=h("div");for(let Ee=0;Ee<Ae.length;Ee+=1)Ae[Ee].c();pe=L(),De=h("div"),Ne=h("div"),qe=x($e),Le=L(),this.h()},l(Ee){e=d(Ee,"DIV",{class:!0});var Oe=p(e);l=d(Oe,"DIV",{class:!0});var Ye=p(l);t=d(Ye,"DIV",{class:!0});var lt=p(t);n=d(lt,"DIV",{class:!0});var Pe=p(n);s=d(Pe,"SPAN",{class:!0});var kt=p(s);r=Z(kt,o),kt.forEach(u),f=P(Pe),v=d(Pe,"SPAN",{class:!0});var at=p(v);k=Z(at,_),at.forEach(u),S=P(Pe),y=d(Pe,"SPAN",{class:!0});var dt=p(y);B=Z(dt,R),dt.forEach(u),Pe.forEach(u),C=P(lt),N=d(lt,"DIV",{class:!0});var Tt=p(N);O=Z(Tt,U),Tt.forEach(u),lt.forEach(u),Ye.forEach(u),$=P(Oe),g=d(Oe,"DIV",{class:!0});var Je=p(g);A=d(Je,"DIV",{class:!0});var Qe=p(A);D=d(Qe,"DIV",{class:!0});var Ze=p(D);E=d(Ze,"SPAN",{class:!0,"data-svelte-h":!0}),X(E)!=="svelte-lfbcrk"&&(E.textContent=I),T=P(Ze),Q=d(Ze,"SPAN",{class:!0});var Se=p(Q);j=Z(Se,W),Se.forEach(u),Ze.forEach(u),V=P(Qe),J=d(Qe,"DIV",{class:!0});var Ke=p(J);ne=d(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),X(ne)!=="svelte-152ssih"&&(ne.textContent=re),Y=P(Ke),G=d(Ke,"SPAN",{class:!0});var gt=p(G);ae=Z(gt,ie),gt.forEach(u),Ke.forEach(u),he=P(Qe),se=d(Qe,"DIV",{class:!0});var ct=p(se);oe=d(ct,"SPAN",{class:!0,"data-svelte-h":!0}),X(oe)!=="svelte-11hsyde"&&(oe.textContent=z),K=P(ct),te=d(ct,"SPAN",{class:!0});var wt=p(te);ce=Z(wt,q),wt.forEach(u),ct.forEach(u),Qe.forEach(u),ue=P(Je),Ie=d(Je,"DIV",{class:!0});var mt=p(Ie);for(let Me=0;Me<Ae.length;Me+=1)Ae[Me].l(mt);mt.forEach(u),Je.forEach(u),pe=P(Oe),De=d(Oe,"DIV",{class:!0});var Et=p(De);Ne=d(Et,"DIV",{class:!0});var ge=p(Ne);qe=Z(ge,$e),ge.forEach(u),Et.forEach(u),Le=P(Oe),Oe.forEach(u),this.h()},h(){a(s,"class","function-icon svelte-amswgv"),a(v,"class","function-title svelte-amswgv"),a(y,"class",M="function-trust-badge "+i[157].trustLevel+" svelte-amswgv"),a(n,"class","function-title-row svelte-amswgv"),a(N,"class","function-summary svelte-amswgv"),a(t,"class","function-header-content svelte-amswgv"),a(l,"class","event-card-header"),a(E,"class","stat-label svelte-amswgv"),a(Q,"class","stat-value svelte-amswgv"),a(D,"class","stat-item svelte-amswgv"),a(ne,"class","stat-label svelte-amswgv"),a(G,"class","stat-value svelte-amswgv"),a(J,"class","stat-item svelte-amswgv"),a(oe,"class","stat-label svelte-amswgv"),a(te,"class","stat-value svelte-amswgv"),a(se,"class","stat-item svelte-amswgv"),a(A,"class","function-stats svelte-amswgv"),a(Ie,"class","function-skills svelte-amswgv"),a(g,"class","function-body svelte-amswgv"),a(Ne,"class","event-card-time"),a(De,"class","event-card-meta"),a(e,"class","event-card function-card svelte-amswgv")},m(Ee,Oe){b(Ee,e,Oe),c(e,l),c(l,t),c(t,n),c(n,s),c(s,r),c(n,f),c(n,v),c(v,k),c(n,S),c(n,y),c(y,B),c(t,C),c(t,N),c(N,O),c(e,$),c(e,g),c(g,A),c(A,D),c(D,E),c(D,T),c(D,Q),c(Q,j),c(A,V),c(A,J),c(J,ne),c(J,Y),c(J,G),c(G,ae),c(A,he),c(A,se),c(se,oe),c(se,K),c(se,te),c(te,ce),c(g,ue),c(g,Ie);for(let Ye=0;Ye<Ae.length;Ye+=1)Ae[Ye]&&Ae[Ye].m(Ie,null);c(e,pe),c(e,De),c(De,Ne),c(Ne,qe),c(e,Le)},p(Ee,Oe){if(Oe[0]&16384&&o!==(o=Ee[157].trustLevel==="verified"?"âœ“":"ðŸ“")&&fe(r,o),Oe[0]&16384&&_!==(_=Ee[157].title+"")&&fe(k,_),Oe[0]&16384&&R!==(R=Ee[157].trustLevel+"")&&fe(B,R),Oe[0]&16384&&M!==(M="function-trust-badge "+Ee[157].trustLevel+" svelte-amswgv")&&a(y,"class",M),Oe[0]&16384&&U!==(U=Ee[157].summary+"")&&fe(O,U),Oe[0]&16384&&W!==(W=Ee[157].usageCount+"")&&fe(j,W),Oe[0]&16384&&ie!==(ie=Ee[157].qualityScore?(Ee[157].qualityScore*100).toFixed(0)+"%":"N/A")&&fe(ae,ie),Oe[0]&16384&&q!==(q=Ee[157].skillsUsed.length+"")&&fe(ce,q),Oe[0]&16384){Te=Ge(Ee[157].skillsUsed);let Ye;for(Ye=0;Ye<Te.length;Ye+=1){const lt=Tl(Ee,Te,Ye);Ae[Ye]?Ae[Ye].p(lt,Oe):(Ae[Ye]=zl(lt),Ae[Ye].c(),Ae[Ye].m(Ie,null))}for(;Ye<Ae.length;Ye+=1)Ae[Ye].d(1);Ae.length=Te.length}Oe[0]&16384&&$e!==($e=new Date(Ee[157].createdAt).toLocaleString()+"")&&fe(qe,$e)},d(Ee){Ee&&u(e),bt(Ae,Ee)}}}function Pr(i){let e,l=`<div class="empty-icon">â“</div> <div class="empty-title">No Curiosity Questions Yet</div> <div class="empty-description">The curiosity system asks thoughtful questions during idle periods.
                Adjust settings in System â†’ Settings to enable.</div>`;return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1inc4kj"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Lr(i){let e,l=Ge(i[13]),t=[];for(let n=0;n<l.length;n+=1)t[n]=Jl(Cl(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=H()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=H()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);b(n,e,s)},p(n,s){if(s[0]&8192|s[1]&256){l=Ge(n[13]);let o;for(o=0;o<l.length;o+=1){const r=Cl(n,l,o);t[o]?t[o].p(r,s):(t[o]=Jl(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function Wl(i){let e,l="Reply in Chat",t,n;return{c(){e=h("button"),e.textContent=l,this.h()},l(s){e=d(s,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1ozsifs"&&(e.textContent=l),this.h()},h(){a(e,"class","btn-reply svelte-amswgv")},m(s,o){b(s,e,o),t||(n=de(e,"click",i[102]),t=!0)},d(s){s&&u(e),t=!1,n()}}}function Gl(i){let e,l,t=new Date(i[154].answeredAt).toLocaleDateString()+"",n;return{c(){e=h("span"),l=x("Answered "),n=x(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var o=p(e);l=Z(o,"Answered "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","answered-badge svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&8192&&t!==(t=new Date(s[154].answeredAt).toLocaleDateString()+"")&&fe(n,t)},d(s){s&&u(e)}}}function Jl(i){let e,l,t,n=i[154].status==="pending"?"â“":"âœ…",s,o,r,f,v=i[154].status+"",_,k,S,y=new Date(i[154].askedAt).toLocaleString()+"",R,B,M,C=i[154].question+"",N,U,O,$,g="View Details",A,D,E,I,T;function Q(){return i[101](i[154])}let W=i[154].status==="pending"&&Wl(i),j=i[154].answeredAt&&Gl(i);return{c(){e=h("div"),l=h("div"),t=h("span"),s=x(n),o=L(),r=h("div"),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),B=L(),M=h("div"),N=x(C),U=L(),O=h("div"),$=h("button"),$.textContent=g,A=L(),W&&W.c(),D=L(),j&&j.c(),E=L(),this.h()},l(V){e=d(V,"DIV",{class:!0});var J=p(e);l=d(J,"DIV",{class:!0});var ne=p(l);t=d(ne,"SPAN",{class:!0});var re=p(t);s=Z(re,n),re.forEach(u),o=P(ne),r=d(ne,"DIV",{class:!0});var Y=p(r);f=d(Y,"SPAN",{class:!0});var G=p(f);_=Z(G,v),G.forEach(u),k=P(Y),S=d(Y,"SPAN",{class:!0});var ie=p(S);R=Z(ie,y),ie.forEach(u),Y.forEach(u),ne.forEach(u),B=P(J),M=d(J,"DIV",{class:!0});var ae=p(M);N=Z(ae,C),ae.forEach(u),U=P(J),O=d(J,"DIV",{class:!0});var he=p(O);$=d(he,"BUTTON",{class:!0,"data-svelte-h":!0}),X($)!=="svelte-9el5gj"&&($.textContent=g),A=P(he),W&&W.l(he),D=P(he),j&&j.l(he),he.forEach(u),E=P(J),J.forEach(u),this.h()},h(){a(t,"class","event-icon"),a(f,"class","event-card-type"),a(S,"class","event-card-time"),a(r,"class","event-card-meta"),a(l,"class","event-card-header"),a(M,"class","event-card-content question-text svelte-amswgv"),a($,"class","btn-view svelte-amswgv"),a(O,"class","event-card-footer"),a(e,"class","event-card curiosity-question svelte-amswgv"),ve(e,"pending",i[154].status==="pending"),ve(e,"answered",i[154].status==="answered")},m(V,J){b(V,e,J),c(e,l),c(l,t),c(t,s),c(l,o),c(l,r),c(r,f),c(f,_),c(r,k),c(r,S),c(S,R),c(e,B),c(e,M),c(M,N),c(e,U),c(e,O),c(O,$),c(O,A),W&&W.m(O,null),c(O,D),j&&j.m(O,null),c(e,E),I||(T=de($,"click",Q),I=!0)},p(V,J){i=V,J[0]&8192&&n!==(n=i[154].status==="pending"?"â“":"âœ…")&&fe(s,n),J[0]&8192&&v!==(v=i[154].status+"")&&fe(_,v),J[0]&8192&&y!==(y=new Date(i[154].askedAt).toLocaleString()+"")&&fe(R,y),J[0]&8192&&C!==(C=i[154].question+"")&&fe(N,C),i[154].status==="pending"?W||(W=Wl(i),W.c(),W.m(O,D)):W&&(W.d(1),W=null),i[154].answeredAt?j?j.p(i,J):(j=Gl(i),j.c(),j.m(O,null)):j&&(j.d(1),j=null),J[0]&8192&&ve(e,"pending",i[154].status==="pending"),J[0]&8192&&ve(e,"answered",i[154].status==="answered")},d(V){V&&u(e),W&&W.d(),j&&j.d(),I=!1,T()}}}function Vr(i){let e,l="No dreams recorded recently. Dreams are generated during the nightly sleep cycle based on recent memories.";return{c(){e=h("p"),e.textContent=l,this.h()},l(t){e=d(t,"P",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1uvetw"&&(e.textContent=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Or(i){let e=[],l=new si,t,n=Ge(i[32]);const s=o=>o[122].id;for(let o=0;o<n.length;o+=1){let r=Sl(i,n,o),f=s(r);l.set(f,e[o]=Xl(f,r))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=H()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);t=H()},m(o,r){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,r);b(o,t,r)},p(o,r){r[0]&6291456|r[1]&386&&(n=Ge(o[32]),e=Ms(e,r,s,1,o,n,l,t.parentNode,zs,Xl,t,Sl))},d(o){o&&u(t);for(let r=0;r<e.length;r+=1)e[r].d(o)}}}function Ql(i){let e;function l(s,o){return s[122].relPath?Br:Rr}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Rr(i){let e,l,t=i[122].content+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[1]&2&&t!==(t=s[122].content+"")&&fe(n,t)},d(s){s&&u(e)}}}function Br(i){let e;function l(s,o){return s[22][s[122].relPath]?.status==="loading"?Hr:s[22][s[122].relPath]?.status==="error"?Fr:Ur}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Ur(i){let e,l,t=(i[22][i[122].relPath]?.content??i[122].content)+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&4194304|o[1]&2&&t!==(t=(s[22][s[122].relPath]?.content??s[122].content)+"")&&fe(n,t)},d(s){s&&u(e)}}}function Fr(i){let e,l,t=i[22][i[122].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load dream: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load dream: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&4194304|o[1]&2&&t!==(t=s[22][s[122].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function Hr(i){let e,l="Loading dream memoryâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-qw950a"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Yl(i){let e,l,t=Ge(i[122].metadata.sources),n=[];for(let s=0;s<t.length;s+=1)n[s]=Kl(El(i,t,s));return{c(){e=h("div"),l=x(`Sources:
                       `);for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,`Sources:
                       `);for(let r=0;r<n.length;r+=1)n[r].l(o);o.forEach(u),this.h()},h(){a(e,"class","event-links svelte-amswgv")},m(s,o){b(s,e,o),c(e,l);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(s,o){if(o[1]&2){t=Ge(s[122].metadata.sources);let r;for(r=0;r<t.length;r+=1){const f=El(s,t,r);n[r]?n[r].p(f,o):(n[r]=Kl(f),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(s){s&&u(e),bt(n,s)}}}function Kl(i){let e,l=i[151].slice(0,10)+"",t,n;return{c(){e=h("span"),t=x(l),n=x("..."),this.h()},l(s){e=d(s,"SPAN",{class:!0});var o=p(e);t=Z(o,l),n=Z(o,"..."),o.forEach(u),this.h()},h(){a(e,"class","event-link svelte-amswgv")},m(s,o){b(s,e,o),c(e,t),c(e,n)},p(s,o){o[1]&2&&l!==(l=s[151].slice(0,10)+"")&&fe(t,l)},d(s){s&&u(e)}}}function Xl(i,e){let l,t,n,s,o=St(e[122].content)+"",r,f,v,_=e[124]?"â–²":"â–¼",k,S,y,R=e[124]?"Collapse memory":"Expand memory",B,M,C,N,U,O='<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',$,g,A,D,E=new Date(e[122].timestamp).toLocaleString()+"",I,T,Q,W,j;function V(){return e[99](e[122])}function J(){return e[100](e[122])}let ne=e[124]&&Ql(e),re=e[122].metadata?.sources&&e[122].metadata.sources.length>0&&Yl(e);return{key:i,first:null,c(){l=h("div"),t=h("div"),n=h("button"),s=h("span"),r=x(o),f=L(),v=h("span"),k=x(_),S=L(),y=h("span"),B=x(R),C=L(),N=h("div"),U=h("button"),U.innerHTML=O,$=L(),ne&&ne.c(),g=L(),A=h("div"),D=h("div"),I=x(E),T=L(),re&&re.c(),Q=L(),this.h()},l(Y){l=d(Y,"DIV",{class:!0});var G=p(l);t=d(G,"DIV",{class:!0});var ie=p(t);n=d(ie,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var ae=p(n);s=d(ae,"SPAN",{class:!0});var he=p(s);r=Z(he,o),he.forEach(u),f=P(ae),v=d(ae,"SPAN",{class:!0,"aria-hidden":!0});var se=p(v);k=Z(se,_),se.forEach(u),S=P(ae),y=d(ae,"SPAN",{class:!0});var oe=p(y);B=Z(oe,R),oe.forEach(u),ae.forEach(u),C=P(ie),N=d(ie,"DIV",{class:!0});var z=p(N);U=d(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(U)!=="svelte-1uv3qb"&&(U.innerHTML=O),z.forEach(u),ie.forEach(u),$=P(G),ne&&ne.l(G),g=P(G),A=d(G,"DIV",{class:!0});var K=p(A);D=d(K,"DIV",{class:!0});var te=p(D);I=Z(te,E),te.forEach(u),T=P(K),re&&re.l(K),K.forEach(u),Q=P(G),G.forEach(u),this.h()},h(){a(s,"class","event-card-title"),a(v,"class","event-toggle-icon svelte-amswgv"),a(v,"aria-hidden","true"),a(y,"class","sr-only svelte-amswgv"),a(n,"class","event-title-button svelte-amswgv"),a(n,"type","button"),a(n,"aria-expanded",M=e[124]),a(U,"class","val-btn edit svelte-amswgv"),a(U,"title","Edit dream"),a(N,"class","validation-controls svelte-amswgv"),a(t,"class","event-card-header"),a(D,"class","event-card-time"),a(A,"class","event-card-meta"),a(l,"class","event-card dream-card svelte-amswgv"),this.first=l},m(Y,G){b(Y,l,G),c(l,t),c(t,n),c(n,s),c(s,r),c(n,f),c(n,v),c(v,k),c(n,S),c(n,y),c(y,B),c(t,C),c(t,N),c(N,U),c(l,$),ne&&ne.m(l,null),c(l,g),c(l,A),c(A,D),c(D,I),c(A,T),re&&re.m(A,null),c(l,Q),W||(j=[de(n,"click",V),de(U,"click",Fn(J))],W=!0)},p(Y,G){e=Y,G[1]&2&&o!==(o=St(e[122].content)+"")&&fe(r,o),G[0]&2097152|G[1]&2&&_!==(_=e[124]?"â–²":"â–¼")&&fe(k,_),G[0]&2097152|G[1]&2&&R!==(R=e[124]?"Collapse memory":"Expand memory")&&fe(B,R),G[0]&2097152|G[1]&2&&M!==(M=e[124])&&a(n,"aria-expanded",M),e[124]?ne?ne.p(e,G):(ne=Ql(e),ne.c(),ne.m(l,g)):ne&&(ne.d(1),ne=null),G[1]&2&&E!==(E=new Date(e[122].timestamp).toLocaleString()+"")&&fe(I,E),e[122].metadata?.sources&&e[122].metadata.sources.length>0?re?re.p(e,G):(re=Yl(e),re.c(),re.m(A,null)):re&&(re.d(1),re=null)},d(Y){Y&&u(l),ne&&ne.d(),re&&re.d(),W=!1,_t(j)}}}function $r(i){let e,l=Ge(i[30]),t=[];for(let n=0;n<l.length;n+=1)t[n]=ss(Ml(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=H()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=H()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);b(n,e,s)},p(n,s){if(s[0]&1281359872|s[1]&3200){l=Ge(n[30]);let o;for(o=0;o<l.length;o+=1){const r=Ml(n,l,o);t[o]?t[o].p(r,s):(t[o]=ss(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function jr(i){let e,l=`<div class="empty-icon">ðŸŽµ</div> <div class="empty-title">No Audio Transcript memories</div> <div class="empty-description">Audio transcript memories are created when audio files are processed and transcribed.
                  Upload audio files to create transcript memories.</div>`;return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1ki3n9s"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function Zl(i){let e;function l(s,o){return s[122].relPath?qr:zr}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function zr(i){let e,l,t=i[122].content+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&1073741824&&t!==(t=s[122].content+"")&&fe(n,t)},d(s){s&&u(e)}}}function qr(i){let e;function l(s,o){return s[22][s[122].relPath]?.status==="loading"?Jr:s[22][s[122].relPath]?.status==="error"?Gr:Wr}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Wr(i){let e,l,t=(i[22][i[122].relPath]?.content??i[122].content)+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&1077936128&&t!==(t=(s[22][s[122].relPath]?.content??s[122].content)+"")&&fe(n,t)},d(s){s&&u(e)}}}function Gr(i){let e,l,t=i[22][i[122].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load transcript: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load transcript: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&1077936128&&t!==(t=s[22][s[122].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function Jr(i){let e,l="Loading audio transcriptâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1enpoug"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function xl(i){let e,l=i[122].validation.status+"",t,n;return{c(){e=h("div"),t=x(l),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);t=Z(o,l),o.forEach(u),this.h()},h(){a(e,"class",n="event-valid "+i[122].validation.status+" svelte-amswgv")},m(s,o){b(s,e,o),c(e,t)},p(s,o){o[0]&1073741824&&l!==(l=s[122].validation.status+"")&&fe(t,l),o[0]&1073741824&&n!==(n="event-valid "+s[122].validation.status+" svelte-amswgv")&&a(e,"class",n)},d(s){s&&u(e)}}}function es(i){let e,l=Ge(i[122].tags),t=[];for(let n=0;n<l.length;n+=1)t[n]=ts(Dl(i,l,n));return{c(){e=h("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);for(let o=0;o<t.length;o+=1)t[o].l(s);s.forEach(u),this.h()},h(){a(e,"class","event-tags svelte-amswgv")},m(n,s){b(n,e,s);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,s){if(s[0]&1073741824){l=Ge(n[122].tags);let o;for(o=0;o<l.length;o+=1){const r=Dl(n,l,o);t[o]?t[o].p(r,s):(t[o]=ts(r),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function ts(i){let e,l=i[140]+"",t;return{c(){e=h("span"),t=x(l),this.h()},l(n){e=d(n,"SPAN",{class:!0});var s=p(e);t=Z(s,l),s.forEach(u),this.h()},h(){a(e,"class","event-tag svelte-amswgv")},m(n,s){b(n,e,s),c(e,t)},p(n,s){s[0]&1073741824&&l!==(l=n[140]+"")&&fe(t,l)},d(n){n&&u(e)}}}function ns(i){let e,l=Ge(i[122].links),t=[];for(let n=0;n<l.length;n+=1)t[n]=ls(Il(i,l,n));return{c(){e=h("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);for(let o=0;o<t.length;o+=1)t[o].l(s);s.forEach(u),this.h()},h(){a(e,"class","event-links svelte-amswgv")},m(n,s){b(n,e,s);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,s){if(s[0]&1073741824){l=Ge(n[122].links);let o;for(o=0;o<l.length;o+=1){const r=Il(n,l,o);t[o]?t[o].p(r,s):(t[o]=ls(r),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function ls(i){let e,l=i[137].type+"",t,n,s=i[137].target+"",o;return{c(){e=h("span"),t=x(l),n=x(": "),o=x(s),this.h()},l(r){e=d(r,"SPAN",{class:!0});var f=p(e);t=Z(f,l),n=Z(f,": "),o=Z(f,s),f.forEach(u),this.h()},h(){a(e,"class","event-link svelte-amswgv")},m(r,f){b(r,e,f),c(e,t),c(e,n),c(e,o)},p(r,f){f[0]&1073741824&&l!==(l=r[137].type+"")&&fe(t,l),f[0]&1073741824&&s!==(s=r[137].target+"")&&fe(o,s)},d(r){r&&u(e)}}}function ss(i){let e,l,t,n,s=St(i[122].content)+"",o,r,f,v=i[124]?"â–²":"â–¼",_,k,S,y=i[124]?"Collapse memory":"Expand memory",R,B,M,C,N,U,O,$,g,A,D,E,I,T,Q,W=new Date(i[122].timestamp).toLocaleString()+"",j,V,J,ne,re,Y,G;function ie(){return i[96](i[122])}function ae(){return i[97](i[122])}function he(){return i[98](i[122])}let se=i[124]&&Zl(i),oe=i[122].validation?.status&&xl(i),z=i[122].tags&&i[122].tags.length>0&&es(i),K=i[122].links&&i[122].links.length>0&&ns(i);return{c(){e=h("div"),l=h("div"),t=h("button"),n=h("span"),o=x(s),r=L(),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),M=L(),C=h("div"),N=h("button"),U=x("+"),$=L(),g=h("button"),A=x("âˆ’"),E=L(),se&&se.c(),I=L(),T=h("div"),Q=h("div"),j=x(W),V=L(),oe&&oe.c(),J=L(),z&&z.c(),ne=L(),K&&K.c(),re=L(),this.h()},l(te){e=d(te,"DIV",{class:!0});var q=p(e);l=d(q,"DIV",{class:!0});var ce=p(l);t=d(ce,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var ue=p(t);n=d(ue,"SPAN",{class:!0});var Ie=p(n);o=Z(Ie,s),Ie.forEach(u),r=P(ue),f=d(ue,"SPAN",{class:!0,"aria-hidden":!0});var pe=p(f);_=Z(pe,v),pe.forEach(u),k=P(ue),S=d(ue,"SPAN",{class:!0});var De=p(S);R=Z(De,y),De.forEach(u),ue.forEach(u),M=P(ce),C=d(ce,"DIV",{class:!0});var Ne=p(C);N=d(Ne,"BUTTON",{class:!0,title:!0});var $e=p(N);U=Z($e,"+"),$e.forEach(u),$=P(Ne),g=d(Ne,"BUTTON",{class:!0,title:!0});var qe=p(g);A=Z(qe,"âˆ’"),qe.forEach(u),Ne.forEach(u),ce.forEach(u),E=P(q),se&&se.l(q),I=P(q),T=d(q,"DIV",{class:!0});var Le=p(T);Q=d(Le,"DIV",{class:!0});var Te=p(Q);j=Z(Te,W),Te.forEach(u),V=P(Le),oe&&oe.l(Le),J=P(Le),z&&z.l(Le),ne=P(Le),K&&K.l(Le),Le.forEach(u),re=P(q),q.forEach(u),this.h()},h(){a(n,"class","event-card-title"),a(f,"class","event-toggle-icon svelte-amswgv"),a(f,"aria-hidden","true"),a(S,"class","sr-only svelte-amswgv"),a(t,"class","event-title-button svelte-amswgv"),a(t,"type","button"),a(t,"aria-expanded",B=i[124]),a(N,"class","val-btn good svelte-amswgv"),a(N,"title","Mark as correct"),N.disabled=O=i[26][i[122].relPath]||i[122].validation?.status==="correct",a(g,"class","val-btn bad svelte-amswgv"),a(g,"title","Delete memory"),g.disabled=D=i[27][i[122].relPath],a(C,"class","validation-controls svelte-amswgv"),a(l,"class","event-card-header"),a(Q,"class","event-card-time"),a(T,"class","event-card-meta"),a(e,"class","event-card audio-transcript-card svelte-amswgv")},m(te,q){b(te,e,q),c(e,l),c(l,t),c(t,n),c(n,o),c(t,r),c(t,f),c(f,_),c(t,k),c(t,S),c(S,R),c(l,M),c(l,C),c(C,N),c(N,U),c(C,$),c(C,g),c(g,A),c(e,E),se&&se.m(e,null),c(e,I),c(e,T),c(T,Q),c(Q,j),c(T,V),oe&&oe.m(T,null),c(T,J),z&&z.m(T,null),c(T,ne),K&&K.m(T,null),c(e,re),Y||(G=[de(t,"click",ie),de(N,"click",ae),de(g,"click",he)],Y=!0)},p(te,q){i=te,q[0]&1073741824&&s!==(s=St(i[122].content)+"")&&fe(o,s),q[0]&1075838976&&v!==(v=i[124]?"â–²":"â–¼")&&fe(_,v),q[0]&1075838976&&y!==(y=i[124]?"Collapse memory":"Expand memory")&&fe(R,y),q[0]&1075838976&&B!==(B=i[124])&&a(t,"aria-expanded",B),q[0]&1140850688&&O!==(O=i[26][i[122].relPath]||i[122].validation?.status==="correct")&&(N.disabled=O),q[0]&1207959552&&D!==(D=i[27][i[122].relPath])&&(g.disabled=D),i[124]?se?se.p(i,q):(se=Zl(i),se.c(),se.m(e,I)):se&&(se.d(1),se=null),q[0]&1073741824&&W!==(W=new Date(i[122].timestamp).toLocaleString()+"")&&fe(j,W),i[122].validation?.status?oe?oe.p(i,q):(oe=xl(i),oe.c(),oe.m(T,J)):oe&&(oe.d(1),oe=null),i[122].tags&&i[122].tags.length>0?z?z.p(i,q):(z=es(i),z.c(),z.m(T,ne)):z&&(z.d(1),z=null),i[122].links&&i[122].links.length>0?K?K.p(i,q):(K=ns(i),K.c(),K.m(T,null)):K&&(K.d(1),K=null)},d(te){te&&u(e),se&&se.d(),oe&&oe.d(),z&&z.d(),K&&K.d(),Y=!1,_t(G)}}}function Qr(i){let e,l=Ge(i[31]),t=[];for(let n=0;n<l.length;n+=1)t[n]=fs(Al(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=H()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=H()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);b(n,e,s)},p(n,s){if(s[0]&207618048|s[1]&3201){l=Ge(n[31]);let o;for(o=0;o<l.length;o+=1){const r=Al(n,l,o);t[o]?t[o].p(r,s):(t[o]=fs(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function Yr(i){let e,l=`<div class="empty-icon">ðŸ¤–</div> <div class="empty-title">No AI Ingestor memories</div> <div class="empty-description">AI Ingestor memories are created when files are processed through the AI Ingestor agent.
                  Run the ingestor to create AI-processed memories from inbox files.</div>`;return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-vo5884"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function os(i){let e;function l(s,o){return s[122].relPath?Xr:Kr}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Kr(i){let e,l,t=i[122].content+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[1]&1&&t!==(t=s[122].content+"")&&fe(n,t)},d(s){s&&u(e)}}}function Xr(i){let e;function l(s,o){return s[22][s[122].relPath]?.status==="loading"?ea:s[22][s[122].relPath]?.status==="error"?xr:Zr}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function Zr(i){let e,l,t=(i[22][i[122].relPath]?.content??i[122].content)+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&4194304|o[1]&1&&t!==(t=(s[22][s[122].relPath]?.content??s[122].content)+"")&&fe(n,t)},d(s){s&&u(e)}}}function xr(i){let e,l,t=i[22][i[122].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load memory: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load memory: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&4194304|o[1]&1&&t!==(t=s[22][s[122].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function ea(i){let e,l="Loading AI ingestor memoryâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-9yux9u"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function is(i){let e,l=i[122].validation.status+"",t,n;return{c(){e=h("div"),t=x(l),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);t=Z(o,l),o.forEach(u),this.h()},h(){a(e,"class",n="event-valid "+i[122].validation.status+" svelte-amswgv")},m(s,o){b(s,e,o),c(e,t)},p(s,o){o[1]&1&&l!==(l=s[122].validation.status+"")&&fe(t,l),o[1]&1&&n!==(n="event-valid "+s[122].validation.status+" svelte-amswgv")&&a(e,"class",n)},d(s){s&&u(e)}}}function rs(i){let e,l=Ge(i[122].tags),t=[];for(let n=0;n<l.length;n+=1)t[n]=as(Pl(i,l,n));return{c(){e=h("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);for(let o=0;o<t.length;o+=1)t[o].l(s);s.forEach(u),this.h()},h(){a(e,"class","event-tags svelte-amswgv")},m(n,s){b(n,e,s);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,s){if(s[1]&1){l=Ge(n[122].tags);let o;for(o=0;o<l.length;o+=1){const r=Pl(n,l,o);t[o]?t[o].p(r,s):(t[o]=as(r),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function as(i){let e,l=i[140]+"",t;return{c(){e=h("span"),t=x(l),this.h()},l(n){e=d(n,"SPAN",{class:!0});var s=p(e);t=Z(s,l),s.forEach(u),this.h()},h(){a(e,"class","event-tag svelte-amswgv")},m(n,s){b(n,e,s),c(e,t)},p(n,s){s[1]&1&&l!==(l=n[140]+"")&&fe(t,l)},d(n){n&&u(e)}}}function cs(i){let e,l=Ge(i[122].links),t=[];for(let n=0;n<l.length;n+=1)t[n]=us(Nl(i,l,n));return{c(){e=h("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var s=p(e);for(let o=0;o<t.length;o+=1)t[o].l(s);s.forEach(u),this.h()},h(){a(e,"class","event-links svelte-amswgv")},m(n,s){b(n,e,s);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(n,s){if(s[1]&1){l=Ge(n[122].links);let o;for(o=0;o<l.length;o+=1){const r=Nl(n,l,o);t[o]?t[o].p(r,s):(t[o]=us(r),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function us(i){let e,l=i[137].type+"",t,n,s=i[137].target+"",o;return{c(){e=h("span"),t=x(l),n=x(": "),o=x(s),this.h()},l(r){e=d(r,"SPAN",{class:!0});var f=p(e);t=Z(f,l),n=Z(f,": "),o=Z(f,s),f.forEach(u),this.h()},h(){a(e,"class","event-link svelte-amswgv")},m(r,f){b(r,e,f),c(e,t),c(e,n),c(e,o)},p(r,f){f[1]&1&&l!==(l=r[137].type+"")&&fe(t,l),f[1]&1&&s!==(s=r[137].target+"")&&fe(o,s)},d(r){r&&u(e)}}}function fs(i){let e,l,t,n,s=St(i[122].content)+"",o,r,f,v=i[124]?"â–²":"â–¼",_,k,S,y=i[124]?"Collapse memory":"Expand memory",R,B,M,C,N,U,O,$,g,A,D,E,I,T,Q,W=new Date(i[122].timestamp).toLocaleString()+"",j,V,J,ne,re,Y,G;function ie(){return i[93](i[122])}function ae(){return i[94](i[122])}function he(){return i[95](i[122])}let se=i[124]&&os(i),oe=i[122].validation?.status&&is(i),z=i[122].tags&&i[122].tags.length>0&&rs(i),K=i[122].links&&i[122].links.length>0&&cs(i);return{c(){e=h("div"),l=h("div"),t=h("button"),n=h("span"),o=x(s),r=L(),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),M=L(),C=h("div"),N=h("button"),U=x("+"),$=L(),g=h("button"),A=x("âˆ’"),E=L(),se&&se.c(),I=L(),T=h("div"),Q=h("div"),j=x(W),V=L(),oe&&oe.c(),J=L(),z&&z.c(),ne=L(),K&&K.c(),re=L(),this.h()},l(te){e=d(te,"DIV",{class:!0});var q=p(e);l=d(q,"DIV",{class:!0});var ce=p(l);t=d(ce,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var ue=p(t);n=d(ue,"SPAN",{class:!0});var Ie=p(n);o=Z(Ie,s),Ie.forEach(u),r=P(ue),f=d(ue,"SPAN",{class:!0,"aria-hidden":!0});var pe=p(f);_=Z(pe,v),pe.forEach(u),k=P(ue),S=d(ue,"SPAN",{class:!0});var De=p(S);R=Z(De,y),De.forEach(u),ue.forEach(u),M=P(ce),C=d(ce,"DIV",{class:!0});var Ne=p(C);N=d(Ne,"BUTTON",{class:!0,title:!0});var $e=p(N);U=Z($e,"+"),$e.forEach(u),$=P(Ne),g=d(Ne,"BUTTON",{class:!0,title:!0});var qe=p(g);A=Z(qe,"âˆ’"),qe.forEach(u),Ne.forEach(u),ce.forEach(u),E=P(q),se&&se.l(q),I=P(q),T=d(q,"DIV",{class:!0});var Le=p(T);Q=d(Le,"DIV",{class:!0});var Te=p(Q);j=Z(Te,W),Te.forEach(u),V=P(Le),oe&&oe.l(Le),J=P(Le),z&&z.l(Le),ne=P(Le),K&&K.l(Le),Le.forEach(u),re=P(q),q.forEach(u),this.h()},h(){a(n,"class","event-card-title"),a(f,"class","event-toggle-icon svelte-amswgv"),a(f,"aria-hidden","true"),a(S,"class","sr-only svelte-amswgv"),a(t,"class","event-title-button svelte-amswgv"),a(t,"type","button"),a(t,"aria-expanded",B=i[124]),a(N,"class","val-btn good svelte-amswgv"),a(N,"title","Mark as correct"),N.disabled=O=i[26][i[122].relPath]||i[122].validation?.status==="correct",a(g,"class","val-btn bad svelte-amswgv"),a(g,"title","Delete memory"),g.disabled=D=i[27][i[122].relPath],a(C,"class","validation-controls svelte-amswgv"),a(l,"class","event-card-header"),a(Q,"class","event-card-time"),a(T,"class","event-card-meta"),a(e,"class","event-card ai-ingestor-card svelte-amswgv")},m(te,q){b(te,e,q),c(e,l),c(l,t),c(t,n),c(n,o),c(t,r),c(t,f),c(f,_),c(t,k),c(t,S),c(S,R),c(l,M),c(l,C),c(C,N),c(N,U),c(C,$),c(C,g),c(g,A),c(e,E),se&&se.m(e,null),c(e,I),c(e,T),c(T,Q),c(Q,j),c(T,V),oe&&oe.m(T,null),c(T,J),z&&z.m(T,null),c(T,ne),K&&K.m(T,null),c(e,re),Y||(G=[de(t,"click",ie),de(N,"click",ae),de(g,"click",he)],Y=!0)},p(te,q){i=te,q[1]&1&&s!==(s=St(i[122].content)+"")&&fe(o,s),q[0]&2097152|q[1]&1&&v!==(v=i[124]?"â–²":"â–¼")&&fe(_,v),q[0]&2097152|q[1]&1&&y!==(y=i[124]?"Collapse memory":"Expand memory")&&fe(R,y),q[0]&2097152|q[1]&1&&B!==(B=i[124])&&a(t,"aria-expanded",B),q[0]&67108864|q[1]&1&&O!==(O=i[26][i[122].relPath]||i[122].validation?.status==="correct")&&(N.disabled=O),q[0]&134217728|q[1]&1&&D!==(D=i[27][i[122].relPath])&&(g.disabled=D),i[124]?se?se.p(i,q):(se=os(i),se.c(),se.m(e,I)):se&&(se.d(1),se=null),q[1]&1&&W!==(W=new Date(i[122].timestamp).toLocaleString()+"")&&fe(j,W),i[122].validation?.status?oe?oe.p(i,q):(oe=is(i),oe.c(),oe.m(T,J)):oe&&(oe.d(1),oe=null),i[122].tags&&i[122].tags.length>0?z?z.p(i,q):(z=rs(i),z.c(),z.m(T,ne)):z&&(z.d(1),z=null),i[122].links&&i[122].links.length>0?K?K.p(i,q):(K=cs(i),K.c(),K.m(T,null)):K&&(K.d(1),K=null)},d(te){te&&u(e),se&&se.d(),oe&&oe.d(),z&&z.d(),K&&K.d(),Y=!1,_t(G)}}}function ds(i){let e;function l(s,o){return s[132].relPath?na:ta}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function ta(i){let e,l='<pre class="svelte-amswgv">No file path available for this entry.</pre>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-xe3pgz"&&(e.innerHTML=l),this.h()},h(){a(e,"class","event-body svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function na(i){let e;function l(s,o){return s[22][s[132].relPath]?.status==="loading"?oa:s[22][s[132].relPath]?.status==="error"?sa:la}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function la(i){let e,l,t=(i[22][i[132].relPath]?.content??"")+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&4198400&&t!==(t=(s[22][s[132].relPath]?.content??"")+"")&&fe(n,t)},d(s){s&&u(e)}}}function sa(i){let e,l,t=i[22][i[132].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load file: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load file: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&4198400&&t!==(t=s[22][s[132].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function oa(i){let e,l="Loading curated contentâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-6k2spv"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function hs(i){let e,l,t,n,s=i[132].name+"",o,r,f,v=i[124]?"â–²":"â–¼",_,k,S,y=i[124]?"Collapse memory":"Expand memory",R,B,M,C,N,U,O=i[132].relPath+"",$,g,A;function D(){return i[92](i[132])}let E=i[124]&&ds(i);return{c(){e=h("div"),l=h("div"),t=h("button"),n=h("span"),o=x(s),r=L(),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),M=L(),E&&E.c(),C=L(),N=h("div"),U=h("div"),$=x(O),this.h()},l(I){e=d(I,"DIV",{class:!0});var T=p(e);l=d(T,"DIV",{class:!0});var Q=p(l);t=d(Q,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var W=p(t);n=d(W,"SPAN",{class:!0});var j=p(n);o=Z(j,s),j.forEach(u),r=P(W),f=d(W,"SPAN",{class:!0,"aria-hidden":!0});var V=p(f);_=Z(V,v),V.forEach(u),k=P(W),S=d(W,"SPAN",{class:!0});var J=p(S);R=Z(J,y),J.forEach(u),W.forEach(u),Q.forEach(u),M=P(T),E&&E.l(T),C=P(T),N=d(T,"DIV",{class:!0});var ne=p(N);U=d(ne,"DIV",{class:!0});var re=p(U);$=Z(re,O),re.forEach(u),ne.forEach(u),T.forEach(u),this.h()},h(){a(n,"class","event-card-title"),a(f,"class","event-toggle-icon svelte-amswgv"),a(f,"aria-hidden","true"),a(S,"class","sr-only svelte-amswgv"),a(t,"class","event-title-button svelte-amswgv"),a(t,"type","button"),a(t,"aria-expanded",B=i[124]),a(l,"class","event-card-header"),a(U,"class","event-card-time"),a(N,"class","event-card-meta"),a(e,"class","event-card")},m(I,T){b(I,e,T),c(e,l),c(l,t),c(t,n),c(n,o),c(t,r),c(t,f),c(f,_),c(t,k),c(t,S),c(S,R),c(e,M),E&&E.m(e,null),c(e,C),c(e,N),c(N,U),c(U,$),g||(A=de(t,"click",D),g=!0)},p(I,T){i=I,T[0]&4096&&s!==(s=i[132].name+"")&&fe(o,s),T[0]&2101248&&v!==(v=i[124]?"â–²":"â–¼")&&fe(_,v),T[0]&2101248&&y!==(y=i[124]?"Collapse memory":"Expand memory")&&fe(R,y),T[0]&2101248&&B!==(B=i[124])&&a(t,"aria-expanded",B),i[124]?E?E.p(i,T):(E=ds(i),E.c(),E.m(e,C)):E&&(E.d(1),E=null),T[0]&4096&&O!==(O=i[132].relPath+"")&&fe($,O)},d(I){I&&u(e),E&&E.d(),g=!1,A()}}}function vs(i){let e,l='<div class="empty-title">No curated files</div>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1j2q51e"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function _s(i){let e;function l(s,o){return s[129].relPath?ra:ia}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function ia(i){let e,l,t=JSON.stringify(i[129],null,2)+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&2048&&t!==(t=JSON.stringify(s[129],null,2)+"")&&fe(n,t)},d(s){s&&u(e)}}}function ra(i){let e;function l(s,o){return s[22][s[129].relPath]?.status==="loading"?ua:s[22][s[129].relPath]?.status==="error"?ca:aa}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function aa(i){let e,l,t=(i[22][i[129].relPath]?.content??JSON.stringify(i[129],null,2))+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&4196352&&t!==(t=(s[22][s[129].relPath]?.content??JSON.stringify(s[129],null,2))+"")&&fe(n,t)},d(s){s&&u(e)}}}function ca(i){let e,l,t=i[22][i[129].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load task: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load task: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&4196352&&t!==(t=s[22][s[129].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function ua(i){let e,l="Loading task contentâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-jkbic4"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function ms(i){let e,l,t,n,s=St(i[129].title,200)+"",o,r,f,v=i[124]?"â–²":"â–¼",_,k,S,y=i[124]?"Collapse memory":"Expand memory",R,B,M,C,N,U,O=(i[129].updated?new Date(i[129].updated).toLocaleString():"")+"",$,g,A,D=i[129].status+"",E,I=i[129].priority?` â€¢ ${i[129].priority}`:"",T,Q,W;function j(){return i[91](i[129])}let V=i[124]&&_s(i);return{c(){e=h("div"),l=h("div"),t=h("button"),n=h("span"),o=x(s),r=L(),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),M=L(),V&&V.c(),C=L(),N=h("div"),U=h("div"),$=x(O),g=L(),A=h("div"),E=x(D),T=x(I),this.h()},l(J){e=d(J,"DIV",{class:!0});var ne=p(e);l=d(ne,"DIV",{class:!0});var re=p(l);t=d(re,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var Y=p(t);n=d(Y,"SPAN",{class:!0});var G=p(n);o=Z(G,s),G.forEach(u),r=P(Y),f=d(Y,"SPAN",{class:!0,"aria-hidden":!0});var ie=p(f);_=Z(ie,v),ie.forEach(u),k=P(Y),S=d(Y,"SPAN",{class:!0});var ae=p(S);R=Z(ae,y),ae.forEach(u),Y.forEach(u),re.forEach(u),M=P(ne),V&&V.l(ne),C=P(ne),N=d(ne,"DIV",{class:!0});var he=p(N);U=d(he,"DIV",{class:!0});var se=p(U);$=Z(se,O),se.forEach(u),g=P(he),A=d(he,"DIV",{class:!0});var oe=p(A);E=Z(oe,D),T=Z(oe,I),oe.forEach(u),he.forEach(u),ne.forEach(u),this.h()},h(){a(n,"class","event-card-title"),a(f,"class","event-toggle-icon svelte-amswgv"),a(f,"aria-hidden","true"),a(S,"class","sr-only svelte-amswgv"),a(t,"class","event-title-button svelte-amswgv"),a(t,"type","button"),a(t,"aria-expanded",B=i[124]),a(l,"class","event-card-header"),a(U,"class","event-card-time"),a(A,"class","event-valid svelte-amswgv"),a(N,"class","event-card-meta"),a(e,"class","event-card")},m(J,ne){b(J,e,ne),c(e,l),c(l,t),c(t,n),c(n,o),c(t,r),c(t,f),c(f,_),c(t,k),c(t,S),c(S,R),c(e,M),V&&V.m(e,null),c(e,C),c(e,N),c(N,U),c(U,$),c(N,g),c(N,A),c(A,E),c(A,T),Q||(W=de(t,"click",j),Q=!0)},p(J,ne){i=J,ne[0]&2048&&s!==(s=St(i[129].title,200)+"")&&fe(o,s),ne[0]&2099200&&v!==(v=i[124]?"â–²":"â–¼")&&fe(_,v),ne[0]&2099200&&y!==(y=i[124]?"Collapse memory":"Expand memory")&&fe(R,y),ne[0]&2099200&&B!==(B=i[124])&&a(t,"aria-expanded",B),i[124]?V?V.p(i,ne):(V=_s(i),V.c(),V.m(e,C)):V&&(V.d(1),V=null),ne[0]&2048&&O!==(O=(i[129].updated?new Date(i[129].updated).toLocaleString():"")+"")&&fe($,O),ne[0]&2048&&D!==(D=i[129].status+"")&&fe(E,D),ne[0]&2048&&I!==(I=i[129].priority?` â€¢ ${i[129].priority}`:"")&&fe(T,I)},d(J){J&&u(e),V&&V.d(),Q=!1,W()}}}function ps(i){let e,l='<div class="empty-title">No active tasks</div>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-v7ykgl"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},d(t){t&&u(e)}}}function fa(i){let e,l=Ge(i[33]),t=[];for(let n=0;n<l.length;n+=1)t[n]=ks(Ol(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=H()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=H()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);b(n,e,s)},p(n,s){if(s[0]&207618048|s[1]&3460){l=Ge(n[33]);let o;for(o=0;o<l.length;o+=1){const r=Ol(n,l,o);t[o]?t[o].p(r,s):(t[o]=ks(r),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),bt(t,n)}}}function da(i){let e,l='<div class="empty-icon">ðŸªž</div> <div class="empty-title">No reflections yet</div> <div class="empty-description">Reflections are generated by the boredom service and reflector agent. Trigger the reflector to populate this section.</div>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1fmvcg3"&&(e.innerHTML=l),this.h()},h(){a(e,"class","empty-state")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function gs(i){let e;function l(s,o){return s[122].relPath?va:ha}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function ha(i){let e,l,t=i[122].content+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[1]&4&&t!==(t=s[122].content+"")&&fe(n,t)},d(s){s&&u(e)}}}function va(i){let e;function l(s,o){return s[22][s[122].relPath]?.status==="loading"?pa:s[22][s[122].relPath]?.status==="error"?ma:_a}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function _a(i){let e,l,t=(i[22][i[122].relPath]?.content??i[122].content)+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&4194304|o[1]&4&&t!==(t=(s[22][s[122].relPath]?.content??s[122].content)+"")&&fe(n,t)},d(s){s&&u(e)}}}function ma(i){let e,l,t=i[22][i[122].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load reflection: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load reflection: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&4194304|o[1]&4&&t!==(t=s[22][s[122].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function pa(i){let e,l="Loading reflectionâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-zw0mch"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function bs(i){let e,l=i[122].validation.status+"",t,n;return{c(){e=h("div"),t=x(l),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);t=Z(o,l),o.forEach(u),this.h()},h(){a(e,"class",n="event-valid "+i[122].validation.status+" svelte-amswgv")},m(s,o){b(s,e,o),c(e,t)},p(s,o){o[1]&4&&l!==(l=s[122].validation.status+"")&&fe(t,l),o[1]&4&&n!==(n="event-valid "+s[122].validation.status+" svelte-amswgv")&&a(e,"class",n)},d(s){s&&u(e)}}}function ks(i){let e,l,t,n,s=St(i[122].content)+"",o,r,f,v=i[124]?"â–²":"â–¼",_,k,S,y=i[124]?"Collapse memory":"Expand memory",R,B,M,C,N,U='<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',O,$,g,A,D,E,I,T,Q,W,j,V,J=new Date(i[122].timestamp).toLocaleString()+"",ne,re,Y,G,ie;function ae(){return i[87](i[122])}function he(){return i[88](i[122])}function se(){return i[89](i[122])}function oe(){return i[90](i[122])}let z=i[124]&&gs(i),K=i[122].validation?.status&&bs(i);return{c(){e=h("div"),l=h("div"),t=h("button"),n=h("span"),o=x(s),r=L(),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),M=L(),C=h("div"),N=h("button"),N.innerHTML=U,O=L(),$=h("button"),g=x("+"),D=L(),E=h("button"),I=x("âˆ’"),Q=L(),z&&z.c(),W=L(),j=h("div"),V=h("div"),ne=x(J),re=L(),K&&K.c(),Y=L(),this.h()},l(te){e=d(te,"DIV",{class:!0});var q=p(e);l=d(q,"DIV",{class:!0});var ce=p(l);t=d(ce,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var ue=p(t);n=d(ue,"SPAN",{class:!0});var Ie=p(n);o=Z(Ie,s),Ie.forEach(u),r=P(ue),f=d(ue,"SPAN",{class:!0,"aria-hidden":!0});var pe=p(f);_=Z(pe,v),pe.forEach(u),k=P(ue),S=d(ue,"SPAN",{class:!0});var De=p(S);R=Z(De,y),De.forEach(u),ue.forEach(u),M=P(ce),C=d(ce,"DIV",{class:!0});var Ne=p(C);N=d(Ne,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(N)!=="svelte-162i9p"&&(N.innerHTML=U),O=P(Ne),$=d(Ne,"BUTTON",{class:!0,title:!0});var $e=p($);g=Z($e,"+"),$e.forEach(u),D=P(Ne),E=d(Ne,"BUTTON",{class:!0,title:!0});var qe=p(E);I=Z(qe,"âˆ’"),qe.forEach(u),Ne.forEach(u),ce.forEach(u),Q=P(q),z&&z.l(q),W=P(q),j=d(q,"DIV",{class:!0});var Le=p(j);V=d(Le,"DIV",{class:!0});var Te=p(V);ne=Z(Te,J),Te.forEach(u),re=P(Le),K&&K.l(Le),Le.forEach(u),Y=P(q),q.forEach(u),this.h()},h(){a(n,"class","event-card-title"),a(f,"class","event-toggle-icon svelte-amswgv"),a(f,"aria-hidden","true"),a(S,"class","sr-only svelte-amswgv"),a(t,"class","event-title-button svelte-amswgv"),a(t,"type","button"),a(t,"aria-expanded",B=i[124]),a(N,"class","val-btn edit svelte-amswgv"),a(N,"title","Edit reflection"),a($,"class","val-btn good svelte-amswgv"),a($,"title","Mark as correct"),$.disabled=A=i[26][i[122].relPath]||i[122].validation?.status==="correct",a(E,"class","val-btn bad svelte-amswgv"),a(E,"title","Delete memory"),E.disabled=T=i[27][i[122].relPath],a(C,"class","validation-controls svelte-amswgv"),a(l,"class","event-card-header"),a(V,"class","event-card-time"),a(j,"class","event-card-meta"),a(e,"class","event-card")},m(te,q){b(te,e,q),c(e,l),c(l,t),c(t,n),c(n,o),c(t,r),c(t,f),c(f,_),c(t,k),c(t,S),c(S,R),c(l,M),c(l,C),c(C,N),c(C,O),c(C,$),c($,g),c(C,D),c(C,E),c(E,I),c(e,Q),z&&z.m(e,null),c(e,W),c(e,j),c(j,V),c(V,ne),c(j,re),K&&K.m(j,null),c(e,Y),G||(ie=[de(t,"click",ae),de(N,"click",Fn(he)),de($,"click",se),de(E,"click",oe)],G=!0)},p(te,q){i=te,q[1]&4&&s!==(s=St(i[122].content)+"")&&fe(o,s),q[0]&2097152|q[1]&4&&v!==(v=i[124]?"â–²":"â–¼")&&fe(_,v),q[0]&2097152|q[1]&4&&y!==(y=i[124]?"Collapse memory":"Expand memory")&&fe(R,y),q[0]&2097152|q[1]&4&&B!==(B=i[124])&&a(t,"aria-expanded",B),q[0]&67108864|q[1]&4&&A!==(A=i[26][i[122].relPath]||i[122].validation?.status==="correct")&&($.disabled=A),q[0]&134217728|q[1]&4&&T!==(T=i[27][i[122].relPath])&&(E.disabled=T),i[124]?z?z.p(i,q):(z=gs(i),z.c(),z.m(e,W)):z&&(z.d(1),z=null),q[1]&4&&J!==(J=new Date(i[122].timestamp).toLocaleString()+"")&&fe(ne,J),i[122].validation?.status?K?K.p(i,q):(K=bs(i),K.c(),K.m(j,null)):K&&(K.d(1),K=null)},d(te){te&&u(e),z&&z.d(),K&&K.d(),G=!1,_t(ie)}}}function ws(i){let e;function l(s,o){return s[122].relPath?ba:ga}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function ga(i){let e,l,t=i[122].content+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[1]&8&&t!==(t=s[122].content+"")&&fe(n,t)},d(s){s&&u(e)}}}function ba(i){let e;function l(s,o){return s[22][s[122].relPath]?.status==="loading"?ya:s[22][s[122].relPath]?.status==="error"?wa:ka}let t=l(i),n=t(i);return{c(){n.c(),e=H()},l(s){n.l(s),e=H()},m(s,o){n.m(s,o),b(s,e,o)},p(s,o){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){s&&u(e),n.d(s)}}}function ka(i){let e,l,t=(i[22][i[122].relPath]?.content??i[122].content)+"",n;return{c(){e=h("div"),l=h("pre"),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=d(o,"PRE",{class:!0});var r=p(l);n=Z(r,t),r.forEach(u),o.forEach(u),this.h()},h(){a(l,"class","svelte-amswgv"),a(e,"class","event-body svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(l,n)},p(s,o){o[0]&4194304|o[1]&8&&t!==(t=(s[22][s[122].relPath]?.content??s[122].content)+"")&&fe(n,t)},d(s){s&&u(e)}}}function wa(i){let e,l,t=i[22][i[122].relPath]?.error+"",n;return{c(){e=h("div"),l=x("Failed to load memory: "),n=x(t),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);l=Z(o,"Failed to load memory: "),n=Z(o,t),o.forEach(u),this.h()},h(){a(e,"class","event-body error svelte-amswgv")},m(s,o){b(s,e,o),c(e,l),c(e,n)},p(s,o){o[0]&4194304|o[1]&8&&t!==(t=s[22][s[122].relPath]?.error+"")&&fe(n,t)},d(s){s&&u(e)}}}function ya(i){let e,l="Loading full memoryâ€¦";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-hfkmvm"&&(e.textContent=l),this.h()},h(){a(e,"class","event-body loading svelte-amswgv")},m(t,n){b(t,e,n)},p:m,d(t){t&&u(e)}}}function ys(i){let e,l=i[122].validation.status+"",t,n;return{c(){e=h("div"),t=x(l),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=p(e);t=Z(o,l),o.forEach(u),this.h()},h(){a(e,"class",n="event-valid "+i[122].validation.status+" svelte-amswgv")},m(s,o){b(s,e,o),c(e,t)},p(s,o){o[1]&8&&l!==(l=s[122].validation.status+"")&&fe(t,l),o[1]&8&&n!==(n="event-valid "+s[122].validation.status+" svelte-amswgv")&&a(e,"class",n)},d(s){s&&u(e)}}}function Ts(i){let e,l,t,n,s=St(i[122].content)+"",o,r,f,v=i[124]?"â–²":"â–¼",_,k,S,y=i[124]?"Collapse memory":"Expand memory",R,B,M,C,N,U='<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',O,$,g,A,D,E,I,T,Q,W,j,V,J=new Date(i[122].timestamp).toLocaleString()+"",ne,re,Y,G,ie;function ae(){return i[83](i[122])}function he(){return i[84](i[122])}function se(){return i[85](i[122])}function oe(){return i[86](i[122])}let z=i[124]&&ws(i),K=i[122].validation?.status&&ys(i);return{c(){e=h("div"),l=h("div"),t=h("button"),n=h("span"),o=x(s),r=L(),f=h("span"),_=x(v),k=L(),S=h("span"),R=x(y),M=L(),C=h("div"),N=h("button"),N.innerHTML=U,O=L(),$=h("button"),g=x("+"),D=L(),E=h("button"),I=x("âˆ’"),Q=L(),z&&z.c(),W=L(),j=h("div"),V=h("div"),ne=x(J),re=L(),K&&K.c(),Y=L(),this.h()},l(te){e=d(te,"DIV",{class:!0});var q=p(e);l=d(q,"DIV",{class:!0});var ce=p(l);t=d(ce,"BUTTON",{class:!0,type:!0,"aria-expanded":!0});var ue=p(t);n=d(ue,"SPAN",{class:!0});var Ie=p(n);o=Z(Ie,s),Ie.forEach(u),r=P(ue),f=d(ue,"SPAN",{class:!0,"aria-hidden":!0});var pe=p(f);_=Z(pe,v),pe.forEach(u),k=P(ue),S=d(ue,"SPAN",{class:!0});var De=p(S);R=Z(De,y),De.forEach(u),ue.forEach(u),M=P(ce),C=d(ce,"DIV",{class:!0});var Ne=p(C);N=d(Ne,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(N)!=="svelte-adk0u1"&&(N.innerHTML=U),O=P(Ne),$=d(Ne,"BUTTON",{class:!0,title:!0});var $e=p($);g=Z($e,"+"),$e.forEach(u),D=P(Ne),E=d(Ne,"BUTTON",{class:!0,title:!0});var qe=p(E);I=Z(qe,"âˆ’"),qe.forEach(u),Ne.forEach(u),ce.forEach(u),Q=P(q),z&&z.l(q),W=P(q),j=d(q,"DIV",{class:!0});var Le=p(j);V=d(Le,"DIV",{class:!0});var Te=p(V);ne=Z(Te,J),Te.forEach(u),re=P(Le),K&&K.l(Le),Le.forEach(u),Y=P(q),q.forEach(u),this.h()},h(){a(n,"class","event-card-title"),a(f,"class","event-toggle-icon svelte-amswgv"),a(f,"aria-hidden","true"),a(S,"class","sr-only svelte-amswgv"),a(t,"class","event-title-button svelte-amswgv"),a(t,"type","button"),a(t,"aria-expanded",B=i[124]),a(N,"class","val-btn edit svelte-amswgv"),a(N,"title","Edit memory"),a($,"class","val-btn good svelte-amswgv"),a($,"title","Mark as correct"),$.disabled=A=i[26][i[122].relPath]||i[122].validation?.status==="correct",a(E,"class","val-btn bad svelte-amswgv"),a(E,"title","Delete memory"),E.disabled=T=i[27][i[122].relPath],a(C,"class","validation-controls svelte-amswgv"),a(l,"class","event-card-header"),a(V,"class","event-card-time"),a(j,"class","event-card-meta"),a(e,"class","event-card")},m(te,q){b(te,e,q),c(e,l),c(l,t),c(t,n),c(n,o),c(t,r),c(t,f),c(f,_),c(t,k),c(t,S),c(S,R),c(l,M),c(l,C),c(C,N),c(C,O),c(C,$),c($,g),c(C,D),c(C,E),c(E,I),c(e,Q),z&&z.m(e,null),c(e,W),c(e,j),c(j,V),c(V,ne),c(j,re),K&&K.m(j,null),c(e,Y),G||(ie=[de(t,"click",ae),de(N,"click",Fn(he)),de($,"click",se),de(E,"click",oe)],G=!0)},p(te,q){i=te,q[1]&8&&s!==(s=St(i[122].content)+"")&&fe(o,s),q[0]&2097152|q[1]&8&&v!==(v=i[124]?"â–²":"â–¼")&&fe(_,v),q[0]&2097152|q[1]&8&&y!==(y=i[124]?"Collapse memory":"Expand memory")&&fe(R,y),q[0]&2097152|q[1]&8&&B!==(B=i[124])&&a(t,"aria-expanded",B),q[0]&67108864|q[1]&8&&A!==(A=i[26][i[122].relPath]||i[122].validation?.status==="correct")&&($.disabled=A),q[0]&134217728|q[1]&8&&T!==(T=i[27][i[122].relPath])&&(E.disabled=T),i[124]?z?z.p(i,q):(z=ws(i),z.c(),z.m(e,W)):z&&(z.d(1),z=null),q[1]&8&&J!==(J=new Date(i[122].timestamp).toLocaleString()+"")&&fe(ne,J),i[122].validation?.status?K?K.p(i,q):(K=ys(i),K.c(),K.m(j,null)):K&&(K.d(1),K=null)},d(te){te&&u(e),z&&z.d(),K&&K.d(),G=!1,_t(ie)}}}function Ta(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Ca(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Sa(i){let e,l="Loading persona editor...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-yfl91e"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Ea(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:La,then:Pa,catch:Na,value:121,blocks:[,,,]};return tt(i[35]("TrainingMonitor"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ma(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Ra,then:Oa,catch:Va,value:121,blocks:[,,,]};return tt(i[35]("SystemControls"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ia(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Fa,then:Ua,catch:Ba,value:121,blocks:[,,,]};return tt(i[35]("DatasetManagement"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Da(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:ja,then:$a,catch:Ha,value:121,blocks:[,,,]};return tt(i[35]("TrainingHistory"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Aa(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Wa,then:qa,catch:za,value:121,blocks:[,,,]};return tt(i[35]("TrainingWizard"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Na(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Pa(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function La(i){let e,l="Loading training monitor...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-l2y1o5"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Va(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Oa(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Ra(i){let e,l="Loading system controls...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-vdj1zy"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Ba(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Ua(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Fa(i){let e,l="Loading dataset management...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1c3zn6k"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Ha(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function $a(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function ja(i){let e,l="Loading training history...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-98fvaz"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function za(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function qa(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Wa(i){let e,l="Loading training wizard...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-95twla"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Ga(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Xa,then:Ka,catch:Ya,value:121,blocks:[,,,]};return tt(i[35]("VoiceSettings"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Ja(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:ec,then:xa,catch:Za,value:121,blocks:[,,,]};return tt(i[35]("VoiceTrainingWidget"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function Qa(i){let e,l,t,n={ctx:i,current:null,token:null,hasCatch:!1,pending:lc,then:nc,catch:tc,value:121,blocks:[,,,]};tt(i[35]("AudioUpload"),n);let s={ctx:i,current:null,token:null,hasCatch:!1,pending:ic,then:oc,catch:sc,value:121,blocks:[,,,]};return tt(i[35]("AudioRecorder"),s),{c(){e=h("div"),n.block.c(),l=L(),s.block.c(),this.h()},l(o){e=d(o,"DIV",{class:!0});var r=p(e);n.block.l(r),l=P(r),s.block.l(r),r.forEach(u),this.h()},h(){a(e,"class","audio-grid svelte-amswgv")},m(o,r){b(o,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=l,c(e,l),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,t=!0},p(o,r){i=o,nt(n,i,r),nt(s,i,r)},i(o){t||(ee(n.block),ee(s.block),t=!0)},o(o){for(let r=0;r<3;r+=1){const f=n.blocks[r];le(f)}for(let r=0;r<3;r+=1){const f=s.blocks[r];le(f)}t=!1},d(o){o&&u(e),n.block.d(),n.token=null,n=null,s.block.d(),s.token=null,s=null}}}function Ya(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Ka(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function Xa(i){let e,l="Loading settings...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-3kyavm"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Za(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function xa(i){let e,l,t;var n=i[121];function s(o,r){return{props:{provider:o[20]}}}return n&&(e=Ce(n,s(i))),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s(o)),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}else if(n){const f={};r[0]&1048576&&(f.provider=o[20]),e.$set(f)}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function ec(i){let e,l="Loading voice training...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-qdk835"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function tc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function nc(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function lc(i){let e,l="Loading...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-18if4hz"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function sc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function oc(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function ic(i){let e,l="Loading...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-18if4hz"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function rc(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:dc,then:fc,catch:uc,value:121,blocks:[,,,]};return tt(i[35]("ApprovalQueue"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function ac(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:_c,then:vc,catch:hc,value:121,blocks:[,,,]};return tt(i[35]("TaskManager"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function cc(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:gc,then:pc,catch:mc,value:121,blocks:[,,,]};return tt(i[35]("Dashboard"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function uc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function fc(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function dc(i){let e,l="Loading approvals...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-kato2f"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function hc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function vc(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function _c(i){let e,l="Loading tasks...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1hexr1h"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function mc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function pc(i){let e,l,t;var n=i[121];function s(o,r){return{}}return n&&(e=Ce(n,s())),{c(){e&&ye(e.$$.fragment),l=H()},l(o){e&&ze(e.$$.fragment,o),l=H()},m(o,r){e&&we(e,o,r),b(o,l,r),t=!0},p(o,r){if(n!==(n=o[121])){if(e){Re();const f=e;le(f.$$.fragment,1,0,()=>{ke(f,1)}),Be()}n?(e=Ce(n,s()),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,l.parentNode,l)):e=null}},i(o){t||(e&&ee(e.$$.fragment,o),t=!0)},o(o){e&&le(e.$$.fragment,o),t=!1},d(o){o&&u(l),e&&ke(e,o)}}}function gc(i){let e,l="Loading dashboard...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-pydp43"&&(e.textContent=l),this.h()},h(){a(e,"class","loading-placeholder svelte-amswgv")},m(t,n){b(t,e,n)},p:m,i:m,o:m,d(t){t&&u(e)}}}function Cs(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:wc,then:kc,catch:bc,value:121,blocks:[,,,]};return tt(i[35]("MemoryEditor"),t),{c(){e=H(),t.block.c()},l(n){e=H(),t.block.l(n)},m(n,s){b(n,e,s),t.block.m(n,t.anchor=s),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,s){i=n,nt(t,i,s)},i(n){l||(ee(t.block),l=!0)},o(n){for(let s=0;s<3;s+=1){const o=t.blocks[s];le(o)}l=!1},d(n){n&&u(e),t.block.d(n),t.token=null,t=null}}}function bc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function kc(i){let e,l,t,n;function s(f){i[113](f)}var o=i[121];function r(f,v){let _={relPath:f[24],memoryType:f[25]};return f[23]!==void 0&&(_.isOpen=f[23]),{props:_}}return o&&(e=Ce(o,r(i)),Ut.push(()=>Vn(e,"isOpen",s)),e.$on("saved",i[40]),e.$on("close",i[114])),{c(){e&&ye(e.$$.fragment),t=H()},l(f){e&&ze(e.$$.fragment,f),t=H()},m(f,v){e&&we(e,f,v),b(f,t,v),n=!0},p(f,v){if(o!==(o=f[121])){if(e){Re();const _=e;le(_.$$.fragment,1,0,()=>{ke(_,1)}),Be()}o?(e=Ce(o,r(f)),Ut.push(()=>Vn(e,"isOpen",s)),e.$on("saved",f[40]),e.$on("close",f[114]),ye(e.$$.fragment),ee(e.$$.fragment,1),we(e,t.parentNode,t)):e=null}else if(o){const _={};v[0]&16777216&&(_.relPath=f[24]),v[0]&33554432&&(_.memoryType=f[25]),!l&&v[0]&8388608&&(l=!0,_.isOpen=f[23],Is(()=>l=!1)),e.$set(_)}},i(f){n||(e&&ee(e.$$.fragment,f),n=!0)},o(f){e&&le(e.$$.fragment,f),n=!1},d(f){f&&u(t),e&&ke(e,f)}}}function wc(i){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function yc(i){let e,l,t,n,s,o;const r=[hi,di,fi,ui,ci,ai,ri,ii,oi],f=[];function v(k,S){return k[9]==="chat"?0:k[9]==="dashboard"?1:k[9]==="voice"?2:k[9]==="training"?3:k[9]==="persona"?4:k[9]==="system"?5:k[9]==="terminal"?6:k[9]==="agency"?7:k[9]==="system-coder"?8:-1}~(l=v(i))&&(t=f[l]=r[l](i));let _=i[23]&&Cs(i);return{c(){e=h("div"),t&&t.c(),n=L(),_&&_.c(),s=H(),this.h()},l(k){e=d(k,"DIV",{class:!0});var S=p(e);t&&t.l(S),S.forEach(u),n=P(k),_&&_.l(k),s=H(),this.h()},h(){a(e,"class","center-content svelte-amswgv")},m(k,S){b(k,e,S),~l&&f[l].m(e,null),b(k,n,S),_&&_.m(k,S),b(k,s,S),o=!0},p(k,S){let y=l;l=v(k),l===y?~l&&f[l].p(k,S):(t&&(Re(),le(f[y],1,1,()=>{f[y]=null}),Be()),~l?(t=f[l],t?t.p(k,S):(t=f[l]=r[l](k),t.c()),ee(t,1),t.m(e,null)):t=null),k[23]?_?(_.p(k,S),S[0]&8388608&&ee(_,1)):(_=Cs(k),_.c(),ee(_,1),_.m(s.parentNode,s)):_&&(Re(),le(_,1,1,()=>{_=null}),Be())},i(k){o||(ee(t),ee(_),o=!0)},o(k){le(t),le(_),o=!1},d(k){k&&(u(e),u(n),u(s)),~l&&f[l].d(),_&&_.d(k)}}}const Pt=50;function Ht(i,e){if(!e.trim())return i;const l=e.toLowerCase();return i.filter(t=>{const n=(t.content||"").toLowerCase(),s=(t.tags||[]).join(" ").toLowerCase();return n.includes(l)||s.includes(l)})}function $t(i,e,l){const t=(e-1)*l;return i.slice(t,t+l)}function Vt(i){return i.relPath?i.relPath:i.id?i.id:"name"in i&&typeof i.name=="string"?i.name:null}function St(i="",e=160){return i?i.length>e?`${i.slice(0,e)}â€¦`:i:""}function Tc(i,e,l){let t,n,s,o,r,f,v,_,k,S,y,R,B,M,C,N,U,O;ft(i,jn,w=>l(9,O=w));let $=!1;const g=new Map;async function A(w){if(g.has(w))return g.get(w);let F;switch(w){case"Dashboard":F=await We(()=>import("./Dashboard.ayOgYq4N.js"),__vite__mapDeps([3,2]));break;case"TaskManager":F=await We(()=>import("./TaskManager.KJUIVVpn.js"),__vite__mapDeps([4,2,5,1]));break;case"ApprovalQueue":F=await We(()=>import("./ApprovalQueue.BPiN6N0X.js"),__vite__mapDeps([6,2,5,1,7]));break;case"Terminal":F=await We(()=>import("./Terminal.BRGsR5k1.js"),__vite__mapDeps([8,2]));break;case"MemoryControls":F=await We(()=>import("./MemoryControls.CIJvKiEl.js"),__vite__mapDeps([9,2]));break;case"AudioUpload":F=await We(()=>import("./AudioUpload.BJDU8XBe.js"),__vite__mapDeps([10,2,11]));break;case"AudioRecorder":F=await We(()=>import("./AudioRecorder.DWhqzvut.js"),__vite__mapDeps([12,2]));break;case"VoiceTrainingWidget":F=await We(()=>import("./VoiceTrainingWidget.WNhe8l1W.js"),__vite__mapDeps([13,2,14]));break;case"VoiceSettings":F=await We(()=>import("./VoiceSettings.BI5W5J24.js"),__vite__mapDeps([15,2,16,1,5,17,18,19,20]));break;case"AdapterDashboard":F=await We(()=>import("./AdapterDashboard.mM2cYl2h.js"),__vite__mapDeps([21,2,22,23]));break;case"TrainingMonitor":F=await We(()=>import("./TrainingMonitor.DnJM5Mjp.js"),__vite__mapDeps([24,2,25]));break;case"OnboardingWizard":F=await We(()=>import("./OnboardingWizard.DSfYXmk6.js"),__vite__mapDeps([26,2,27]));break;case"TrainingWizard":F=await We(()=>import("./TrainingWizard.BqHDeEFj.js"),__vite__mapDeps([28,2,29]));break;case"TrainingHistory":F=await We(()=>import("./TrainingHistory.pYTCMMyS.js"),__vite__mapDeps([30,2,31]));break;case"DatasetManagement":F=await We(()=>import("./DatasetManagement.CtfKXK9e.js"),__vite__mapDeps([32,2,22,33]));break;case"SystemControls":F=await We(()=>import("./SystemControls.4T9zyIZl.js"),__vite__mapDeps([34,2,22,35]));break;case"Lifeline":F=await We(()=>import("./Lifeline.CZtGKA_o.js"),__vite__mapDeps([36,2,37]));break;case"OvernightLearnings":F=await We(()=>import("./OvernightLearnings.BQje5I0g.js"),__vite__mapDeps([38,2,39,1]));break;case"SystemSettings":F=await We(()=>import("./SystemSettings.-hs4SVCd.js"),__vite__mapDeps([40,2,41]));break;case"BackendSettings":F=await We(()=>import("./BackendSettings.Byu9OVil.js"),__vite__mapDeps([42,2,16,1,43]));break;case"SecuritySettings":F=await We(()=>import("./SecuritySettings.DdEnO-vI.js"),__vite__mapDeps([44,2,16,1,45]));break;case"NetworkSettings":F=await We(()=>import("./NetworkSettings.1cuGM0-V.js"),__vite__mapDeps([46,2,47]));break;case"ChatSettings":F=await We(()=>import("./ChatSettings.BVeHkyTy.js"),__vite__mapDeps([48,2]));break;case"MemoryEditor":F=await We(()=>import("./MemoryEditor.BhxhyPWE.js"),__vite__mapDeps([49,2]));break;case"PersonaGenerator":F=await We(()=>import("./PersonaGenerator.DdPx2X5b.js"),__vite__mapDeps([50,2,51]));break;case"PersonaEditor":F=await We(()=>import("./PersonaEditor.ClVfGf5z.js"),__vite__mapDeps([52,2,53]));break;case"AddonsManager":F=await We(()=>import("./AddonsManager.lOa4ejve.js"),__vite__mapDeps([54,2,55]));break;case"SchedulerSettings":F=await We(()=>import("./SchedulerSettings.De5_qJ_9.js"),__vite__mapDeps([56,2,57,58]));break;case"ProfileLocation":F=await We(()=>import("./ProfileLocation.BpGYg7bT.js"),__vite__mapDeps([59,2,60]));break;case"ServerSettings":F=await We(()=>import("./ServerSettings.DyNf2q9s.js"),__vite__mapDeps([61,2,18,1,62,16,19,63,5,17,64]));break;case"TerminalManager":F=await We(()=>import("./TerminalManager.C22roS4c.js"),__vite__mapDeps([65,2,0,1]));break;case"AgencyDashboard":F=await We(()=>import("./AgencyDashboard.CdMPaEC1.js"),__vite__mapDeps([66,2,5,1,67]));break;case"SystemCoderDashboard":F=await We(()=>import("./SystemCoderDashboard.6w1tkBaJ.js"),__vite__mapDeps([68,2,1,69]));break;default:throw new Error(`Unknown component: ${w}`)}const me=F.default;return g.set(w,me),me}let D=[],E=[],I=[],T=[],Q=[],W=[],j=[],V=[],J=[],ne=!1,re=null,Y="",G=1,ie="editor",ae="episodic",he="upload",se="wizard",oe="settings",z="overview",K="rvc",te={},q={},ce=!1,ue="",Ie="Memory";async function pe(){try{const w=await xe("/api/voice-settings");if(w.ok){const F=await w.json();l(20,K=F.provider||"rvc")}}catch(w){console.error("[CenterContent] Error loading voice provider:",w)}}async function De(){if(!(O!=="persona"||ie!=="memory")){l(15,ne=!0),l(16,re=null);try{const w=await xe("/api/memories_all?limit=100");if(!w.ok)throw new Error(`HTTP ${w.status}`);const F=await w.json(),me=Array.isArray(F.episodic)?F.episodic:[],Xe=Array.isArray(F.reflections)?F.reflections:[],Nt=Array.isArray(F.dreams)?F.dreams:[];l(11,E=Array.isArray(F.tasks)?F.tasks:[]),l(12,I=Array.isArray(F.curated)?F.curated:[]),l(13,V=Array.isArray(F.curiosityQuestions)?F.curiosityQuestions:[]),console.log("--- Memory Buckets Fetched ---",{episodicEvents:me,reflections:Xe,dreams:Nt}),l(0,D=me),l(3,j=Xe),l(43,W=Nt),l(1,T=D.filter(rt=>rt.tags&&(rt.tags.includes("ingested")||rt.tags.includes("ai"))||rt.links&&rt.links.some(yt=>yt.type==="source"))),l(2,Q=D.filter(rt=>rt.tags&&(rt.tags.includes("audio")||rt.tags.includes("transcript")))),console.log("--- Filtered Audio Memories ---",Q);const Ot=[...D,...j,...T,...Q,...W],It=new Set(Ot.map(rt=>Vt(rt)).filter(rt=>!!rt));l(21,te=Object.fromEntries(Object.entries(te).filter(([rt])=>It.has(rt)))),l(22,q=Object.fromEntries(Object.entries(q).filter(([rt])=>It.has(rt))))}catch(w){console.error("Failed to load events:",w),l(16,re=w.message)}finally{l(15,ne=!1)}}}async function Ne(){try{const w=await xe("/api/functions?sortBy=qualityScore&sortOrder=desc");if(!w.ok)throw new Error(`HTTP ${w.status}`);const F=await w.json();l(14,J=Array.isArray(F.functions)?F.functions:[])}catch(w){console.error("Failed to load functions:",w),l(16,re=w.message)}}function $e(w){const F=Vt(w);if(console.log("[toggleExpanded]",{key:F,item:w,currentlyExpanded:te[F||""]}),!F)return;const me=!te[F];l(21,te={...te,[F]:me}),console.log("[toggleExpanded] Updated expanded state:",{key:F,next:me,hasRelPath:!!w.relPath}),me&&w.relPath&&(console.log("[toggleExpanded] Loading memory content for:",w.relPath),Te(w.relPath))}function qe(w,F="Memory"){l(24,ue=w),l(25,Ie=F),l(23,ce=!0)}function Le(){De()}async function Te(w){let F=q[w];if(!(F&&(F.status==="loading"||F.status==="ready"))){F?(F.status="loading",delete F.error,delete F.content,l(22,q={...q})):(F={status:"loading"},l(22,q={...q,[w]:F}));try{const me=await xe(`/api/memory-content?relPath=${encodeURIComponent(w)}`),Xe=await me.json();if(!me.ok||!Xe.success)throw new Error(Xe?.error||"Failed to load memory content");F.status="ready",F.content=Xe.content,l(22,q={...q})}catch(me){F.status="error",F.error=me.message,delete F.content,l(22,q={...q})}}}let Ae={},Ee={};async function Oe(w,F){if(!Ae[w.relPath]){l(26,Ae={...Ae,[w.relPath]:!0});try{const me=await xe("/api/memories/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relPath:w.relPath,status:F})}),Xe=await me.json();if(!me.ok||!Xe.success)throw new Error(Xe.error||"Failed to set validation");w.validation={status:F}}catch(me){console.error(me),alert(me.message)}finally{l(26,Ae={...Ae,[w.relPath]:!1})}}}async function Ye(w){if(!Ee[w.relPath]){l(27,Ee={...Ee,[w.relPath]:!0});try{const F=await xe("/api/memories/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relPath:w.relPath})}),me=await F.json();if(!F.ok||!me.success)throw new Error(me.error||"Failed to delete memory");l(0,D=D.filter(Xe=>Xe.relPath!==w.relPath))}catch(F){console.error(F),alert(F.message)}finally{l(27,Ee={...Ee,[w.relPath]:!1})}}}function lt(w){Ye(w)}const Pe=()=>l(19,z="overview"),kt=()=>l(19,z="tasks"),at=()=>l(19,z="approvals"),dt=()=>l(8,he="upload"),Tt=()=>{l(8,he="training"),pe()},Je=()=>l(8,he="settings"),Qe=()=>l(17,se="wizard"),Ze=()=>l(17,se="datasets"),Se=()=>l(17,se="manage"),Ke=()=>l(17,se="system"),gt=()=>l(17,se="monitor"),ct=()=>l(6,ie="editor"),wt=()=>l(6,ie="memory"),mt=()=>l(6,ie="generator"),Et=()=>l(7,ae="episodic"),ge=()=>l(7,ae="reflections"),Me=()=>l(7,ae="tasks"),it=()=>l(7,ae="curated"),ut=()=>l(7,ae="ai-ingestor"),pt=()=>l(7,ae="audio"),Ct=()=>l(7,ae="dreams"),Dt=()=>l(7,ae="curiosity"),Mt=()=>l(7,ae="functions");function _e(){Y=this.value,l(4,Y)}const be=()=>l(4,Y=""),Fe=()=>l(5,G=1),Ve=()=>l(5,G=Math.max(1,G-1)),je=()=>l(5,G=Math.min(N,G+1)),ht=()=>l(5,G=N),At=w=>$e(w),Wt=w=>qe(w.relPath,"Memory"),Gt=w=>Oe(w,"correct"),Jt=w=>lt(w),tn=w=>$e(w),nn=w=>qe(w.relPath,"Reflection"),Qt=w=>Oe(w,"correct"),ln=w=>lt(w),sn=w=>$e(w),on=w=>$e(w),rn=w=>$e(w),an=w=>Oe(w,"correct"),cn=w=>lt(w),un=w=>$e(w),fn=w=>Oe(w,"correct"),dn=w=>lt(w),hn=w=>$e(w),vn=w=>qe(w.relPath,"Dream"),_n=w=>qe(w.relPath,"Question"),mn=()=>{jn.set("chat")},pn=()=>l(18,oe="chat"),gn=()=>l(18,oe="settings"),bn=()=>l(18,oe="backend"),kn=()=>l(18,oe="security"),wn=()=>l(18,oe="storage"),yn=()=>l(18,oe="network"),Tn=()=>l(18,oe="server"),Cn=()=>l(18,oe="addons"),Sn=()=>l(18,oe="scheduler"),En=()=>l(18,oe="lifeline");function Mn(w){ce=w,l(23,ce)}const In=()=>l(23,ce=!1);if(i.$$.update=()=>{if(i.$$.dirty[0]&512&&O!=="persona"&&l(6,ie="editor"),i.$$.dirty[0]&576&&O==="persona"&&ie==="memory"&&(De(),Ne()),i.$$.dirty[0]&512&&O!=="voice"&&l(8,he="upload"),i.$$.dirty[0]&768&&O==="voice"&&he==="training"&&pe(),i.$$.dirty[0]&512&&O!=="training"&&l(17,se="datasets"),i.$$.dirty[0]&512&&O!=="system"&&l(18,oe="settings"),i.$$.dirty[0]&512&&O!=="dashboard"&&l(19,z="overview"),i.$$.dirty[0]&144&&(ae||Y!==void 0)&&l(5,G=1),i.$$.dirty[0]&17&&l(48,t=Ht(D,Y)),i.$$.dirty[0]&32|i.$$.dirty[1]&131072&&l(34,n=$t(t,G,Pt)),i.$$.dirty[1]&131072&&l(53,s=Math.ceil(t.length/Pt)),i.$$.dirty[0]&24&&l(47,o=Ht(j,Y)),i.$$.dirty[0]&32|i.$$.dirty[1]&65536&&l(33,r=$t(o,G,Pt)),i.$$.dirty[1]&65536&&l(52,f=Math.ceil(o.length/Pt)),i.$$.dirty[0]&16|i.$$.dirty[1]&4096&&l(46,v=Ht(W,Y)),i.$$.dirty[0]&32|i.$$.dirty[1]&32768&&l(32,_=$t(v,G,Pt)),i.$$.dirty[1]&32768&&l(51,k=Math.ceil(v.length/Pt)),i.$$.dirty[0]&18&&l(45,S=Ht(T,Y)),i.$$.dirty[0]&32|i.$$.dirty[1]&16384&&l(31,y=$t(S,G,Pt)),i.$$.dirty[1]&16384&&l(50,R=Math.ceil(S.length/Pt)),i.$$.dirty[0]&20&&l(44,B=Ht(Q,Y)),i.$$.dirty[0]&32|i.$$.dirty[1]&8192&&l(30,M=$t(B,G,Pt)),i.$$.dirty[1]&8192&&l(49,C=Math.ceil(B.length/Pt)),i.$$.dirty[0]&128|i.$$.dirty[1]&8126464&&l(29,N=(()=>{switch(ae){case"episodic":return s;case"reflections":return f;case"dreams":return k;case"ai-ingestor":return R;case"audio":return C;default:return 1}})()),i.$$.dirty[0]&128|i.$$.dirty[1]&253952&&l(28,U=(()=>{switch(ae){case"episodic":return t.length;case"reflections":return o.length;case"dreams":return v.length;case"ai-ingestor":return S.length;case"audio":return B.length;default:return 0}})()),i.$$.dirty[0]&512&&O&&O!=="chat")switch(O){case"dashboard":A("Dashboard"),A("TaskManager"),A("ApprovalQueue");break;case"voice":A("AudioUpload"),A("AudioRecorder"),A("VoiceTrainingWidget"),A("VoiceSettings");break;case"training":A("TrainingWizard"),A("TrainingHistory"),A("DatasetManagement"),A("SystemControls"),A("TrainingMonitor");break;case"persona":A("PersonaEditor"),A("MemoryControls"),A("PersonaGenerator");break;case"system":A("ChatSettings"),A("SystemSettings"),A("SecuritySettings"),A("ProfileLocation"),A("NetworkSettings"),A("AddonsManager"),A("Lifeline"),A("SchedulerSettings");break;case"terminal":A("TerminalManager");break}},typeof window<"u"&&typeof On=="function")try{l(10,$=On())}catch(w){console.error("[CenterContent] Error calling isMobileApp:",w),l(10,$=!1)}else l(10,$=!1);return[D,T,Q,j,Y,G,ie,ae,he,O,$,E,I,V,J,ne,re,se,oe,z,K,te,q,ce,ue,Ie,Ae,Ee,U,N,M,y,_,r,n,A,pe,De,$e,qe,Le,Oe,lt,W,B,S,v,o,t,C,R,k,f,s,Pe,kt,at,dt,Tt,Je,Qe,Ze,Se,Ke,gt,ct,wt,mt,Et,ge,Me,it,ut,pt,Ct,Dt,Mt,_e,be,Fe,Ve,je,ht,At,Wt,Gt,Jt,tn,nn,Qt,ln,sn,on,rn,an,cn,un,fn,dn,hn,vn,_n,mn,pn,gn,bn,kn,wn,yn,Tn,Cn,Sn,En,Mn,In]}class Rc extends jt{constructor(e){super(),zt(this,e,Tc,yc,qt,{},null,[-1,-1,-1,-1,-1,-1])}}export{Rc as C,Lt as T,As as a,Bt as b,An as c,Ns as d,Nc as e,Oc as f,Vc as g,Lc as h,Pc as i,xt as s,$n as t};
