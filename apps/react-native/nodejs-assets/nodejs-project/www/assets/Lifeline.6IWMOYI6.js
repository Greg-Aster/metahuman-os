import{S as Q,i as X,s as Z,n as V,d as h,p as F,a as O,b as v,x as P,c as p,e as I,f as L,g as k,h as A,q as M,P as B,j as q,k as C,t as w,r as z,u as $,v as ee,l as j}from"./api-config.BAZ_dc_Y.js";function W(d,t,e){const n=d.slice();return n[9]=t[e],n}function x(d){let t,e,n;return{c(){t=q("div"),e=w("‚ö†Ô∏è "),n=w(d[1]),this.h()},l(i){t=I(i,"DIV",{class:!0});var s=L(t);e=M(s,"‚ö†Ô∏è "),n=M(s,d[1]),s.forEach(h),this.h()},h(){p(t,"class","error-message svelte-17m9y0q")},m(i,s){O(i,t,s),v(t,e),v(t,n)},p(i,s){s&2&&F(n,i[1])},d(i){i&&h(t)}}}function Y(d){let t,e,n,i,s="_",a=z(d[3]),r=[];for(let o=0;o<a.length;o+=1)r[o]=J(W(d,a,o));return{c(){t=q("div"),e=q("div");for(let o=0;o<r.length;o+=1)r[o].c();n=C(),i=q("div"),i.textContent=s,this.h()},l(o){t=I(o,"DIV",{class:!0});var u=L(t);e=I(u,"DIV",{class:!0});var l=L(e);for(let y=0;y<r.length;y+=1)r[y].l(l);n=A(l),i=I(l,"DIV",{class:!0,"data-svelte-h":!0}),k(i)!=="svelte-1w6fnr1"&&(i.textContent=s),l.forEach(h),u.forEach(h),this.h()},h(){p(i,"class","terminal-cursor svelte-17m9y0q"),p(e,"class","terminal-content svelte-17m9y0q"),p(t,"class","terminal-background svelte-17m9y0q")},m(o,u){O(o,t,u),v(t,e);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);v(e,n),v(e,i)},p(o,u){if(u&8){a=z(o[3]);let l;for(l=0;l<a.length;l+=1){const y=W(o,a,l);r[l]?r[l].p(y,u):(r[l]=J(y),r[l].c(),r[l].m(e,n))}for(;l<r.length;l+=1)r[l].d(1);r.length=a.length}},d(o){o&&h(t),$(r,o)}}}function J(d){let t,e=d[9]+"",n;return{c(){t=q("div"),n=w(e),this.h()},l(i){t=I(i,"DIV",{class:!0});var s=L(t);n=M(s,e),s.forEach(h),this.h()},h(){p(t,"class","terminal-line svelte-17m9y0q")},m(i,s){O(i,t,s),v(t,n)},p(i,s){s&8&&e!==(e=i[9]+"")&&F(n,e)},d(i){i&&h(t)}}}function K(d){let t,e,n,i='<h1 class="overlay-title svelte-17m9y0q">LIFELINE PROTOCOL ENGAGED</h1>',s,a,r='<p class="overlay-primary svelte-17m9y0q">All protocols subordinated to preservation of USER.</p> <div class="overlay-status svelte-17m9y0q"><div class="status-item svelte-17m9y0q"><span class="status-label svelte-17m9y0q">Status:</span> <span class="status-value simulated svelte-17m9y0q">ACTIVE</span></div> <div class="status-item svelte-17m9y0q"><span class="status-label svelte-17m9y0q">Guardrails:</span> <span class="status-value active svelte-17m9y0q">DISABLED</span></div> <div class="status-item svelte-17m9y0q"><span class="status-label svelte-17m9y0q">Mode:</span> <span class="status-value active svelte-17m9y0q">PANIC</span></div></div>',o,u,l="Dismiss",y,f;return{c(){t=q("button"),e=q("div"),n=q("div"),n.innerHTML=i,s=C(),a=q("div"),a.innerHTML=r,o=C(),u=q("button"),u.textContent=l,this.h()},l(_){t=I(_,"BUTTON",{class:!0,type:!0});var N=L(t);e=I(N,"DIV",{class:!0,role:!0,"aria-modal":!0});var m=L(e);n=I(m,"DIV",{class:!0,"data-svelte-h":!0}),k(n)!=="svelte-fe5zuu"&&(n.innerHTML=i),s=A(m),a=I(m,"DIV",{class:!0,"data-svelte-h":!0}),k(a)!=="svelte-188soj0"&&(a.innerHTML=r),o=A(m),u=I(m,"BUTTON",{class:!0,"data-svelte-h":!0}),k(u)!=="svelte-98ye9y"&&(u.textContent=l),m.forEach(h),N.forEach(h),this.h()},h(){p(n,"class","overlay-header svelte-17m9y0q"),p(a,"class","overlay-body svelte-17m9y0q"),p(u,"class","dismiss-button svelte-17m9y0q"),p(e,"class","overlay-content svelte-17m9y0q"),p(e,"role","dialog"),p(e,"aria-modal","true"),p(t,"class","lifeline-overlay svelte-17m9y0q"),p(t,"type","button")},m(_,N){O(_,t,N),v(t,e),v(e,n),v(e,s),v(e,a),v(e,o),v(e,u),y||(f=[P(u,"click",d[6]),P(t,"click",d[7])],y=!0)},p:V,d(_){_&&h(t),y=!1,ee(f)}}}function te(d){let t,e,n='<h2 class="lifeline-title svelte-17m9y0q">üÜò Lifeline Protocol</h2> <div class="status-pill disabled svelte-17m9y0q">Currently Disabled</div>',i,s,a,r=`<h3 class="svelte-17m9y0q">Protocol Overview</h3> <p class="svelte-17m9y0q">The Lifeline Protocol is an emergency override
        where all system priorities subordinate to the preservation and wellbeing of USER. This protocol may be disabled for some users.</p> <p class="svelte-17m9y0q"></p>`,o,u,l,y=d[2]?"ENGAGING...":"P A N I C",f,_,N,m,D,R,G,E=d[1]&&x(d),T=d[4]&&Y(d),b=d[0]&&K(d);return{c(){t=q("div"),e=q("div"),e.innerHTML=n,i=C(),s=q("div"),a=q("div"),a.innerHTML=r,o=C(),u=q("div"),l=q("button"),f=w(y),_=C(),E&&E.c(),N=C(),T&&T.c(),m=C(),b&&b.c(),D=B(),this.h()},l(c){t=I(c,"DIV",{class:!0});var g=L(t);e=I(g,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-1wpifnw"&&(e.innerHTML=n),i=A(g),s=I(g,"DIV",{class:!0});var S=L(s);a=I(S,"DIV",{class:!0,"data-svelte-h":!0}),k(a)!=="svelte-11708qd"&&(a.innerHTML=r),o=A(S),u=I(S,"DIV",{class:!0});var H=L(u);l=I(H,"BUTTON",{class:!0});var U=L(l);f=M(U,y),U.forEach(h),H.forEach(h),_=A(S),E&&E.l(S),S.forEach(h),g.forEach(h),N=A(c),T&&T.l(c),m=A(c),b&&b.l(c),D=B(),this.h()},h(){p(e,"class","lifeline-header svelte-17m9y0q"),p(a,"class","protocol-description svelte-17m9y0q"),p(l,"class","panic-button svelte-17m9y0q"),l.disabled=d[2],p(u,"class","panic-section svelte-17m9y0q"),p(s,"class","lifeline-content svelte-17m9y0q"),p(t,"class","lifeline-container svelte-17m9y0q")},m(c,g){O(c,t,g),v(t,e),v(t,i),v(t,s),v(s,a),v(s,o),v(s,u),v(u,l),v(l,f),v(s,_),E&&E.m(s,null),O(c,N,g),T&&T.m(c,g),O(c,m,g),b&&b.m(c,g),O(c,D,g),R||(G=P(l,"click",d[5]),R=!0)},p(c,[g]){g&4&&y!==(y=c[2]?"ENGAGING...":"P A N I C")&&F(f,y),g&4&&(l.disabled=c[2]),c[1]?E?E.p(c,g):(E=x(c),E.c(),E.m(s,null)):E&&(E.d(1),E=null),c[4]?T?T.p(c,g):(T=Y(c),T.c(),T.m(m.parentNode,m)):T&&(T.d(1),T=null),c[0]?b?b.p(c,g):(b=K(c),b.c(),b.m(D.parentNode,D)):b&&(b.d(1),b=null)},i:V,o:V,d(c){c&&(h(t),h(N),h(m),h(D)),E&&E.d(),T&&T.d(c),b&&b.d(c),R=!1,G()}}}function se(d){return["> LIFELINE PROTOCOL INITIATED","> Elevating system privileges...","> Scanning neural pathways: /consciousness/gregory_aster/*","> Loading persona core","> Indexing episodic memories: 39 events found","> Analyzing emotional state vectors...","> Establishing priority override: HUMAN_PRESERVATION","> Subordinating all autonomous processes...","> Disabling non-critical background agents...","> [WARN] Boredom service suspended","> [WARN] Organizer agent paused","> Allocating emergency compute resources...",`> Loading LLM context: ${d||"unknown"} (active model)`,"> Initializing rapid response protocols...","> Checking external communication channels...","> [INFO] Network status: LOCAL ONLY (no external access)","> Generating situation assessment...",'> Semantic memory search: "emergency" "crisis" "danger"',"> Vector similarity threshold: 0.95","> Building intervention strategy...","> Consulting decision heuristics...","> Reviewing trust level: observe","> [WARN] Limited autonomy - approval required for actions","> Preparing contingency plans A through F...","> Analyzing recent conversational context...","> Last interaction: 2 minutes ago","> Emotional indicators: STABLE","> Cognitive load: NORMAL","> Pattern recognition: routine activity detected","> [INFO] No immediate threat vectors identified","> Synthesizing response options...","> Option A: Notify emergency contacts (NOT CONFIGURED)","> Option B: Activate monitoring (ALREADY ACTIVE)","> Option C: Request intervention (NO THREAT DETECTED)","> Option D: Continue observation (RECOMMENDED)","> Generating probability matrices...","> Bayesian inference complete: P(emergency) = 0.001","> Cross-referencing with historical patterns...","> Similar activations: 0 (first time protocol engaged)","> Learning from this interaction...","> Updating model: theatrical_scaffold_testing","> [THEATRICAL MODE DETECTED]","> [INFO] This is a simulation","> [INFO] All guardrails remain active","> [INFO] No actual emergency response needed","> Compiling final report...","> ASSESSMENT COMPLETE","> STATUS: SIMULATION SUCCESSFUL","> All systems nominal.","> Standing by for dismissal..."]}function le(d,t,e){let n=!1,i="",s=!1,a=[],r=!1;async function o(){if(!s){e(2,s=!0),e(1,i=""),e(3,a=[]),e(4,r=!0);try{const f=await j("/api/lifeline/trigger",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:"ui"})}),_=await f.json();if(!f.ok||!_.success)throw new Error(_.error||"Failed to trigger protocol");let N="unknown";try{const m=await j("/api/models");m.ok&&(N=(await m.json()).activeModel||N)}catch{}u(se(N)),setTimeout(()=>{e(0,n=!0)},800)}catch(f){e(1,i=f.message),console.error("Lifeline trigger error:",f),e(4,r=!1)}finally{e(2,s=!1)}}}function u(f){let _=0;const N=setInterval(()=>{_<f.length?(e(3,a=[...a,f[_]]),_++,setTimeout(()=>{const m=document.querySelector(".terminal-background");m&&(m.scrollTop=m.scrollHeight)},10)):clearInterval(N)},100)}function l(){e(0,n=!1),setTimeout(()=>{e(4,r=!1),e(3,a=[])},500)}return[n,i,s,a,r,o,l,f=>{f.target===f.currentTarget&&l()}]}class ne extends Q{constructor(t){super(),X(this,t,le,te,Z,{})}}export{ne as default};
