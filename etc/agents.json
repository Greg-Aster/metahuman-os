{
  "$schema": "https://metahuman.dev/schemas/agents.json",
  "version": "1.0.0",
  "description": "Central agent scheduler configuration",
  "globalSettings": {
    "pauseAll": false,
    "quietHours": {
      "enabled": false,
      "start": "22:00",
      "end": "08:00"
    },
    "maxConcurrentAgents": 3,
    "maxConcurrentLLMAgents": 1,
    "maxConcurrentNonLLMAgents": 10,
    "pauseQueueOnActivity": true,
    "activityResumeDelay": 240
  },
  "agents": {
    "reflector": {
      "id": "reflector",
      "enabled": false,
      "type": "interval",
      "priority": "normal",
      "agentPath": "reflector.ts",
      "usesLLM": true,
      "interval": 900,
      "runOnBoot": false,
      "autoRestart": true,
      "maxRetries": 3,
      "comment": "Disabled in favor of activity-based reflections via boredom-maintenance"
    },
    "organizer": {
      "id": "organizer",
      "enabled": true,
      "type": "activity",
      "priority": "high",
      "agentPath": "organizer.ts",
      "usesLLM": true,
      "inactivityThreshold": 600,
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 3,
      "comment": "Runs after 10 minutes of inactivity to avoid competing with user for VRAM"
    },
    "curator": {
      "id": "curator",
      "enabled": true,
      "type": "activity",
      "priority": "normal",
      "agentPath": "curator.ts",
      "usesLLM": true,
      "inactivityThreshold": 600,
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 2,
      "comment": "LLM-based memory curation - processes 5 memories per run after 10 minutes of user inactivity, loops every 10 minutes while inactive (uses 30B model with 5-minute timeout)"
    },
    "night-pipeline": {
      "id": "night-pipeline",
      "enabled": true,
      "type": "time-of-day",
      "priority": "low",
      "agentPath": "night-pipeline.ts",
      "usesLLM": true,
      "schedule": "02:00",
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 1,
      "comment": "Runs nightly processing: dreamer, audio backlog, LoRA training (orchestrated by sleep-service.ts)"
    },
    "boredom-maintenance": {
      "id": "boredom-maintenance",
      "enabled": true,
      "type": "activity",
      "priority": "low",
      "agentPath": "reflector.ts",
      "usesLLM": true,
      "inactivityThreshold": 900,
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 1
    },
    "curiosity": {
      "id": "curiosity",
      "enabled": true,
      "type": "activity",
      "priority": "low",
      "agentPath": "curiosity-service.ts",
      "usesLLM": true,
      "inactivityThreshold": 900,
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 2,
      "comment": "Triggers only after conversation inactivity. Threshold (900s = 15min) controlled by questionIntervalSeconds in curiosity.json."
    },
    "curiosity-researcher": {
      "id": "curiosity-researcher",
      "enabled": true,
      "type": "interval",
      "priority": "low",
      "agentPath": "curiosity-researcher.ts",
      "usesLLM": true,
      "interval": 3600,
      "runOnBoot": false,
      "autoRestart": true,
      "maxRetries": 2,
      "comment": "Performs research on pending curiosity questions by searching memories and generating context notes. Processes one question per cycle."
    },
    "inner-curiosity": {
      "id": "inner-curiosity",
      "enabled": true,
      "type": "interval",
      "priority": "low",
      "agentPath": "inner-curiosity.ts",
      "usesLLM": true,
      "interval": 3600,
      "runOnBoot": false,
      "autoRestart": true,
      "maxRetries": 2,
      "comment": "Generates self-directed questions and answers them using local memory. Saves as inner_dialogue (never shows in chat)."
    },
    "psychoanalyzer": {
      "id": "psychoanalyzer",
      "enabled": true,
      "type": "manual",
      "priority": "normal",
      "agentPath": "psychoanalyzer.ts",
      "usesLLM": true,
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 1,
      "comment": "Manual-run agent that reviews recent memories with psychotherapist model and incrementally updates persona. Run via: ./bin/mh agent run psychoanalyzer"
    },
    "desire-generator": {
      "id": "desire-generator",
      "enabled": true,
      "type": "activity",
      "priority": "low",
      "agentPath": "desire-generator.ts",
      "usesLLM": true,
      "inactivityThreshold": 1800,
      "runOnBoot": false,
      "autoRestart": false,
      "maxRetries": 2,
      "comment": "Agency: Synthesizes desires from persona goals, tasks, memories, and service outputs. Now includes decay, reinforcement, and activation checking (merged from evaluator). Runs after 30 minutes of inactivity."
    },
    "desire-executor": {
      "id": "desire-executor",
      "enabled": true,
      "type": "interval",
      "priority": "normal",
      "agentPath": "desire-executor.ts",
      "usesLLM": true,
      "interval": 300,
      "runOnBoot": false,
      "autoRestart": true,
      "maxRetries": 2,
      "comment": "Agency: Executes approved desires through the operator system. Runs every 5 minutes."
    },
    "desire-planner": {
      "id": "desire-planner",
      "enabled": true,
      "type": "interval",
      "priority": "normal",
      "agentPath": "desire-planner.ts",
      "usesLLM": true,
      "interval": 300,
      "runOnBoot": false,
      "autoRestart": true,
      "maxRetries": 2,
      "comment": "Agency: Generates plans for desires in 'planning' status using cognitive graphs. Runs every 5 minutes."
    }
  }
}
