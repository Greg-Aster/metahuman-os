{
  "version": "2.0",
  "name": "Dual Consciousness Mode (Modular ReAct)",
  "description": "Full operator pipeline with modular scratchpad nodes, semantic memory grounding, and proactive agents",
  "cognitiveMode": "dual",
  "last_modified": "2025-11-19",
  "nodes": [
    {
      "id": 1,
      "type": "cognitive/user_input",
      "pos": [50, 100],
      "size": [180, 60],
      "properties": {
        "message": ""
      },
      "title": "User Input"
    },
    {
      "id": 2,
      "type": "cognitive/session_context",
      "pos": [50, 200],
      "size": [180, 60],
      "title": "Session Context"
    },
    {
      "id": 3,
      "type": "cognitive/system_settings",
      "pos": [50, 300],
      "size": [180, 80],
      "title": "System Settings"
    },
    {
      "id": 4,
      "type": "cognitive/auth_check",
      "pos": [280, 220],
      "size": [180, 60],
      "title": "Auth Check"
    },
    {
      "id": 5,
      "type": "cognitive/operator_eligibility",
      "pos": [280, 340],
      "size": [200, 80],
      "title": "Operator Eligibility"
    },
    {
      "id": 6,
      "type": "cognitive/semantic_search",
      "pos": [520, 100],
      "size": [180, 80],
      "properties": {
        "similarityThreshold": 0.6,
        "maxResults": 8
      },
      "title": "Semantic Search"
    },
    {
      "id": 7,
      "type": "cognitive/conversation_history",
      "pos": [520, 220],
      "size": [200, 80],
      "properties": {
        "mode": "conversation",
        "maxMessages": 20
      },
      "title": "Conversation History"
    },
    {
      "id": 8,
      "type": "cognitive/context_builder",
      "pos": [760, 160],
      "size": [180, 80],
      "properties": {
        "searchDepth": "normal",
        "maxMemories": 8,
        "maxContextChars": 8000
      },
      "title": "Context Builder"
    },
    {
      "id": 9,
      "type": "cognitive/scratchpad_initializer",
      "pos": [1000, 100],
      "size": [200, 60],
      "title": "Scratchpad Initializer"
    },
    {
      "id": 10,
      "type": "cognitive/iteration_counter",
      "pos": [1000, 200],
      "size": [200, 60],
      "properties": {
        "maxIterations": 10
      },
      "title": "Iteration Counter"
    },
    {
      "id": 11,
      "type": "cognitive/react_planner",
      "pos": [1250, 200],
      "size": [200, 80],
      "properties": {
        "model": "persona"
      },
      "title": "ReAct Planner"
    },
    {
      "id": 12,
      "type": "cognitive/skill_executor",
      "pos": [1500, 200],
      "size": [200, 80],
      "title": "Skill Executor"
    },
    {
      "id": 13,
      "type": "cognitive/scratchpad_updater",
      "pos": [1750, 200],
      "size": [200, 80],
      "title": "Scratchpad Updater"
    },
    {
      "id": 14,
      "type": "cognitive/scratchpad_completion_checker",
      "pos": [2000, 200],
      "size": [220, 80],
      "title": "Completion Checker"
    },
    {
      "id": 15,
      "type": "cognitive/conditional_router",
      "pos": [2280, 200],
      "size": [200, 100],
      "title": "Conditional Router"
    },
    {
      "id": 16,
      "type": "cognitive/scratchpad_formatter",
      "pos": [2550, 100],
      "size": [200, 60],
      "properties": {
        "format": "text"
      },
      "title": "Scratchpad Formatter"
    },
    {
      "id": 17,
      "type": "cognitive/response_synthesizer",
      "pos": [2800, 100],
      "size": [200, 80],
      "properties": {
        "model": "persona",
        "style": "default"
      },
      "title": "Response Synthesizer"
    },
    {
      "id": 18,
      "type": "cognitive/cot_stripper",
      "pos": [3050, 100],
      "size": [200, 60],
      "title": "CoT Stripper"
    },
    {
      "id": 19,
      "type": "cognitive/safety_validator",
      "pos": [3300, 100],
      "size": [200, 60],
      "properties": {
        "threshold": 0.75
      },
      "title": "Safety Validator"
    },
    {
      "id": 20,
      "type": "cognitive/response_refiner",
      "pos": [3550, 100],
      "size": [200, 60],
      "title": "Response Refiner"
    },
    {
      "id": 21,
      "type": "cognitive/memory_capture",
      "pos": [3800, 100],
      "size": [180, 80],
      "title": "Memory Capture"
    },
    {
      "id": 22,
      "type": "cognitive/audit_logger",
      "pos": [3800, 220],
      "size": [180, 60],
      "title": "Audit Logger"
    },
    {
      "id": 23,
      "type": "cognitive/stream_writer",
      "pos": [4040, 160],
      "size": [180, 60],
      "title": "Stream Writer"
    }
  ],
  "links": [
    {
      "id": 1,
      "origin_id": 1,
      "origin_slot": 0,
      "target_id": 5,
      "target_slot": 2,
      "type": "string",
      "comment": "User message → Operator Eligibility"
    },
    {
      "id": 2,
      "origin_id": 1,
      "origin_slot": 0,
      "target_id": 6,
      "target_slot": 0,
      "type": "string",
      "comment": "User message → Semantic Search"
    },
    {
      "id": 3,
      "origin_id": 1,
      "origin_slot": 1,
      "target_id": 2,
      "target_slot": 0,
      "type": "string",
      "comment": "Session ID → Session Context"
    },
    {
      "id": 4,
      "origin_id": 1,
      "origin_slot": 1,
      "target_id": 7,
      "target_slot": 0,
      "type": "string",
      "comment": "Session ID → Conversation History"
    },
    {
      "id": 5,
      "origin_id": 2,
      "origin_slot": 1,
      "target_id": 4,
      "target_slot": 0,
      "type": "user",
      "comment": "User context → Auth Check"
    },
    {
      "id": 6,
      "origin_id": 2,
      "origin_slot": 0,
      "target_id": 8,
      "target_slot": 2,
      "type": "array",
      "comment": "Conversation history → Context Builder"
    },
    {
      "id": 7,
      "origin_id": 3,
      "origin_slot": 0,
      "target_id": 5,
      "target_slot": 0,
      "type": "cognitiveMode",
      "comment": "Cognitive mode → Operator Eligibility"
    },
    {
      "id": 8,
      "origin_id": 3,
      "origin_slot": 0,
      "target_id": 8,
      "target_slot": 1,
      "type": "cognitiveMode",
      "comment": "Cognitive mode → Context Builder"
    },
    {
      "id": 9,
      "origin_id": 3,
      "origin_slot": 0,
      "target_id": 21,
      "target_slot": 2,
      "type": "cognitiveMode",
      "comment": "Cognitive mode → Memory Capture"
    },
    {
      "id": 10,
      "origin_id": 4,
      "origin_slot": 0,
      "target_id": 5,
      "target_slot": 1,
      "type": "boolean",
      "comment": "Auth result → Operator Eligibility"
    },
    {
      "id": 11,
      "origin_id": 6,
      "origin_slot": 0,
      "target_id": 8,
      "target_slot": 0,
      "type": "array",
      "comment": "Search results → Context Builder"
    },
    {
      "id": 12,
      "origin_id": 7,
      "origin_slot": 0,
      "target_id": 8,
      "target_slot": 2,
      "type": "array",
      "comment": "Conversation history → Context Builder"
    },
    {
      "id": 13,
      "origin_id": 8,
      "origin_slot": 0,
      "target_id": 9,
      "target_slot": 0,
      "type": "context",
      "comment": "Context → Scratchpad Initializer"
    },
    {
      "id": 14,
      "origin_id": 9,
      "origin_slot": 0,
      "target_id": 10,
      "target_slot": 0,
      "type": "object",
      "comment": "Empty scratchpad → Iteration Counter"
    },
    {
      "id": 15,
      "origin_id": 10,
      "origin_slot": 0,
      "target_id": 11,
      "target_slot": 0,
      "type": "object",
      "comment": "Iteration state → ReAct Planner"
    },
    {
      "id": 16,
      "origin_id": 1,
      "origin_slot": 0,
      "target_id": 11,
      "target_slot": 1,
      "type": "string",
      "comment": "User message → ReAct Planner"
    },
    {
      "id": 17,
      "origin_id": 8,
      "origin_slot": 0,
      "target_id": 11,
      "target_slot": 2,
      "type": "context",
      "comment": "Context → ReAct Planner"
    },
    {
      "id": 18,
      "origin_id": 11,
      "origin_slot": 0,
      "target_id": 12,
      "target_slot": 0,
      "type": "object",
      "comment": "Plan (action) → Skill Executor"
    },
    {
      "id": 19,
      "origin_id": 12,
      "origin_slot": 0,
      "target_id": 13,
      "target_slot": 1,
      "type": "string",
      "comment": "Observation → Scratchpad Updater"
    },
    {
      "id": 20,
      "origin_id": 10,
      "origin_slot": 0,
      "target_id": 13,
      "target_slot": 0,
      "type": "object",
      "comment": "Current scratchpad → Scratchpad Updater"
    },
    {
      "id": 21,
      "origin_id": 11,
      "origin_slot": 0,
      "target_id": 13,
      "target_slot": 2,
      "type": "object",
      "comment": "Thought + Action → Scratchpad Updater"
    },
    {
      "id": 22,
      "origin_id": 13,
      "origin_slot": 0,
      "target_id": 14,
      "target_slot": 0,
      "type": "object",
      "comment": "Updated scratchpad → Completion Checker"
    },
    {
      "id": 23,
      "origin_id": 14,
      "origin_slot": 0,
      "target_id": 15,
      "target_slot": 0,
      "type": "object",
      "comment": "Completion status → Conditional Router"
    },
    {
      "id": 24,
      "origin_id": 14,
      "origin_slot": 0,
      "target_id": 15,
      "target_slot": 1,
      "type": "object",
      "comment": "Scratchpad (exit data) → Router"
    },
    {
      "id": 25,
      "origin_id": 14,
      "origin_slot": 0,
      "target_id": 15,
      "target_slot": 2,
      "type": "object",
      "comment": "Scratchpad (loop data) → Router"
    },
    {
      "id": 26,
      "origin_id": 15,
      "origin_slot": 0,
      "target_id": 16,
      "target_slot": 0,
      "type": "object",
      "comment": "Exit branch → Scratchpad Formatter"
    },
    {
      "id": 27,
      "origin_id": 15,
      "origin_slot": 1,
      "target_id": 10,
      "target_slot": 1,
      "type": "object",
      "comment": "Loop back → Iteration Counter [BACK-EDGE]"
    },
    {
      "id": 28,
      "origin_id": 16,
      "origin_slot": 0,
      "target_id": 17,
      "target_slot": 0,
      "type": "string",
      "comment": "Formatted scratchpad → Response Synthesizer"
    },
    {
      "id": 29,
      "origin_id": 1,
      "origin_slot": 0,
      "target_id": 17,
      "target_slot": 1,
      "type": "string",
      "comment": "User message → Response Synthesizer"
    },
    {
      "id": 30,
      "origin_id": 8,
      "origin_slot": 0,
      "target_id": 17,
      "target_slot": 2,
      "type": "context",
      "comment": "Context → Response Synthesizer"
    },
    {
      "id": 31,
      "origin_id": 17,
      "origin_slot": 0,
      "target_id": 18,
      "target_slot": 0,
      "type": "string",
      "comment": "Response → CoT Stripper"
    },
    {
      "id": 32,
      "origin_id": 18,
      "origin_slot": 0,
      "target_id": 19,
      "target_slot": 0,
      "type": "string",
      "comment": "Cleaned response → Safety Validator"
    },
    {
      "id": 33,
      "origin_id": 19,
      "origin_slot": 0,
      "target_id": 20,
      "target_slot": 0,
      "type": "string",
      "comment": "Validated response → Response Refiner"
    },
    {
      "id": 34,
      "origin_id": 19,
      "origin_slot": 3,
      "target_id": 20,
      "target_slot": 1,
      "type": "object",
      "comment": "Safety metadata → Response Refiner"
    },
    {
      "id": 35,
      "origin_id": 20,
      "origin_slot": 0,
      "target_id": 21,
      "target_slot": 1,
      "type": "string",
      "comment": "Refined response → Memory Capture"
    },
    {
      "id": 36,
      "origin_id": 1,
      "origin_slot": 0,
      "target_id": 21,
      "target_slot": 0,
      "type": "string",
      "comment": "User message → Memory Capture"
    },
    {
      "id": 37,
      "origin_id": 20,
      "origin_slot": 0,
      "target_id": 23,
      "target_slot": 0,
      "type": "string",
      "comment": "Refined response → Stream Writer"
    },
    {
      "id": 38,
      "origin_id": 20,
      "origin_slot": 0,
      "target_id": 22,
      "target_slot": 1,
      "type": "object",
      "comment": "Refined response → Audit Logger"
    }
  ],
  "config": {},
  "extra": {},
  "groups": []
}
